[{"title":"äºŒç»´ç ç”Ÿæˆå¤–é“¾(åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡æ‰«æï¼‰","date":"2018-12-26T12:35:10.000Z","path":"2018/12/26/äºŒç»´ç ç”Ÿæˆå¤–é“¾(åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡æ‰«æï¼‰/","text":"éœ€æ±‚é€šè¿‡äºŒç»´ç ç”Ÿæˆ sketch ä¸‹è½½é“¾æ¥ï¼Œå¯ä»¥æ‰«æä¸‹è½½ é—®é¢˜åˆå§‹æ–¹æ¡ˆï¼šé€šè¿‡äºŒç»´ç ç”Ÿæˆ sketch é™æ€èµ„æºé“¾æ¥ï¼Œç„¶è€Œ ç”¨å®‰å“å¾®ä¿¡æ˜¯ç›´æ¥è§£æçš„ï¼Œä¼šç›´æ¥ä¸‹è½½æ–‡ä»¶ï¼Œç”¨IOS æ‰‹æœºå¾®ä¿¡æ‰«æåä¼šäº§ç”Ÿä¹±ç  æ”¹è¿›æ–¹æ¡ˆé€šè¿‡äºŒç»´ç ç”Ÿæˆä¸€ä¸ªé™æ€ HTML çš„é¡µé¢ï¼Œå¹¶åˆ¤æ–­â€œç”¨æˆ·ä»£ç†â€ ä¿¡æ¯ï¼Œç¡®è®¤æ˜¯å¦æ˜¯å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œä»è€Œå®ç°è¿”å›ä¸åŒçš„æ–‡å­—æ•ˆæœ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Download&lt;/title&gt; &lt;style&gt; * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125; html, body &#123; height: 100%; width: 100%; &#125; #holder &#123; height: 25%; &#125; #content &#123; text-align: center; &#125; #content p &#123; font-size: 20px; line-height: 36px; margin-bottom: 20px; &#125; #link &#123; display: inline-block; width: 80%; color: #2D71DB; text-align: left; font-size: 12px; word-break:break-all; &#125; #link a &#123; color: #2D71DB !important; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=\"holder\"&gt;&lt;/div&gt; &lt;div id=\"content\"&gt; &lt;p&gt; &lt;span id=\"tar\"&gt;è¯·å¤åˆ¶ç½‘å€åä½¿ç”¨æµè§ˆå™¨ä¸‹è½½&lt;/span&gt;&lt;br&gt; æˆ–å‘é€ä¸‹è½½é“¾æ¥è‡³PCç«¯å¾®ä¿¡ä¸‹è½½ &lt;/p&gt; &lt;div id=\"link\"&gt; https://obs-cn-shanghai.yun.pingan.com/xdc/PAT%20Design%20UI%20Kit%20Orange_V1.1.sketch?response-content-disposition=attachment%3Bfilename%3DPAT%2520Design%2520UI%2520Kit%2520Orange_V1.1.sketch &lt;/div&gt; &lt;/div&gt; &lt;script&gt; var ua = navigator.userAgent.toLocaleLowerCase(); var isWeixin = ua.indexOf('micromessenger') != -1; var tar = document.getElementById('tar'); var link = 'https://obs-cn-shanghai.yun.pingan.com/xdc/PAT%20Design%20UI%20Kit%20Orange_V1.1.sketch?response-content-disposition=attachment%3Bfilename%3DPAT%2520Design%2520UI%2520Kit%2520Orange_V1.1.sketch'; var linkWrap = document.getElementById('link'); if (!isWeixin) &#123; tar.innerText = 'å¯ç‚¹å‡»ç›´æ¥ä¸‹è½½'; linkWrap.innerHTML = '&lt;a href=\"' + link + '\"&gt;' + link + '&lt;/a&gt;'; &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; æœ€ç»ˆæ•ˆæœæµè§ˆå™¨ å¾®ä¿¡","tags":[]},{"title":"node å‘½ä»¤","date":"2018-12-25T13:54:33.000Z","path":"2018/12/25/node å‘½ä»¤/","text":"12# æŸ¥è¯¢å…¨å±€æ¨¡å—è·¯å¾„npm root -g # /usr/local/lib/node_modules","tags":[]},{"title":"webpack å·¥ä½œåŸç†","date":"2018-12-24T10:24:23.000Z","path":"2018/12/24/webpack å·¥ä½œåŸç†/","text":"tags: [ç»„ä»¶]categories: åº•å±‚åŸç†åŠåŸºç¡€ æµç¨‹æ¦‚æ‹¬ åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•° å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– Compiler å¯¹è±¡ï¼ŒåŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œé€šè¿‡æ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰å…¥å£æ–‡ä»¶ ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loader å¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç† å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡","tags":[]},{"title":"mobx","date":"2018-12-23T02:45:00.000Z","path":"2018/12/23/mobx/","text":"mobxçŠ¶æ€ç®¡ç†å·¥å…· VS Redux å¼€å‘éš¾åº¦ä½ï¼šreduxå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼›mobxå“åº”å¼ç¼–ç¨‹é£æ ¼ï¼ŒåŒæ—¶é›†æˆåº¦é«˜ï¼Œé¿å…å¼•å…¥ä¼—å¤šç¬¬ä¸‰æ–¹åº“ å¼€å‘ä»£ç é‡å°‘ï¼šreduxæœ‰reducerç­‰ä¼—å¤šæ¦‚å¿µï¼Œè€Œmobxåªè¦åœ¨storeä¸­æ›´æ–°å³å¯ æ¸²æŸ“æ€§èƒ½å¥½ï¼šreduxé€šè¿‡shouldComponentUpdateä¼˜åŒ–ï¼Œä½†æ˜¯å½“åº”ç”¨å¤§åˆ°ä¸€å®šç¨‹åº¦ï¼Œå°±æ¯”è¾ƒéš¾å®ç°ï¼›mobxç²¾ç¡®çš„æŒ‡å‡ºäº†å“ªäº›éœ€è¦é‡å¤æ¸²æŸ“ï¼Œå°†re-renderé™åˆ¶åœ¨æœ€å°èŒƒå›´ä¹‹å†… mobxæ ¸å¿ƒæ€æƒ³ çŠ¶æ€å˜åŒ–å¼•èµ·çš„å‰¯ä½œç”¨åº”è¯¥è¢«è‡ªåŠ¨è§¦å‘ æ•°æ®æµï¼šç±»reduxå•å‘æ•°æ®æµæ¨¡å¼ï¼ˆaction =ã€‹ State =ã€‰Reactionï¼‰ åŸºç¡€çŸ¥è¯†å®ç°ç»§æ‰¿å’Œå¤šæ€1234567mkdir mobx_testcd mobx_testmkdir srctouch src/index.jsnpm init -ytouch webpack.config.jsyarn add webpack webpack-cli babel-core babel-preset-env babel-loader -D é…ç½®webpack.config.js 1234567891011121314151617181920212223const path = require('path')module.exports = &#123; mode: 'development', // 'production' entry: path.resolve(__dirname, 'src/index.js'), output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'main.js', &#125;, module: &#123; rules: [&#123; test: /\\.js$/, exclude: /node_modules/, use: &#123; loader: 'babel-loader', options: &#123; presets: ['env'], &#125; &#125; &#125;] &#125;, devtool: 'inline-source-map', // æ–¹ä¾¿è°ƒè¯•&#125; é…ç½®package.json 123\"scripts\": &#123; \"start\": \"webpack -w\" // -wï¼šjsæ–‡ä»¶æ›´æ”¹è‡ªåŠ¨æ‰§è¡Œç¼–è¯‘ &#125;, ç¼–å†™index.html123456789&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src= \"src/index.js\" type=\"text/javascript\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ç¼–å†™src/index.js ç”¨åŸç”Ÿå®ç°ç»§æ‰¿å’Œå¤šæ€ ç»§æ‰¿ï¼šDog.prototype.proto === Animal.prototype å¤šæ€ï¼šé‡å†™Dogçš„nameå±æ€§ Dogçš„åŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°åº”è¯¥æŒ‡å‘Dogè€Œä¸æ˜¯Animal 12345678910111213141516171819202122232425262728293031323334353637function Animal() &#123; // body...&#125;function Dog() &#123; // body...&#125;Object.defineProperties(Animal.prototype, &#123; name: &#123; value() &#123; return 'Animal' &#125; &#125;, say: &#123; value() &#123; return `I'm $&#123;this.name()&#125;` &#125; &#125;&#125;)// dog instanceOf Animal === true// dog.__proto__.__proto__ === Animal.prototype// dog.__proto__ === Dog.prototype// Dog.prototype.__proto__ === Animal.prototypeDog.prototype = Object.create(Animal.prototype, &#123; constructor: &#123; value: Dog, enumerable: false, &#125;, name: &#123; value() &#123; return `Dog` &#125; &#125;&#125;)// document.write(new Dog() instanceOf Animal())// document.write(new Dog().say())document.write(Dog.prototype.constructor) é€šè¿‡ES6æ¥å®ç° 12345678910111213141516class Animal &#123; name() &#123; return 'Animal' &#125; say() &#123; return `I'm $&#123;this.name()&#125;` &#125;&#125;class Dog extends Animal &#123; name() &#123; return 'Dog' &#125;&#125;console.log(new Dog() instanceOf Animal å®‰è£…babelæ’ä»¶ï¼Œä½¿å…¶æ”¯æŒåœ¨ç±»ä¸­å£°æ˜æˆå‘˜å˜é‡yarn add babel-plugin-transform-class-properties -Dé…ç½®webpack.config.jsmodule.rulesä¸‹é¢çš„use.plugins: [â€˜transform-class-propertiesâ€™] decoratorDecoratoræ˜¯åœ¨å£°æ˜é˜¶æ®µå®ç°ç±»ä¸ç±»æˆå‘˜æ³¨è§£çš„ä¸€ç§è¯­æ³•.æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šçš„å‡½æ•°ã€‚ å®‰è£…babelæ’ä»¶yarn add babel-plugin-transform-decorators-legacy -Dé…ç½®webpack.config.jsmodule.rulesä¸‹é¢çš„use.plugins: [â€˜transform-decorators-legacyâ€™] mobx å¸¸ç”¨ APIå®‰è£…mobxä¾èµ–ï¼šyarn add mobx observable(å¯è§‚å¯Ÿçš„æ•°æ®)æ˜¯ä¸€ç§è®©æ•°æ®çš„å˜åŒ–å¯ä»¥è¢«è§‚å¯Ÿçš„æ–¹æ³• å“ªäº›æ•°æ®å¯ä»¥è¢«è§‚å¯Ÿï¼š åŸå§‹ç±»å‹ï¼šString | Number | Boolean | Symbol å¯¹è±¡ æ•°ç»„ PSï¼šä¸€å®šè¦æ£€æŸ¥æ•°ç»„çš„é•¿åº¦ä»¥é¿å…è¶Šç•Œè®¿é—®ï¼Œåœ¨mobxä¸­è¶Šç•Œçš„æ•°ç»„å€¼æ˜¯ä¸è¢«è§‚å¯Ÿçš„.åŒæ ·è¦æ£€æŸ¥å¯¹è±¡æ˜¯å¦å«æœ‰å±æ€§hasOwnProperty 1234567891011import &#123; observable &#125; from 'mobx';class Store &#123; @observable array = [] @observable obj = &#123;&#125; @observable map = new Map() @observable string = 'hello' @observable number = 20 @observable bool = false&#125; å¯¹å¯è§‚å¯Ÿçš„æ•°æ®ä½œå‡ºååº”æ–¹å¼ï¼š computed observe() get() autorun when reaction mobx å®ç° todoListyarn add mobx-react react react-dom prop-typesyarn add babel-preset-react é…ç½®webpack.config.jspresets: [[&#39;env&#39;, &#39;react&#39;]], èµ„æºmobx-state-tree","tags":[]},{"title":"å•å…ƒæµ‹è¯•","date":"2018-12-23T02:25:20.000Z","path":"2018/12/23/å•å…ƒæµ‹è¯•/","text":"å‰è¨€å‰ç«¯å•æµ‹æ˜¯ä¸€ä¸ªå¯æœ‰å¯æ— çš„ä¸œè¥¿ï¼Ÿ å†™å•æµ‹æ¯”è¾ƒè´¹æ—¶ï¼Œæœ‰è¿™ä¸ªæ—¶é—´ä¸å¦‚å¤šåšå‡ ä¸ªéœ€æ±‚ï¼ æµ‹è¯•åœ¨éªŒæ”¶çš„æ—¶å€™å¯¹é¡µé¢çš„åŠŸèƒ½éƒ½ä¼šæ“ä½œä¸€éï¼Œå†™å•æµ‹ç›¸å½“äºæ— ç”¨åŠŸ åç«¯æä¾›ç»™å‰ç«¯çš„æ¥å£éœ€è¦ä¿è¯è´¨é‡ï¼Œå› æ­¤éœ€è¦åšå•æµ‹ï¼Œä½†å‰ç«¯å¾ˆå°‘éœ€è¦æä¾›æ¥å£ç»™å…¶ä»–äººã€‚ ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å•æµ‹åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¦‚æœå…¬å¸ä¸šåŠ¡ä¸å¤æ‚ï¼Œæˆ‘æ˜¯è®¤åŒå®Œå…¨æ²¡æœ‰å¿…è¦åšå•æµ‹çš„è§‚ç‚¹çš„ã€‚ä½†å¦‚æœæ¶‰åŠåˆ°äº†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼Œåˆ™è¦å¥½å¥½è€ƒè™‘ä¸€ä¸‹ï¼š ä¸šåŠ¡æ¯”è¾ƒå¤æ‚ï¼Œå‰ç«¯å‚ä¸çš„äººå‘˜è¶…è¿‡3äºº å…¬å¸éå¸¸æ³¨é‡ä»£ç çš„è´¨é‡ï¼Œæƒ³å°½ä¸€åˆ‡åŠæ³•æœç»çº¿ä¸Šå‡ºbug æ˜¯è·¨é¡¹ç›®ç»„ä»¶çš„æä¾›æ–¹ åœ¨åšä¸€ä¸ªå¼€æºé¡¹ç›® ç»„ä»¶åŒ–å•æµ‹çš„å¿…è¦æ€§ï¼š è™½ç„¶å•å…ƒæµ‹è¯•éœ€è¦èŠ±è´¹æ—¶é—´ä¸”æ‰€èŠ±æ—¶é—´ä¼šæ¯”æ¨¡å—æœ¬èº«æ›´å¤šï¼Œä½†æ˜¯æ€§ä»·æ¯”å´æ˜¯éšç€ä½¿ç”¨çš„æ¬¡æ•°è¶Šæ¥è¶Šé«˜ åœ¨å·¥ä½œä¸­æˆ–å¼€æºç¤¾åŒºä¸­ï¼Œæˆ‘ä»¬å†™åº“çš„ç›®çš„éƒ½æ˜¯ä¸ºäº†èƒ½æ›´å¥½çš„ä¸ºåˆ«äººä½¿ç”¨ï¼Œè¿™ä¸ªæ—¶å€™å•å…ƒæµ‹è¯•åº”è¯¥æ˜¯å¿…é¡»çš„ å¥½çš„å•å…ƒæµ‹è¯•å¯ä»¥ä½œä¸ºä¼˜ç§€çš„æ–‡æ¡£ï¼Œå¹¶ä¸”ä¿è¯æ¨¡å—è¡Œä¸ºçš„ç¡®å®šæ€§ã€‚ UIåº“å¹¶ä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥åªå†™å•å…ƒæµ‹è¯•è¶³å¤Ÿ æµ‹å“ªäº›æ–¹é¢ æ¨¡å—åº”è¢«æ¸²æŸ“çš„DOMæ ‘æ˜¯å¦æ­£ç¡® æ¨¡å—çš„å±æ€§ä¼ é€’æ˜¯å¦æ­£ç¡®,(å±æ€§æ˜¯æ–¹æ³•,åˆ™æ˜¯å¦è¢«æ­£ç¡®è°ƒç”¨;å±æ€§æ˜¯å¸ƒå°”å€¼æˆ–å¯¹è±¡,åˆ™æ˜¯å¦è¢«æ­£ç¡®ä¼ é€’ä¸”è¾¾åˆ°é¢„æœŸçš„ç›®çš„ï¼‰ æ¨¡å—å†…çš„å„ä¸ªè¡Œä¸ºæ˜¯å¦æ­£ç¡® ç”šè‡³å¯ä»¥æµ‹è¯•å„ä¸ªDOMèŠ‚ç‚¹æ˜¯å¦è¢«åº”ç”¨é¢„æœŸçš„classï¼Œä¸”è¿™äº›classæ˜¯ä¸æ˜¯é¢„æœŸçš„æ ·å¼ æµ‹è¯•å·¥å…· Jestæ˜¯Facebookå¼€å‘çš„ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œå®ƒé›†æˆäº†æµ‹è¯•æ‰§è¡Œå™¨ã€æ–­è¨€åº“ã€spyã€mockã€snapshotå’Œæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šç­‰åŠŸèƒ½ã€‚Reacté¡¹ç›®æœ¬èº«ä¹Ÿæ˜¯ä½¿ç”¨Jestè¿›è¡Œå•æµ‹çš„ï¼Œå› æ­¤å®ƒä»¬ä¿©çš„å¥‘åˆåº¦ç›¸å½“é«˜ã€‚ Enzymeæ˜¯ç”±airbnbå¼€å‘çš„Reactå•æµ‹å·¥å…·ã€‚å®ƒæ‰©å±•äº†Reactçš„TestUtilså¹¶é€šè¿‡æ”¯æŒç±»ä¼¼jQueryçš„findè¯­æ³•å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹renderå‡ºæ¥çš„ç»“æœåšå„ç§æ–­è¨€ã€‚ \bJEST è·‘ä¸€ä¸ªç®€å•çš„æµ‹è¯•ç”¨ä¾‹ æŠ€æœ¯æ ˆï¼šReact@16 + webpack@3 ç¼–å†™æµ‹è¯•ç”¨ä¾‹æµç¨‹ï¼š Arrangeï¼ˆå‡†å¤‡ï¼‰ï¼šè®¾ç½®æµ‹è¯•åœºæ™¯ï¼Œå‡†å¤‡æµ‹è¯•æ•°æ® Actï¼ˆæ‰§è¡Œï¼‰ï¼šè°ƒç”¨è¢«æµ‹è¯•ä»£ç  Assertï¼ˆæ–­è¨€ï¼‰ï¼šéªŒè¯è¢«æµ‹ä»£ç æ˜¯å¦ä¸é¢„æœŸç›¸åŒ å®‰è£…Jestå¹¶è®©å…¶æ”¯æŒES6è¯­æ³•1npm install --save-dev jest jest-cli babel-jest # babel-jestçš„ä½œç”¨æ˜¯è®©å•æµ‹ä»£ç æ”¯æŒES6 \bæ–°å»ºå•æµ‹æ–‡ä»¶å¤¹å¹¶æ–°å»ºä¸€ä¸ªå•æµ‹æ–‡ä»¶1.åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º__jest__æ–‡ä»¶å¤¹å’Œ\bcomponentsæ–‡ä»¶å¤¹ __jest__ __mocks__ __tests__ mudules // å­˜æ”¾å„ä¸ªæ¨¡å—çš„å•æµ‹ä»£ç  utils // å¯¹ä¸€äº›å…¬ç”¨å‡½æ•°å†™çš„æµ‹è¯•ä»£ç  sum.test.js // å•æµ‹ç”¨ä¾‹ components Math.js // è¢«æµ‹è¯•å¯¹è±¡ 2.æ–°å»ºå•æµ‹æ–‡ä»¶ 123456// __jest__/__test__/sum.test.jsconst sum = require('../../../components/Math');test('adds 1 + 2 to equal 3', () =&gt; &#123; expect(sum(1, 2)).toBe(3);&#125;); 1234function sum(a, b) &#123; return a + b;&#125;module.exports = sum; é…ç½®package.json1234567891011121314151617\"jest\": &#123; // moduleFileExtensionså¯¹åº”webpackä¸­çš„extensionsï¼› \"moduleFileExtensions\": [ \"js\", \"jsx\" ], // moduleDirectorieså¯¹åº”webpackä¸­çš„modulesDirectoriesï¼› \"moduleDirectories\": [ \"node_modules\" ], // moduleNameMapperå¯¹åº”webpackä¸­çš„alias \"moduleNameMapper\": &#123; \"\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$\": \"&lt;rootDir&gt;/__jest__/__mocks__/fileMock.js\", \"\\\\.(css|scss)$\": \"identity-obj-proxy\", // å¯¹äºcssç­‰æ ·å¼æ–‡ä»¶ï¼Œä½¿ç”¨identity-obj-proxyæ¥mockï¼Œå®ƒä¼šåœ¨å¼•ç”¨åˆ°classçš„åœ°æ–¹ç›´æ¥è¿”å›classçš„ç±»å \"^cpn(.*)$\": \"&lt;rootDir&gt;/src/components$1\" //è¿™é‡Œçš„&lt;rootDir&gt;å¯¹åº”æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ã€‚ &#125; &#125; åŒæ—¶æ·»åŠ ä»¥ä¸‹scriptï¼š 123\"scripts\": &#123; \"test\": \"jest __jest__/__tests__\"&#125; è¿è¡Œæµ‹è¯•è„šæœ¬åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼šnpm run testå‡ºç°ä»¥ä¸‹ç»“æœï¼Œåˆ™è¯´æ˜Jestå®‰è£…æˆåŠŸå¹¶é€šè¿‡ç¬¬ä¸€ä¸ªæµ‹è¯•!ğŸ‘ create-react-app create-react-app è‡ªå¸¦ Jest åº“ Jest ä¼šè‡ªåŠ¨åœ¨å½“å‰ç›®å½•ä¸‹å¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„JSæ–‡ä»¶ä½œä¸ºå•æµ‹ä»£ç æ¥æ‰§è¡Œ æ–‡ä»¶åä»¥ .test.js ä¸ºåç¼€çš„ä»£ç æ–‡ä»¶ å­˜äº _test_ ç›®å½•ä¸‹çš„ä»£ç æ–‡ä»¶ ç›®å½•ç»“æ„ åœ¨æ ¹ç›®å½•åˆ›å»ºtestç›®å½•ï¼Œå•æµ‹æ–‡ä»¶ä»¥ .test.js ä¸ºåç¼€ åœ¨æ¯ä¸ªç»„ä»¶ç›®å½•ä¸‹åˆ›å»º _test_ å­ç›®å½• è¯­æ³•æµ‹è¯•ç”¨ä¾‹it()1234// å®ƒåœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹æ˜¯ä»€ä¹ˆè¡Œä¸ºit(&apos;should return object when invoked&apos;, () =&gt; &#123; // å¢åŠ æ–­è¨€è¯­å¥&#125;) æµ‹è¯•å¥—ä»¶ describe() æµ‹è¯•å¥—ä»¶ = æµ‹è¯•ç”¨ä¾‹ + æµ‹è¯•å¥—ä»¶ ä»å¤–åˆ°é‡Œé¡ºåºæ‰§è¡Œ é‡ç”¨å…±åŒçš„ç¯å¢ƒè®¾ç½® 123456describe('action', () =&gt; &#123; it('should return object when invoked', () =&gt; &#123; // å¢åŠ æ–­è¨€è¯­å¥ &#125;) // å¯ä»¥æœ‰æ›´å¤šçš„itå‡½æ•°è°ƒç”¨&#125;) é’©å­å‡½æ•° beforeAll: åœ¨å¼€å§‹æµ‹è¯•å¥—ä»¶å¼€å§‹ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ afterAll: åœ¨ç»“æŸæµ‹è¯•å¥—ä»¶ä¸­æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä¹‹åæ‰§è¡Œä¸€æ¬¡ beforeEach: æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åœ¨æ‰§è¡Œä¹‹å‰éƒ½æ‰§è¡Œä¸€æ¬¡ afterEach: æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åœ¨æ‰§è¡Œä¹‹åéƒ½æ‰§è¡Œä¸€æ¬¡","tags":[]},{"title":"é¡¹ç›®å¯åŠ¨æµç¨‹","date":"2018-12-23T02:19:17.000Z","path":"2018/12/23/é¡¹ç›®å¯åŠ¨æµç¨‹/","text":"å‰è¨€å‡è®¾æ¥åˆ°ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œé¦–å…ˆè€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ ä½¿ç”¨ä½•ç§ç±»åº“ï¼Œå¦‚ä½•è€ƒè™‘æŠ€æœ¯é€‰å‹ï¼Ÿåˆ†åˆ«ä»å“ªå‡ ä¸ªç»´åº¦å»è€ƒè™‘ï¼Ÿ é¡¹ç›®ç›®å½•å¦‚ä½•ç»„ç»‡(æŒ‰è§’è‰²è¿˜æ˜¯æŒ‰åŠŸèƒ½) devå’Œprodä¸åŒç¯å¢ƒå¦‚ä½•é…ç½® å›¢é˜Ÿå†…éƒ¨å…¶ä»–ç³»ç»Ÿéƒ½ç”¨äº†ä»€ä¹ˆ å¤šäººåˆä½œå¼€å‘ï¼Œå›¢é˜Ÿç¯å¢ƒå’Œä»£ç è§„èŒƒé—®é¢˜å¦‚ä½•è§£å†³?æ˜¯å¦éœ€è¦ç»Ÿä¸€ç¼–è¾‘å™¨ æ˜¯å¦éœ€è¦å‡ºæ–‡æ¡£ï¼Œæ•™å…¶ä»–å›¢é˜Ÿæˆå‘˜é…ç½®ç¯å¢ƒã€å®‰è£…ä¾èµ–ç­‰ å¦‚æœæ¯ä¸ªé¡¹ç›®çš†æ˜¯å¦‚æ­¤ï¼Œè¯·è€ƒè™‘æ•ˆç‡ï¼Ÿ(è„šæ‰‹æ¶ã€cli) å¦‚ä½•ç¨³å®šé«˜æ•ˆçš„æ¨åŠ¨é¡¹ç›®ï¼Œè¯·è€ƒè™‘æˆæœ¬æ”¶ç›Šæ¯”ï¼Œå¹¶è€ƒè™‘é¡¹ç›®æ‰€éœ€çš„äººåŠ›ã€ç‰©åŠ›çš„å„é¡¹æ”¯æŒ æŠ€æœ¯æ¡†æ¶é€‰å‹è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š æ¡†æ¶è‡ªèº«æˆç†Ÿåº¦ï¼Ÿ æ¡†æ¶ç”Ÿæ€åœˆ æ¡†æ¶ä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ å›¢é˜Ÿï¼šå­¦ä¹ æˆæœ¬ é¡¹ç›®å‘¨æœŸï¼š é¡¹ç›®ç»´æŠ¤æˆæœ¬ ç»“è®ºï¼šæœ€ç»ˆå†³å®šåœ¨ä¸­å°å‹é¡¹ç›®ä¸­ä½¿ç”¨Vueï¼Œè€Œå¤§ä¸­å‹é¡¹ç›®ä¸­ä½¿ç”¨Reactï¼Œè€Œå¯¹äºé‡‘èç§‘æŠ€å…¬å¸è€Œè¨€ï¼Œä¸­å°å¤æ‚é¡¹ç›®è¾ƒå¤šï¼Œä»è€Œé€‰å®šä»¥Reactä¸ºä¸»ï¼Œå½“é¡¹ç›®å‘¨æœŸçŸ­ä¸”äº¤ä»˜å‹åŠ›å¤§æ—¶ä»é‡‡ç”¨ä½¿ç”¨Vueçš„ç­–ç•¥ã€‚ é¡¹ç›®ç›®å½•æŒ‰è§’è‰²12345678reducers/ #åŒ…å«æ‰€æœ‰Redux çš„reducer; todoReducer.jsactions/ #åŒ…å«æ‰€æœ‰action æ„é€ å‡½æ•°ï¼› todoActions.jscomponents/ #åŒ…å«æ‰€æœ‰çš„å‚»ç“œç»„ä»¶ï¼› todoList.jscontainers/ #åŒ…å«æ‰€æœ‰çš„å®¹å™¨ç»„ä»¶ã€‚ todoListContainer.js â€œæŒ‰ç…§è§’è‰²ç»„ç»‡â€çš„æ–¹å¼éå¸¸ä¸åˆ©äºåº”ç”¨çš„æ‰©å±•ã€‚å½“ä½ éœ€è¦å¯¹ä¸€ä¸ªåŠŸèƒ½è¿›è¡Œä¿®æ”¹ï¼Œè™½ç„¶è¿™ä¸ªåŠŸèƒ½åªæ˜¯é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“çš„åº”ç”¨æ¨¡å—ï¼Œä½†æ˜¯å´ç‰µæ‰¯åˆ°å¤šä¸ªè§’è‰²ï¼Œè€Œä¸å¾—ä¸åœ¨å¤šä¸ªç›®å½•é—´è·³è½¬ã€‚ æŒ‰åŠŸèƒ½12345678910111213141516todoList/ actions.js #å®šä¹‰action ç±»å‹ï¼› actionTypes.js #å®šä¹‰action æ„é€ å‡½æ•°ï¼Œå†³å®šäº†è¿™ä¸ªåŠŸèƒ½æ¨¡å—å¯ä»¥æ¥å—çš„åŠ¨ä½œï¼› index.js #å¯¼å‡ºè¯¥ç»„ä»¶éœ€è¦å¯¼å‡ºçš„æ‰€æœ‰å†…å®¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹éƒ½åŒ…å«ä¸€ä¸ªindexæ–‡ä»¶ä¹Ÿæœ‰åˆ©äºç›´æ¥å¼•ç”¨æ–‡ä»¶å¤¹åç§°å°±å¯ä»¥å¯¼å‡ºæ¨¡å— reducer.jS #å®šä¹‰è¿™ä¸ªåŠŸèƒ½æ¨¡å—å¦‚ä½•å¯¹åº”actions.js ä¸­å®šä¹‰çš„åŠ¨ä½œï¼› views/ #åŒ…å«è¿™ä¸ªåŠŸèƒ½æ¨¡å—ä¸­æ‰€æœ‰çš„React ç»„ä»¶ component.js #å‚»ç“œç»„ä»¶ container.js #å®¹å™¨ç»„ä»¶filter/ actions.js actionTypes.js index.js reducer.js views/ component.js container.js æ¯ä¸ªåŠŸèƒ½æ¨¡å—å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œæ¯ä¸ªç›®å½•ä¸‹åŒ…å«åŒæ ·åå­—çš„è§’è‰²æ–‡ä»¶ã€‚å½“éœ€è¦ä¿®æ”¹æŸä¸ªåŠŸèƒ½æ¨¡å—çš„ä»£ç æ—¶ï¼Œåªè¦å…³æ³¨å¯¹åº”çš„ç›®å½•å³å¯ï¼Œæ‰€æœ‰éœ€è¦ä¿®æ”¹çš„ä»£ç æ–‡ä»¶éƒ½èƒ½åœ¨å½“å‰ç›®å½•ä¸‹æ‰¾åˆ°ã€‚ è„šæ‰‹æ¶ä¸ºä»€ä¹ˆä¸ç”¨create-react-app ä¸æ»¡è¶³å½“å‰å›¢é˜Ÿçš„éœ€æ±‚ ä¸å¯ä»¥å®šåˆ¶åŒ–ï¼Œéœ€è¦äºŒæ¬¡ä¿®æ”¹é…ç½® æ²¡æœ‰å¼€å‘ç»„ä»¶çš„èƒ½åŠ› ç»“è®ºï¼šä¸ºä»€ä¹ˆä¸è‡ªå·±å¼€å‘ä¸€ä¸ªcliå·¥å…·å‘¢ï¼Ÿï¼Ÿ yeoman npm install yo -g æŠŠå…¨å±€ç¯å¢ƒnode_modulesåŒ…ä¸‹é¢çš„æ¨¡æ¿å·¥ç¨‹ copy åˆ°ä½ çš„å½“å‰é¡¹ç›®è·¯å¾„æ–‡ä»¶å¤¹ä¸‹","tags":[]},{"title":"æœºå™¨å­¦ä¹ ","date":"2018-12-23T01:50:20.000Z","path":"2018/12/23/æœºå™¨å­¦ä¹ /","text":"Python å»–é›ªå³° Python æ•™ç¨‹ Python å…¥é—¨æ•™ç¨‹ Tensorflow Tensorflowä¸­æ–‡æ–‡æ¡£ èµ„æº æœºå™¨å­¦ä¹ å¹²è´§Top10ï¼Œé™„é¡¹ç›®åœ°å€ æœºå™¨å­¦ä¹ é€Ÿæˆè¯¾ç¨‹","tags":[]},{"title":"å¼€æºç®¡ç†","date":"2018-12-23T01:45:43.000Z","path":"2018/12/23/å¼€æºç®¡ç†/","text":"ç£å¯¼å°ç»„ æ ¸å¿ƒåŠŸèƒ½çš„ç›‘ç£æŠŠæ§ï¼Œ æ•´ä½“åŠŸèƒ½çš„è§„åˆ’è®¾è®¡ï¼Œ ç£å¯¼æ–°åŠŸèƒ½çš„å¼•å…¥ï¼Œ åˆ¶å®šå¼€å‘è®¡åˆ’ï¼Œ æäº¤ä»£ç  Review ç¼–è¯‘å°ç»„ ä»£ç æ–‡ä»¶ç¼–è¯‘åˆ°ä¸åŒç«¯çš„å®ç°ï¼Œ å¾®ä¿¡å°ç¨‹åºç«¯ JSX ç¼–è¯‘ï¼Œ å¿«åº”ç”¨ç«¯ JSX ç¼–è¯‘ç­‰ ESLint æ’ä»¶ç»´æŠ¤ å¼€å‘å·¥å…·å°ç»„è´Ÿè´£ cli å·¥å…·çš„å¼€å‘ä¸ä¼˜åŒ–å·¥ä½œ ç»„ä»¶åº“å°ç»„ æ ‡å‡†ç»„ä»¶åº“çš„è§„èŒƒåˆ¶å®šã€ æ–‡æ¡£ç¼–å†™ï¼Œ æ ‡å‡†ç»„ä»¶åº“åœ¨ä¸åŒç«¯çš„å®ç°ï¼Œ æ ‡å‡†ç»„ä»¶åº“å®˜ç½‘å»ºè®¾ è¿è¡Œæ¡†æ¶å°ç»„ è´Ÿè´£ä¸åŒç«¯è¿è¡Œæ¡†æ¶çš„å®ç° ç«¯èƒ½åŠ› API å°ç»„ ç«¯èƒ½åŠ› API çš„è§„èŒƒåˆ¶å®šã€ ç«¯èƒ½åŠ› API çš„æ–‡æ¡£ç¼–å†™ï¼Œ ç«¯èƒ½åŠ› API åœ¨ä¸åŒç«¯çš„å®ç° UI åº“å°ç»„ è´Ÿè´£ Dbox UI åº“çš„å®ç° ç¤¾åŒºç»´æŠ¤å°ç»„ ç¤¾åŒºå†…ç­”ç–‘è§£æƒ‘ï¼Œ GitHub ISSUE ç»´æŠ¤ï¼Œ é—®é¢˜æœé›†ï¼Œ ç¤¾åŒºé¡¹ç›®å‘èµ·ä¸å¼•å¯¼ï¼Œ ç¬¬ä¸‰æ–¹åº“é€‚é…ä¸ç”Ÿæ€ç®¡ç†ç­‰","tags":[]},{"title":"å¦‚ä½•åšä¸€ä¸ª Github å¼€æºé¡¹ç›®","date":"2018-12-23T01:44:09.000Z","path":"2018/12/23/å¦‚ä½•åšä¸€ä¸ª Github å¼€æºé¡¹ç›®/","text":"é€‚åˆå¼€æº cacheå·¥å…·(ç¼“å­˜å·¥å…·ï¼Œæ•´åˆlocalStorage,ä»¥åŠåˆç†çš„å†…å­˜é”€æ¯æœºåˆ¶) query2json,è§£æurlå‚æ•°ä¸ºjsonæ ¼å¼ ç§»åŠ¨ç«¯æ‰“å°console.log,æ–¹ä¾¿ç§»åŠ¨ç«¯è¾“å‡ºå†…å®¹ ç‰ˆæœ¬å· ä¸€çº§ï¼šé‡æ„ç‰ˆæœ¬ äºŒçº§ï¼šé‡å¤§åŠŸèƒ½æ”¹è¿› ä¸‰çº§ï¼šå°å‡çº§æˆ–è€…bugä¿®å¤ 0.X.X: éæ­£å¼ç‰ˆæœ¬ ç›®å½•ç»“æ„ src: æºä»£ç  release: å‘å¸ƒç»“æœ testï¼šå•å…ƒæµ‹è¯•ç”¨ä¾‹ doc: æ–‡æ¡£ exampleï¼šå®ä¾‹ Readme äº§å“ç®€ä»‹(æ­¤å¤„è¦çªå‡ºç‰¹ç‚¹ï¼Œæ‰“å·®å¼‚åŒ–ç«äº‰) äº§å“å®‰è£…å’Œä¸‹è½½ å¿«é€Ÿä½¿ç”¨(è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£æˆ–è€…äºŒæ¬¡å¼€å‘æ–‡æ¡£ï¼Œå¤–é“¾å³å¯) äº¤æµæé—®åŒº(QQã€å¾®ä¿¡ç¾¤) å…³äºä½œè€…(åšå®¢é“¾æ¥å’Œæ”¶æ¬¾äºŒç»´ç ) æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹1234npm i gitbook-cli -gSUMMARY.mdgitbook initgitbook build é…ç½®.gitignoreåŠ ä¸Š_book å‘å¸ƒnpmæ¨¡å—123npm add usernpm loginnpm publish . ä¸èƒ½é‡å å‡çº§ æ–°å»ºåˆ†æ”¯ ä¿®æ”¹ç‰ˆæœ¬å· ä¿®æ”¹ä»£ç ã€æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹ è‡ªæµ‹ å°†æ–°çš„åˆ†æ”¯æäº¤åˆ°è¿œç¨‹ å†æ¬¡ç¡®è®¤ç‰ˆæœ¬å·ï¼Œå› ä¸ºç‰ˆæœ¬å·éå¸¸é‡è¦ å°†æ–°çš„åˆ†æ”¯åˆå¹¶åˆ°masterï¼Œå¹¶æäº¤masteråˆ°è¿œç¨‹ åˆ›å»ºtagå¹¶æäº¤åˆ°è¿œç¨‹ æäº¤åˆ°npm å®£ä¼ ä¸€ä¸ªå…¬å¸çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œä¸€æ˜¯æŠ€æœ¯ï¼ŒäºŒæ˜¯è¥é”€ã€‚ åšå®¢å›´ç»•äº§å“åŠŸèƒ½ç¬¬ä¸€ç±»æŠ€æœ¯å¹²è´§æ–‡ç« ç¬¬äºŒç±»äº§å“ä»‹ç»ä»¥ç¬¬ä¸€ç±»ä¸ºä¸» å¦‚ä½• å‘ é¢„é˜² æ€»ç»“ åŠå¹´è®° å›ç­”ç›¸å…³çš„é—®é¢˜ çŸ¥ä¹ sf.gg stackoverflow å­—æ•°åªèƒ½å¤šä¸èƒ½å°‘ï¼Œæœ€å¥½å›¾æ–‡å¹¶èŒ‚ï¼Œè¿˜èƒ½è®²ä¸ªç¬‘è¯ å›ç­”è¦ä¸“ä¸šï¼Œç»è¿‡äº²è‡ªæµ‹è¯•ï¼Œä¸è¦æƒ³å½“ç„¶çš„ççŒœ å›ç­”é—®é¢˜çš„æœ€åï¼Œé¡ºä¾¿æ¨å¹¿è‡ªå·±çš„äº§å“ éœ€æ±‚é‡‡çº³ å¾ˆå¤šç”¨æˆ·éƒ½æè¿‡è¿™ä¸ªéœ€æ±‚ï¼Œå³å¤§ä¼—éœ€æ±‚ è‡ªå·±åˆ¤æ–­è¿™ä¸ªéœ€æ±‚å¯¹å¤§éƒ¨åˆ†ç”¨æˆ·éƒ½æœ‰ç”¨ è¯¥éœ€æ±‚ç¬¦åˆäº§å“å®šä½ä»¥åŠäº§å“å‘å±•çš„æ–¹å‘ è¯¥éœ€æ±‚èƒ½æŠ¹å¹³å’Œç«å“çš„å·®è·ï¼Œæˆ–è€…èƒ½å’Œç«å“å·®å¼‚åŒ–ç«äº‰","tags":[]},{"title":"å¾®åšè¿è¥","date":"2018-12-23T01:42:52.000Z","path":"2018/12/23/å¾®åšè¿è¥/","text":"å¾®åšè¿è¥ å¾®åšé‡ç‚¹æ‰¶æŒè¡Œä¸šï¼šæ¯å©´ã€é‡‘èã€æ±½è½¦ã€ç¾å¦†ã€é¥®æ–™ç­‰ è¦æƒ³æœ‰ç²‰ä¸ ã€‹è¦å…ˆæœ‰æ›å…‰ ã€‹å…ˆæœ‰æµé‡ å¹³å°æ ¹æ®ç”¨æˆ·åé¦ˆç»™å†…å®¹åˆ†é…æµé‡ï¼šå¾®åšæ˜¯é€šè¿‡1ä¸ªå°æ—¶å†…è¯„åˆ¤æµé‡æ˜¯å¦å€¾æ–œ ç¬¦åˆå¹³å°è¿è¥çš„åŸºæœ¬è§„èŒƒ + ç”Ÿäº§ç”¨æˆ·å–œæ¬¢çš„ä¼˜è´¨å†…å®¹ å¾®åšåŠ æƒè§„åˆ™ è´¦å·å› ç´ ï¼š è®¤è¯ï¼šåª’ä½“è´¦å· ä¼šå‘˜ ç»‘å®šæ‰‹æœºå· ä¸°å¯Œè´¦å·ä¿¡æ¯ å†…å®¹å› ç´ ï¼šçƒ­é—¨è¯é¢˜ | ä¹å›¾ | å¤´æ¡æ–‡ç«  | è§†é¢‘ å¾®åšé™æƒ ä¸è¢«æ¨èåˆ°çƒ­é—¨æµ å‡å°‘éƒ¨åˆ†æ›å…‰é‡ å‡å°‘å¤§éƒ¨åˆ†æ›å…‰é‡ å°å· å‘å¤–å¼•æµï¼šå¾®ä¿¡ | æŠ–éŸ³ å¹¿å‘Šå…³é”®è¯ï¼š æ˜“å¯¼è‡´è´¦å·è¢«é™æƒï¼Œé™ä½åœ¨çƒ­é—¨å±•ç°çš„å‡ ç‡æˆ–è€…æ˜¯ç¦æ­¢å±•ç° â€œè´­ä¹°â€ â€œä¼˜æƒ â€ â€œåˆ¸â€ç­‰ æ·˜å® | äº¬ä¸œ | äºšé©¬é€Š | ã€‚ã€‚ã€‚| 5 æŠ˜ã€‚ã€‚ã€‚éƒ½è¦é¿å… ç”µå•†é¢†åŸŸä¼šæœ‰å¤–é“¾çš„ç‰¹æƒ å¾®åšå‘å¾®ä¿¡å¼•æµ å°†å¾®ä¿¡å·æ’åœ¨å›¾ç‰‡ï¼Œè¢«ç›‘æµ‹çš„å‡ ç‡ç›¸å¯¹è¾ƒä½ è®¾ç½®ç§ä¿¡è‡ªåŠ¨å›å¤ï¼Œç”¨â€œVXâ€å­—æ · å¾®åšè¹­çƒ­æœã€å…¬ä¼—å·è¹­çƒ­ç‚¹ é€‰æ‹©å¯è¹­çš„è¯é¢˜ æ’°å†™è¹­çƒ­æ–‡æ¡ˆï¼šå…³é”®è¯å¿…é¡»ç›¸åŒã€å®Œå…¨å…³è”ï¼Œä¸”è¦ä¿è¯æ–‡æ¡ˆçš„ç›¸å…³æ€§ é•¿æ–‡å…³æ³¨ï¼š æ–°è´¦å·æ‰¶æ¤åŠŸèƒ½ï¼Œä»…ç²‰ä¸å¯é˜…è¯»å…¨æ–‡ï¼Œå¦åˆ™éœ€å…³æ³¨è´¦å·çœ‹å…¨æ–‡ æ€»ç²‰ä¸ä¸¤ä¸‡ä»¥ä¸‹çš„è´¦å·æœ‰æ­¤åŠŸèƒ½ï¼Œä¸€æ—¦çªç ´ï¼ŒåŠŸèƒ½è‡ªåŠ¨å–æ¶ˆ åˆ©ç”¨å¤§ V æµé‡å¢ç²‰ æ‰¾å‚ç›´é¢†åŸŸå¤§V è°ˆä»·æ ¼ å†™æ–‡ç«  èµ„æºå…¬ä¼—å·è¿è¥å·¥å…·å¯¼èˆª","tags":[]},{"title":"this æŒ‡å‘","date":"2018-12-23T01:30:22.000Z","path":"2018/12/23/this æŒ‡å‘/","text":"this ä»‹ç»this æ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒ thisçš„æŒ‡å‘ ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼šæŒ‡å‘è¯¥å¯¹è±¡ ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼šæŒ‡å‘å…¨å±€å¯¹è±¡(ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šundefined) æ„é€ å™¨è°ƒç”¨ Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨ document.getElementById()çš„å†…éƒ¨å®ç°ä¸­éœ€è¦ç”¨åˆ°thisï¼Œå¹¶ä¸”è¿™ä¸ªthisè¢«æœŸæœ›æŒ‡å‘document 123456789document.getElementById = ( function(func) &#123; return function() &#123; return func.apply(document, arguments) &#125; &#125;)(document.getElementById)var getId = document.getElementById call &amp;&amp; applyå½“ä½¿ç”¨ call æˆ– apply æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnull, å‡½æ•°ä½“å†…çš„ this ä¼šæŒ‡å‘é»˜è®¤çš„å®¿ä¸»å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­åˆ™æ˜¯window.ä½†æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä½“å†…çš„ this è¿˜æ˜¯ä¸º null æœ‰æ—¶å€™ä½¿ç”¨ call æˆ– apply çš„ç›®çš„ä¸åœ¨äºæŒ‡å®š this æŒ‡å‘ï¼Œè€Œæ˜¯å€Ÿç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³• å¦‚ Math.max.apply(null, [1,2,3,4,5]) ç­‰åŒäº Math.max(â€¦[1,2,3,4,5]) æ”¹å˜thisçš„æŒ‡å‘123456789101112131415161718Function.prototype.bind = function() &#123; var self = this // ä¿å­˜åŸå‡½æ•° var context = [].shift.call(arguments) // éœ€è¦ç»‘å®šçš„ this ä¸Šä¸‹æ–‡ var args = [].slice.call(arguments) // å‰©ä½™çš„å‚æ•°è½¬æˆæ•°ç»„ return function() &#123; // è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° return self.apply(context, [].concat.call(args, [].slice.call(arguments))) // æ‰§è¡Œæ–°çš„å‡½æ•°çš„æ—¶å€™ï¼Œä¼šæŠŠä¹‹å‰ä¼ å…¥çš„contextå½“ä½œæ–°å‡½æ•°ä½“å†…çš„this // å¹¶ä¸”ç»„åˆä¸¤æ¬¡åˆ†åˆ«ä¼ å…¥çš„å‚æ•°ï¼Œä½œä¸ºæ–°å‡½æ•°çš„å‚æ•° &#125;&#125;var obj = &#123; name: 'lulu'&#125;var func = function(a, b, c, d) &#123; alert(this.name) alert([a, b, c, d])&#125;.bind(obj, 1, 2)func(3, 4) å€Ÿç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³• å€Ÿç”¨æ„é€ å‡½æ•°ï¼Œä»è€Œå®ç°ä¸€äº›ç±»ä¼¼ç»§æ‰¿çš„æ•ˆæœ 1234567891011var A = function(name)&#123; this.name = name&#125;var B = function() &#123; A.apply(this, arguments)&#125;B.prototype.getName = function(name) &#123; return this.name&#125;var b = new B('lulu')console.log(b.getName()) // lulu æ“ä½œargumentså¯¹è±¡æ—¶å€Ÿç”¨Array.prototypeä¸Šçš„æ–¹æ³• å‘ arguments ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼šArray.prototype.push.call(arguments, â€¦) æŠŠ arguments è½¬æ¢æˆä¸€ä¸ªçœŸçš„æ•°ç»„ï¼šArray.prototype.slice.call(arguments) æˆªå» arguments çš„å¤´ä¸€ä¸ªå…ƒç´ ï¼šArray.prototype.shift.call(arguments) 1234(function() &#123; Array.prototype.push.call(arguments, 3) console.log(arguments) // [1,2,3]&#125;)(1,2) 12345678910// V8 æºç å®ç°ä¸Šé¢çš„ä»£ç function ArrayPush () &#123; var n = TO_UINT32(this.length) // è¢« push çš„å¯¹è±¡çš„ length var m = %_ArgumentsLength() // push çš„å‚æ•°ä¸ªæ•° for (var i = 0; i &lt; m; i++) &#123; this[n + i] = %_Arguments[i] // å¯¹è±¡æœ¬èº«è¦å¯ä»¥å­˜å–å±æ€§ &#125; this.length = n + m // ä¿®æ­£ length å±æ€§çš„å€¼ return this.length // å¯¹è±¡çš„ length å±æ€§è¦å¯è¯»å†™&#125;","tags":[]},{"title":"é—­åŒ…å’Œé«˜é˜¶å‡½æ•°","date":"2018-12-23T01:04:56.000Z","path":"2018/12/23/é—­åŒ…å’Œé«˜é˜¶å‡½æ•°/","text":"closureçœ‹æ˜¯å¦å¯¹è‡ªç”±å˜é‡è¿›è¡Œäº†æ•è· å˜é‡ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸ ä½œç”¨åŸŸé“¾ï¼šå˜é‡çš„æœç´¢ä»å†…è€Œå¤–ã€‚å‡½æ•°åƒä¸€å±‚åŠé€æ˜çš„ç»ç’ƒï¼Œåœ¨å‡½æ•°é‡Œé¢å¯ä»¥çœ‹åˆ°å‡½æ•°å¤–é¢çš„å˜é‡ï¼Œè€Œå‡½æ•°å¤–é¢åˆ™æ— æ³•çœ‹åˆ°å‡½æ•°é‡Œé¢çš„å˜é‡ å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ å…¨å±€å˜é‡ï¼šæ°¸ä¹…ï¼Œé™¤éä¸»åŠ¨é”€æ¯ å±€éƒ¨å˜é‡ï¼šé€€å‡ºå‡½æ•°æ—¶å°±æ²¡æœ‰äº†ä»·å€¼ï¼Œå³éšç€å‡½æ•°è°ƒç”¨çš„ç»“æŸè€Œè¢«é”€æ¯ é—­åŒ…çš„ä½œç”¨ å°è£…å˜é‡ å»¶ç»­å±€éƒ¨å˜é‡çš„å¯¿å‘½ 12345678910111213// ç„¶è€Œé—­åŒ…å¯ä»¥å»¶ç»­å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸvar func = function() &#123; var a = 1; return function() &#123; a++; alert(a) &#125;&#125;var f = func()f() // 2f() // 3f() // 4f() // 5 å½“é€€å‡ºå‡½æ•°æ—¶ï¼Œå±€éƒ¨å˜é‡aå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè€Œæ˜¯ä¼¼ä¹ä¸€ç›´åœ¨æŸä¸ªåœ°æ–¹å­˜æ´»ç€ã€‚è¿™æ˜¯å› ä¸ºå½“æ‰§è¡Œvar f = func()æ—¶ï¼Œfè¿”å›äº†ä¸€ä¸ªåŒ¿åå‡½æ•°çš„å¼•ç”¨ï¼Œå®ƒå¯ä»¥è®¿é—®åˆ°func()è¢«è°ƒç”¨æ—¶äº§ç”Ÿçš„ç¯å¢ƒï¼Œè€Œå±€éƒ¨å˜é‡aä¸€ç›´å¤„åœ¨è¿™ä¸ªç¯å¢ƒé‡Œã€‚æ—¢ç„¶å±€éƒ¨å˜é‡æ‰€åœ¨çš„ç¯å¢ƒè¿˜èƒ½è¢«å¤–ç•Œè®¿é—®ï¼Œè¿™ä¸ªå±€éƒ¨å˜é‡å°±æœ‰äº†ä¸è¢«é”€æ¯çš„ç†ç”±ã€‚ 1234567891011var Type = &#123;&#125;for (var i = 0; type = ['String', 'Array', 'Number']; i++) &#123; (function(type)&#123; Type[`is$&#123;type&#125;`] = function(obj) &#123; return Object.prototype.toString.call(obj) === '[object $&#123;type&#125;]' &#125; &#125;)(type)&#125;Type.isArray([])Type.isString('str') 1234567891011121314// å¯¹äºç›¸åŒçš„å‚æ•°æ¥è¯´ï¼Œæ¯æ¬¡éƒ½è¿›è¡Œè®¡ç®—æ—¶ä¸€ç§æµªè´¹ï¼Œå¼•å…¥ç¼“å­˜æœºåˆ¶æé«˜å‡½æ•°æ€§èƒ½var cache = &#123;&#125;;function mult() &#123; var args = Array.prototype.join.call(arguments, ',') if (cache[args]) return cache[args] var result = 1 for (var i = 0; i &lt; arguments.length; i++) &#123; result = result * arguments[i] &#125; return cache[args] = result&#125;console.log(mult(1, 2, 3)) // 6console.log(mult(1, 2, 3)) // 6console.log(cache) ä»£ç é‡æ„ï¼š1. å»æ‰å…¨å±€å˜é‡ 2. ç‹¬ç«‹å¯å¤ç”¨çš„ä»£ç 12345678910111213141516171819202122var mult = ( function()&#123; var cache = &#123;&#125;; return function () &#123; var args = Array.prototype.join.call(arguments, ',') if (cache[args]) return cache[args] // return cache[args] = calculate.apply(null, arguments) // null å³ windows å¯¹è±¡ return cache[args] = calculate(...arguments) &#125; &#125;)()var calculate = function () &#123; var result = 1 for (var i = 0; i &lt; arguments.length; i++) &#123; result = result * arguments[i] &#125; return result&#125;console.log(mult(1, 2, 3)) // 6console.log(mult(1, 2, 3)) // 6 12345678var report = function (src) &#123; var imgs = [] return function(src)&#123; var img = new Image() imgs.push(img) img.src = src &#125;&#125; é¢å‘å¯¹è±¡è®¾è®¡ è¿‡ç¨‹ä¸æ•°æ®çš„ç»“åˆæ˜¯å½¢å®¹é¢å‘å¯¹è±¡ä¸­çš„â€œå¯¹è±¡â€æ—¶ç»å¸¸ä½¿ç”¨çš„è¡¨è¾¾å¯¹è±¡ä»¥æ–¹æ³•çš„å½¢å¼åŒ…å«äº†è¿‡ç¨‹è€Œé—­åŒ…åˆ™æ˜¯åœ¨è¿‡ç¨‹ä¸­ä»¥ç¯å¢ƒçš„å½¢å¼åŒ…å«äº†æ•°æ® 12345678910111213// é—­åŒ…var extent = function() &#123; var value = 0 return &#123; call: function() &#123; value++ console.log(value) &#125; &#125;&#125;var extent = extent()extent.call()extent.call() 1234567891011// é¢å‘å¯¹è±¡var extent = &#123; value: 0, call: function() &#123; this.value++ console.log(this.value) &#125;&#125;extent.call() // 1extent.call() // 2extent.call() // 3 123456789101112// æ„é€ å‡½æ•°var Extent = function() &#123; this.value = 0&#125;Extent.prototype.call = function() &#123; this.value++ console.log(this.value)&#125;var extent = new Extent()extent.call() // 1extent.call() // 2extent.call() // 3 ç”¨é—­åŒ…å®ç°å‘½ä»¤æ¨¡å¼å‘½ä»¤æ¨¡å¼çš„æ„å›¾æ˜¯æŠŠè¯·æ±‚å°è£…ä¸ºå¯¹è±¡ï¼Œä»è€Œåˆ†ç¦»è¯·æ±‚çš„å‘èµ·è€…å’Œè¯·æ±‚çš„æ¥æ”¶è€…(æ‰§è¡Œè€…)ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚åœ¨å‘½ä»¤è¢«æ‰§è¡Œä¹‹å‰ï¼Œå¯ä»¥é¢„å…ˆå¾€å‘½ä»¤å¯¹è±¡ä¸­æ¤å…¥å‘½ä»¤çš„æ¥æ”¶è€…ã€‚12345678910111213141516171819202122232425262728293031323334&lt;body&gt; &lt;div&gt; &lt;button id=\"execute\"&gt;ç‚¹æˆ‘æ‰§è¡Œå‘½ä»¤&lt;/button&gt; &lt;button id=\"undo\"&gt;ç‚¹æˆ‘æ‰§è¡Œå‘½ä»¤&lt;/button&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; var Tv = &#123; open: function() &#123; console.log('æ‰“å¼€ç”µè§†æœº') &#125; close: function() &#123; console.log('å…³ä¸Šç”µè§†æœº') &#125; &#125; var OpenTvCommand = function(receiver) &#123; this.receiver = receiver &#125; OpenTvCommand.prototype.execute = function() &#123; this.receiver.open() // æ‰§è¡Œå‘½ä»¤ï¼Œæ‰“å¼€ç”µè§†æœº &#125; OpenTvCommand.prototype.undo = function() &#123; this.receiver.close() // æ‰§è¡Œå‘½ä»¤ï¼Œå…³é—­ç”µè§†æœº &#125; var setCommand = function(command) &#123; document.getElementById('execute').onclick = function() &#123; command.execute() &#125; document.getElementById('undo').onclick = function() &#123; command.undo() &#125; &#125; setCommand(new OpenTvCommand(Tv)) &lt;/script&gt;&lt;/body&gt; 12345678910111213141516171819202122232425262728293031&lt;script type=\"text/javascript\"&gt; var Tv = &#123; open: function() &#123; console.log('æ‰“å¼€ç”µè§†æœº') &#125; close: function() &#123; console.log('å…³ä¸Šç”µè§†æœº') &#125; &#125; var createCommand = function(receiver) &#123; var execute = function() &#123; return receiver.open() // æ‰§è¡Œå‘½ä»¤ï¼Œæ‰“å¼€ç”µè§†æœº &#125; var undo = function() &#123; return receiver.close() // æ‰§è¡Œå‘½ä»¤ï¼Œå…³é—­ç”µè§†æœº &#125; return &#123; execute: execute, undo: undo &#125; &#125; var setCommand = function(command) &#123; document.getElementById('execute').onclick = function() &#123; command.execute() &#125; document.getElementById('undo').onclick = function() &#123; command.undo() &#125; &#125; setCommand(createCommand(Tv)) &lt;/script&gt; é—­åŒ…ä¸å†…å­˜ç®¡ç†å±€éƒ¨å˜é‡æœ¬æ¥åº”è¯¥åœ¨å‡½æ•°é€€å‡ºçš„æ—¶å€™è¢«è§£é™¤å¼•ç”¨ï¼Œä½†å¦‚æœå±€éƒ¨å˜é‡è¢«å°é—­åœ¨é—­åŒ…å½¢æˆçš„ç¯å¢ƒä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡å°±èƒ½ä¸€ç›´ç”Ÿå­˜ä¸‹å»ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šçœ‹ï¼Œé—­åŒ…çš„ç¡®ä¼šä½¿ä¸€äº›æ•°æ®æ— æ³•è¢«åŠæ—¶é”€æ¯ã€‚ä½¿ç”¨é—­åŒ…çš„ä¸€éƒ¨åˆ†åŸå› æ˜¯æˆ‘ä»¬é€‰æ‹©ä¸»åŠ¨æŠŠä¸€äº›å˜é‡å°é—­åœ¨é—­åŒ…ä¸­ï¼Œå› ä¸ºå¯èƒ½åœ¨ä»¥åè¿˜éœ€è¦ä½¿ç”¨è¿™äº›å˜é‡ï¼ŒæŠŠè¿™äº›å˜é‡æ”¾åœ¨é—­åŒ…ä¸­å’Œæ”¾åœ¨å…¨å±€ä½œç”¨åŸŸï¼Œå¯¹å†…å­˜æ–¹é¢çš„å½±å“æ˜¯ä¸€è‡´çš„ã€‚å¦‚æœåœ¨å°†æ¥éœ€è¦å›æ”¶è¿™äº›å˜é‡ï¼Œå¯ä»¥æ‰‹åŠ¨æŠŠè¿™äº›å˜é‡è®¾ä¸ºnull ä½¿ç”¨é—­åŒ…çš„åŒæ—¶æ¯”è¾ƒå®¹æ˜“å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œå¦‚æœé—­åŒ…çš„ä½œç”¨åŸŸé“¾ä¸­ä¿å­˜ç€ä¸€äº›DOMèŠ‚ç‚¹ï¼Œå°±æœ‰å¯èƒ½é€ æˆå†…å­˜æ³„éœ²ã€‚åœ¨IEæµè§ˆå™¨ä¸­ï¼Œç”±äº BOM å’Œ DOM ä¸­çš„å¯¹è±¡æ˜¯ä½¿ç”¨ C++ ä»¥ COM å¯¹è±¡çš„æ–¹å¼å®ç°çš„ï¼Œè€Œ COM å¯¹è±¡çš„åƒåœ¾æ”¶é›†æœºåˆ¶é‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°ç­–ç•¥ã€‚åœ¨åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¸­ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆäº†å¾ªç¯å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ— æ³•è¢«å›æ”¶ã€‚ é«˜é˜¶å‡½æ•° å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’ å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡º ä½œä¸ºå‚æ•°è¢«ä¼ é€’åˆ†ç¦»ä¸šåŠ¡ä»£ç ä¸­å˜åŒ–å’Œä¸å˜çš„éƒ¨åˆ† å›è°ƒå‡½æ•° å¼‚æ­¥è¯·æ±‚ å½“ä¸€ä¸ªå‡½æ•°ä¸é€‚åˆæ‰§è¡Œä¸€äº›è¯·æ±‚æ—¶ï¼Œå¯ä»¥æŠŠè¿™äº›è¯·æ±‚å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œâ€œå§”æ‰˜â€ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œ ä½œä¸ºè¿”å›å€¼è¾“å‡º123456789101112var getSingle = function(fn) &#123; var ret return function() &#123; return ret || (ret = fn.apply(this, arguments)) &#125;&#125;var getScript = getSingle(function() &#123; return document.createElement('script')&#125;)var script1 = getScript()var script2 = getScript()alert(script1 === script2) // true é«˜é˜¶å‡½æ•°å®ç°AOPAOP(é¢å‘åˆ‡é¢ç¼–ç¨‹)çš„ä¸»è¦ä½œç”¨æ˜¯æŠŠä¸€äº›è·Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—æ— å…³çš„åŠŸèƒ½æŠ½ç¦»å‡ºæ¥ï¼Œè¿™äº›è·Ÿä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½é€šå¸¸åŒ…æ‹¬æ—¥å¿—ç»Ÿè®¡ã€å®‰å…¨æ§åˆ¶ã€å¼‚å¸¸å¤„ç†ç­‰ã€‚123456789101112131415161718192021222324252627Function.prototype.before = function(beforefn) &#123; var _self = this // ä¿å­˜åŸå‡½æ•°çš„å¼•ç”¨,this å€¼æ˜¯func -&gt; &#123;console.log(2)&#125; return function() &#123; // è¿”å›åŒ…å«äº†åŸå‡½æ•°å’Œæ–°å‡½æ•°çš„â€œä»£ç†â€å‡½æ•° beforefn.apply(this, arguments) // æ‰§è¡Œæ–°å‡½æ•°ï¼Œä¿®æ­£this,thisæ˜¯window return _self.apply(this, arguments) // æ‰§è¡ŒåŸå‡½æ•° &#125;&#125;Function.prototype.after = function(afterfn) &#123; var _self = this // this å€¼æ˜¯â€œä»£ç†â€å‡½æ•° return function() &#123; var ret = _self.apply(this, arguments) afterfn.apply(this, arguments) return ret &#125;&#125;var func = function() &#123; console.log(2) return 2&#125;func = func.before(function() &#123; console.log(1) return 1&#125;).after(function() &#123; console.log(3) return 3&#125;)func() curryingä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„å‡½æ•°é¦–å…ˆä¼šæ¥å—ä¸€äº›å‚æ•°ï¼Œæ¥å—äº†è¿™äº›å‚æ•°ä¹‹åï¼Œè¯¥å‚æ•°å¹¶ä¸ä¼šç«‹å³æ±‚å€¼ï¼Œè€Œæ˜¯ç»§ç»­è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆšæ‰ä¼ å…¥çš„å‚æ•°åœ¨å‡½æ•°å½¢æˆçš„é—­åŒ…ä¸­è¢«ä¿å­˜èµ·æ¥ã€‚å¾…åˆ°å‡½æ•°è¢«çœŸæ­£éœ€è¦æ±‚å€¼çš„æ—¶å€™ï¼Œä¹‹å‰ä¼ å…¥çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«ä¸€æ¬¡æ€§ç”¨äºæ±‚å€¼ 12345678910111213141516171819var cost = ( var args = [] return function()&#123; if (arguments.length === 0)&#123; var money = 0 for(var i = 0; i &lt; args.length; i++) &#123; money += args[i] &#125; return money &#125; else &#123; [].push.apply(args, arguments) &#125; &#125;)()cost(100) // æœªçœŸæ­£æ±‚å€¼cost(200) // æœªçœŸæ­£æ±‚å€¼cost(300) // æœªçœŸæ­£æ±‚å€¼console.log(cost()) 1234567891011121314151617181920212223242526272829var currying = function(fn) &#123; var args = [] return function() &#123; if(arguments.length === 0)&#123; return fn.apply(this, args) &#125; else &#123; [].push.apply(args, arguments) console.log('arguments', arguments, arguments.callee ) return arguments.callee &#125; &#125;&#125;var cost = (function()&#123; var money = 0 return function()&#123; for (var i = 0; i &lt; arguments.length; i++) &#123; money += arguments[i] &#125; return money &#125;&#125;)()var cost = currying(cost)cost(100) // æœªçœŸæ­£æ±‚å€¼cost(200) // æœªçœŸæ­£æ±‚å€¼cost(300) // æœªçœŸæ­£æ±‚å€¼alert(cost()) // æ±‚å€¼å¹¶è¾“å‡ºï¼š 600 1234567891011121314Function.prototype.uncurrying = function() &#123; var self = this console.log(this) return function() &#123; var obj = Array.prototype.shift.call(arguments) console.log(arguments) return self.apply(obj, arguments) &#125;&#125;var push = Array.prototype.push.uncurrying()(function()&#123; push(arguments, 4) console.log(arguments)&#125;)(1,2,3) 123456Function.prototype.uncurrying = function() &#123; var self = this return function() &#123; return Function.prototype.call.apply(self, arguments) &#125;&#125; 1234567891011121314151617181920Function.prototype.uncurrying = function() &#123; var self = this return function() &#123; var obj = Array.prototype.shift.call(arguments) return self.apply(obj, arguments) &#125;&#125;var Arg = &#123;&#125;for (var i = 0, fn, arr = ['push', 'shift', 'forEach']; fn = arr[i++];) &#123; console.log(fn) Arg[fn] = Array.prototype[fn].uncurrying()&#125;var obj = &#123; 'length': 3, '0': 1, '1': 2, '2': 3&#125;Arg.push(obj, 4) // å‘å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ console.log(obj.length) // 4 å‡½æ•°èŠ‚æµæœ‰äº›æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è§¦å‘ä¸æ˜¯ç”±ç”¨æˆ·ç›´æ¥æ§åˆ¶çš„ï¼Œè¿™æ ·å½“å‡½æ•°è¢«éå¸¸é¢‘ç¹çš„è°ƒç”¨æ—¶ï¼Œä¼šé€ æˆå¤§çš„æ€§èƒ½é—®é¢˜ã€‚ åœºæ™¯ window.onresize()ï¼šç»™windowå¯¹è±¡ç»‘å®šäº†resizeäº‹ä»¶ï¼Œå½“æµè§ˆå™¨çª—å£å¤§å°è¢«æ‹–åŠ¨è€Œæ”¹å˜çš„æ—¶å€™ï¼Œè¿™ä¸ªäº‹ä»¶è§¦å‘çš„é¢‘ç‡éå¸¸ä¹‹é«˜ã€‚å¦‚æœæˆ‘ä»¬åœ¨window.onresizeäº‹ä»¶å‡½æ•°é‡Œæœ‰ä¸€äº›è·ŸDOMèŠ‚ç‚¹ç›¸å…³çš„æ“ä½œï¼Œè€Œè·ŸDOMèŠ‚ç‚¹ç›¸å…³çš„æ“ä½œå¾€å¾€æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œè¿™æ—¶å€™æµè§ˆå™¨å¯èƒ½å°±ä¼šåƒä¸æ¶ˆè€Œé€ æˆå¡é¡¿ç°è±¡ã€‚ mousemove()ï¼šåŒæ ·ï¼Œç»™ä¸€ä¸ªdivèŠ‚ç‚¹ç»‘å®šäº†æ‹–æ‹½äº‹ä»¶(ä¸»è¦æ˜¯mousemove),divèŠ‚ç‚¹è¢«æ‹–åŠ¨çš„æ—¶å€™ï¼Œä¹Ÿä¼šé¢‘ç¹åœ°è§¦å‘è¯¥æ‹–æ‹½äº‹ä»¶å‡½æ•° ä¸Šä¼ è¿›åº¦ï¼šå¾®äº‘çš„ä¸Šä¼ åŠŸèƒ½ä½¿ç”¨äº†ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ã€‚è¯¥æ’ä»¶åœ¨çœŸæ­£å¼€å§‹ä¸Šä¼ æ–‡ä»¶ä¹‹å‰ï¼Œä¼šå¯¹æ–‡ä»¶è¿›è¡Œæ‰«æå¹¶éšæ—¶é€šçŸ¥JSå‡½æ•°ï¼Œä»¥ä¾¿åœ¨é¡µé¢ä¸­æ˜¾ç¤ºå½“å‰çš„æ‰«æè¿›åº¦ã€‚ä½†è¯¥æ’ä»¶é€šçŸ¥çš„é¢‘ç‡éå¸¸ä¹‹é«˜ï¼Œçº¦10sä¸€æ¬¡ åŸç†å½“å‡½æ•°è¢«è§¦å‘çš„é¢‘ç‡å¤ªé«˜æ—¶ï¼Œéœ€è¦æŒ‰æ—¶é—´æ®µæ¥å¿½ç•¥æ‰ä¸€äº›äº‹ä»¶è¯·æ±‚ï¼Œå€ŸåŠ©setTimeoutæ¥å®Œæˆ å°†å³å°†è¢«æ‰§è¡Œçš„å‡½æ•°ç”¨setTimeoutå»¶è¿Ÿä¸€æ®µæ—¶é—´æ‰§è¡Œã€‚å¦‚æœè¯¥æ¬¡å»¶è¿Ÿæ‰§è¡Œè¿˜æ²¡æœ‰å®Œæˆï¼Œåˆ™å¿½ç•¥æ¥ä¸‹æ¥è°ƒç”¨è¯¥å‡½æ•°çš„è¯·æ±‚ ä¸€å®šè¦ç­‰å½“å‰æ‰§è¡Œçš„äº‹ä»¶æ‰§è¡Œå®Œäº†ï¼Œæ‰ä¼šè®©æ–°çš„äº‹ä»¶è¿›æ¥ï¼Œå¦åˆ™å…¨éƒ¨ä½œåºŸ 12345678910111213141516171819202122232425var throttle = function(fn, interval) &#123; var _self = fn, // ä¿å­˜éœ€è¦è¢«å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•°å¼•ç”¨ timer, // å®šæ—¶å™¨ firstTime = true; // æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨ return function() &#123; var args = arguments, _me = this; if (firstTime) &#123; // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œä¸éœ€è¦å»¶è¿Ÿæ‰§è¡Œ _self.apply(_me, args) return firstTime = false &#125; if (timer) &#123; // å¦‚æœå®šæ—¶å™¨è¿˜åœ¨ï¼Œè¯´æ˜å‰ä¸€æ¬¡å»¶è¿Ÿæ‰§è¡Œè¿˜æ²¡æœ‰å®Œæˆ return false &#125; timer = setTimeout(function() &#123; // å»¶è¿Ÿä¸€æ®µæ—¶é—´æ‰§è¡Œ clearTimeout(timer) timer = null _self.apply(_me, args) &#125;, interval || 500) &#125;&#125;window.onresize = throttle(function() &#123; console.log(1)&#125;, 500) å‡½æ•°é˜²æŠ–12 åœºæ™¯ æœç´¢å¼•æ“æœç´¢ï¼šå¸Œæœ›ç”¨æˆ·åœ¨è¾“å…¥å®Œæœ€åä¸€ä¸ªå­—æ‰è°ƒç”¨æŸ¥è¯¢æ¥å£ï¼Œé€‚ç”¨å»¶è¿Ÿæ‰§è¡Œçš„é˜²æŠ–å‡½æ•°ï¼Œ åˆ†æ—¶å‡½æ•°åœ¨çŸ­æ—¶é—´å†…å¤§é‡è§¦å‘è¯·æ±‚ä¼šä¸¥é‡å½±å“é¡µé¢æ€§èƒ½ï¼Œè§£å†³æ–¹æ¡ˆä¹‹ä¸€æ˜¯è®©è¿™äº›è¯·æ±‚åˆ†æ‰¹è¿›è¡Œï¼Œæ¯”å¦‚æŠŠ1ç§’é’Ÿåˆ›å»º1000ä¸ªèŠ‚ç‚¹ï¼Œæ”¹ä¸ºæ¯éš”200æ¯«ç§’åˆ›å»º8ä¸ªèŠ‚ç‚¹ 1234567891011121314151617181920212223// åˆ›å»ºèŠ‚ç‚¹æ—¶éœ€è¦ç”¨åˆ°çš„æ•°æ®// å°è£…äº†åˆ›å»ºèŠ‚ç‚¹é€»è¾‘çš„å‡½æ•°// æ¯ä¸€æ‰¹åˆ›å»ºçš„èŠ‚ç‚¹æ•°é‡var timeChunk = function(ary, fn, count) &#123; var obj, t var len = ary.length var start = function () &#123; for (var i = 0; i &lt; Math.min(count || 1, ary.length); i++) &#123; var obj = ary.shift() fn(obj) &#125; &#125; return function() &#123; t = setInterval(function() &#123; if (ary.length === 0) &#123; // å¦‚æœå…¨éƒ¨èŠ‚ç‚¹éƒ½å·²ç»è¢«åˆ›å»ºå¥½ return clearInterval(t) &#125; start() &#125;, 200) // åˆ†æ‰¹æ‰§è¡Œçš„æ—¶é—´é—´éš”ï¼Œä¹Ÿå¯ä»¥ç”¨å‚æ•°çš„å½¢å¼ä¼ å…¥ &#125;&#125; èµ„æº7åˆ†é’Ÿç†è§£JSçš„èŠ‚æµã€é˜²æŠ–åŠä½¿ç”¨åœºæ™¯","tags":[]},{"title":"æ¶ˆæ¯æœºåˆ¶","date":"2018-12-23T00:52:20.000Z","path":"2018/12/23/æ¶ˆæ¯æœºåˆ¶/","text":"æ¶ˆæ¯æœºåˆ¶æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­ä¸€ä¸ªæ™®éè¿ç”¨çš„å·¥ç¨‹æ€æƒ³ã€‚ â€œè®¾è®¡æ¨¡å¼â€ä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼ Windows æ“ä½œç³»ç»Ÿåº•å±‚ Spring æ¡†æ¶ä¸­çš„ ApplicationListener æ¨¡å— Objective-C è¯­è¨€ä¸­çš„å‡½æ•°è°ƒç”¨éƒ½æ˜¯é€šè¿‡æ¶ˆæ¯æœºåˆ¶é©±åŠ¨çš„ã€‚ ä½¿ç”¨æ¶ˆæ¯æœºåˆ¶æœ€å¤§çš„å¥½å¤„åœ¨äºå¯ä»¥åšåˆ°ä¸šåŠ¡æ¨¡å—é—´å®‰å…¨è§£è€¦ï¼Œæ¨¡å—é—´é€šè¿‡å‘é€æ¶ˆæ¯çš„æ–¹å¼è¿›è¡Œåä½œã€‚ éæ¶ˆæ¯æœºåˆ¶æ¡ˆä¾‹æˆ‘ä»¬å…ˆä¸¾ä¸€ä¸ªåç«¯å¼€å‘ä¸­çš„ä¾‹å­ï¼Œä¸‹å›¾æ˜¯ä¸€ä¸ªç®€å•çš„é¢„å®šç³»ç»Ÿçš„å»ºæ¨¡å›¾ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨æ¶ˆæ¯æœºåˆ¶ï¼š åœ¨æ²¡æœ‰æ¶ˆæ¯æœºåˆ¶çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·æ¨¡å—éœ€è¦çŸ¥é“è®¢å•æ¨¡å—çš„å­˜åœ¨ï¼Œå¹¶å‘å…¶è¿›è¡Œæ¥å£è°ƒç”¨ï¼ŒåŒç†è®¢å•æ¨¡å—éœ€è¦å‘æ”¯ä»˜æ¨¡å—è¿›è¡Œæ¥å£è°ƒç”¨ã€‚è¿™ç§è®¾è®¡ä¸‹æ¨¡å—é—´æ˜¯è€¦åˆçš„ã€‚ æ¶ˆæ¯æœºåˆ¶æ¡ˆä¾‹ ä¸Šå›¾ä¸­ï¼Œæ— è®ºæ˜¯å®¢æˆ·ä¸‹è®¢å•ã€æ”¯ä»˜è¿˜æ˜¯é¢„å®šéƒ½æ˜¯é€šè¿‡æ¶ˆæ¯çš„æ–¹å¼ä¼ é€’çš„ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æ˜¯å‘ä¸€ä¸ªæ¶ˆæ¯å¤„ç†å™¨èµ·å‘æ¶ˆæ¯ï¼ŒåŒæ—¶ä¹Ÿç›‘å¬æ¶ˆæ¯å¤„ç†å™¨å‘é€å›æ¥çš„æ¶ˆæ¯ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¨¡å—å®Œå…¨ä¸çŸ¥é“å…¶å®ƒæ¨¡å—çš„å­˜åœ¨ï¼Œå½»åº•åšåˆ°äº†è§£è€¦ã€‚ æ¶ˆæ¯æœºåˆ¶åœ¨å‰ç«¯ä¸­çš„åº”ç”¨åœ¨å‰ç«¯ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¹Ÿä¼šç”¨åˆ° EventEmitter åº“æ¥è¿›è¡Œæ¶ˆæ¯ä¼ é€’ã€‚æ¯”å¦‚é¡µé¢ä¸Šæœ‰ä¸¤å—åŒºåŸŸï¼Œä¸€å—ç”¨ React æ¡†æ¶æ¸²æŸ“ï¼Œä¸€å—ç”¨ D3 æ¸²æŸ“çš„ï¼Œå½“ä¸¤å—åŒºåŸŸéœ€è¦æ•°æ®åŒæ­¥æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¶ˆæ¯æœºåˆ¶è¿›è¡Œé€šè®¯ï¼Œä¿è¯é¡µé¢æ•°æ®æ•´ä½“ä¸€è‡´ã€‚ å¦‚æœä½ çš„ä¸šåŠ¡ä¸­æœ‰ä¸åŒç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶ï¼Œå»ºè®®é‡‡ç”¨æ¶ˆæ¯æœºåˆ¶è¿›è¡Œç®¡ç†ï¼Œä¸ä»…æ¶ˆé™¤äº†è€¦åˆï¼Œé€»è¾‘å…³ç³»éƒ¨åˆ†çš„ä»£ç ä¹Ÿé›†ä¸­åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå†…èšæ€§å¾—åˆ°äº†æå‡ã€‚ ä½¿ç”¨æ¶ˆæ¯æœºåˆ¶çš„ä¸€ä¸ªé™„å±äº§ç‰©å°±æ˜¯ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ¶ˆæ¯å®šåˆ¶å„ç§ä¸­é—´ä»¶ï¼Œåœ¨ä¸­é—´ä¸­å®Œæˆä¸€äº›é€šç”¨é€»è¾‘ï¼Œè®©ä¸šåŠ¡ä»£ç æ›´ç²¾ç‚¼ã€‚ è¯´åˆ°å‰ç«¯æ¡†æ¶ä¸­æ¶ˆæ¯æœºåˆ¶çš„è¿ç”¨ï¼Œå½“ç„¶é¦–æ¨ Redux æ¡†æ¶ï¼Œåœ¨ Redux æ¡†æ¶ä¸­ï¼Œä»»ä½•æ•°æ®äº¤äº’éƒ½éœ€è¦å…ˆè½¬åŒ–ä¸ºä¸€ä¸ª actionï¼Œç”± action å»è§¦å‘ reducer å’Œç›¸å…³çš„ middleware å¤„ç† actionï¼Œæ”¹å˜æ•°æ®ï¼Œæœ€ç»ˆåŒæ­¥åˆ°é¡µé¢ UI ä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š","tags":[]},{"title":"è®¾è®¡æ¨¡å¼åŠè®¾è®¡åŸåˆ™","date":"2018-12-23T00:47:22.000Z","path":"2018/12/23/è®¾è®¡æ¨¡å¼åŠè®¾è®¡åŸåˆ™/","text":"é¢å‘å¯¹è±¡ ä¸‰è¦ç´  ç»§æ‰¿ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±» å°è£…ï¼šæ•°æ®çš„æƒé™å’Œä¿å¯† å¤šæ€ï¼šåŒä¸€æ¥å£ä¸åŒå®ç° 123456789101112131415161718192021222324252627282930313233// çˆ¶ç±»class People &#123; constructor(name, age) &#123; this.name = name this.age = age &#125; eat() &#123; alert(`$&#123;this.name&#125; eat something`) &#125; speak() &#123; alert(`$&#123;this.name&#125;: age $&#123;this.age&#125;`) &#125;&#125;// å­ç±»ç»§æ‰¿çˆ¶ç±»class Student extends People &#123; constructor(name, age, number)&#123; super(name, age) this.number = number &#125; study() &#123; alert(`$&#123;this.name&#125; study`) &#125;&#125;// å®ä¾‹let xiaoming = new Student('xiaoming', 10, 'A1')xiaoming.study()xiaoming.eat()let wangxin = new Student('wangxin', 10, 'A2')wangxin.study()wangxin.speak() ç»§æ‰¿* Peopleæ˜¯çˆ¶ç±»ï¼Œå…¬å…±çš„ï¼Œä¸ä»…ä»…æœåŠ¡äºStudent * ç»§æ‰¿å¯å°†å…¬å…±æ–¹æ³•æŠ½ç¦»å‡ºæ¥ï¼Œæé«˜å¤ç”¨ï¼Œå‡å°‘å†—ä½™ å°è£…(ES6å°šä¸æ”¯æŒï¼ŒTSæ”¯æŒ) å®šä¹‰å±æ€§å…³é”®å­—ï¼š * public: å®Œå…¨å¼€æ”¾ï¼›å‰é¢å¦‚æœä¸å†™å…³é”®å­—ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯public * protected: å¯¹å­ç±»å¼€æ”¾ * private: å¯¹è‡ªå·±å¼€æ”¾ [TypeScript](http://www.typescriptlang.org/play/index.html) 123456789101112131415161718192021222324252627282930313233343536373839404142434445// çˆ¶ç±»class People &#123; name age protected weight // å¯¹å­ç±»å¼€æ”¾ constructor(name, age) &#123; this.name = name this.age = age this.weight = 120 &#125; eat() &#123; alert(`$&#123;this.name&#125; eat something`) &#125; speak() &#123; alert(`$&#123;this.name&#125;: age $&#123;this.age&#125;`) &#125;&#125;// å­ç±»ç»§æ‰¿çˆ¶ç±»class Student extends People &#123; number private girlFriend constructor(name, age, number)&#123; super(name, age) this.number = number this.girlfriend = 'lu' &#125; study() &#123; alert(`$&#123;this.name&#125; study`) &#125; getWeight() &#123; alert(`weight: $&#123;this.weight&#125;`) &#125;&#125;// å®ä¾‹let xiaoming = new Student('xiaoming', 10, 'A1')xiaoming.study()xiaoming.eat()xiaoming.getWeight()xiaoming.girlFriend // ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼Œç›´æ¥ä¼šç¼–è¯‘ä¸é€šè¿‡ï¼ï¼ï¼let wangxin = new Student('wangxin', 10, 'A2')wangxin.study()wangxin.speak() * å‡å°‘è€¦åˆï¼Œä¸è¯¥å¤–éœ²çš„ä¸å¤–éœ² * åˆ©äºæ•°æ®ã€æ¥å£çš„æƒé™ç®¡ç† * ES6 ä¸æ”¯æŒï¼Œä¸€èˆ¬è®¤ä¸ºä»¥\\_å¼€å¤´çš„å±æ€§æ˜¯ private å¤šæ€* åŒä¸€ä¸ªæ¥å£ï¼Œä¸åŒè¡¨ç° * JSåº”ç”¨æå°‘ * éœ€è¦ç»“åˆjavaç­‰è¯­è¨€çš„æ¥å£ã€é‡å†™ã€é‡è½½ç­‰åŠŸèƒ½ 12345678910111213141516171819202122232425262728293031// çˆ¶ç±»class People &#123; constructor(name, age) &#123; this.name = name this.age = age this.weight = 120 &#125; saySomething() &#123; &#125;&#125;class A extends People &#123; constructor(name) &#123; super(name) &#125; saySomething() &#123; alert(`I am A : $&#123;this.name&#125;`) &#125;&#125;class B extends People &#123; constructor(name) &#123; super(name) &#125; saySomething() &#123; alert(`I am B : $&#123;this.name&#125;`) &#125;&#125;let a = new A('a')a.saySomething()let b = new B('b')b.saySomething() * ä¿æŒå­ç±»çš„å¼€æ”¾æ€§å’Œçµæ´»æ€§ * é¢å‘æ¥å£ç¼–ç¨‹ * JSå¼•ç”¨æå°‘ï¼Œäº†è§£å³å¯ jQuery åº”ç”¨ä¸¾ä¾‹* jQueryæ˜¯ä¸€ä¸ªclass * \\$(&apos;p&apos;)æ˜¯jQueryçš„ä¸€ä¸ªå®ä¾‹ 1234567891011121314151617181920212223242526272829303132333435class jQuery &#123; constructor(selector) &#123; let slice = Array.prototype.slice let dom = slice.call(document.querySelectorAll(selector)) let len = len ? dom.length : 0 for (let i = 0; i &lt; len; i++) &#123; this[i] = dom[i] &#125; this.length = len this.selector = selector || '' &#125; append(node) &#123; // ... &#125; addClass(name) &#123; // ... &#125; html(data) &#123; // ... &#125; // ...&#125;window.$ = function(selector) &#123; // å·¥å‚æ¨¡å¼ return new jQuery(selector)&#125;// æµ‹è¯•ä»£ç var $p = $('p')console.log($p)console.log($p.addClass) ä¸ºä½•ä½¿ç”¨é¢å‘å¯¹è±¡ï¼Ÿ* ç¨‹åºæ‰§è¡Œï¼šé¡ºåºã€åˆ¤æ–­ã€å¾ªç¯ â€”â€”â€”â€” ç»“æ„åŒ– * é¢å‘å¯¹è±¡ â€”â€”â€”â€” æ•°æ®ç»“æ„åŒ– * å¯¹äºè®¡ç®—æœºï¼Œç»“æ„åŒ–çš„æ‰æ˜¯æœ€ç®€å•çš„ * ç¼–ç¨‹ï¼šç®€å• &amp; æŠ½è±¡ UML ç±»å›¾* Unified Modeling Language : ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ * UMLåŒ…å«å¾ˆå¤šç§å›¾ï¼Œæœ¬ç« ç›¸å…³çš„æ˜¯ç±»å›¾ * å…³ç³» * æ³›åŒ–ï¼šç»§æ‰¿;ç©ºç®­å¤´ * å…³è”ï¼šå¼•ç”¨: People å¼•ç”¨ Houseï¼›å®å¿ƒç®­å¤´ * æ¼”ç¤ºï¼Œä»£ç å’Œç±»å›¾çš„ç»“åˆ * MS Office Visio * [ProcessOn](https://www.processon.com/) 123456789101112131415161718192021222324252627282930313233343536373839// çˆ¶ç±»class People &#123; constructor(name, house) &#123; this.name = name this.house = house &#125; saySomething() &#123; &#125;&#125;class A extends People &#123; constructor(name, house) &#123; super(name, house) &#125; saySomething() &#123; alert(`I am A : $&#123;this.name&#125;`) &#125;&#125;class B extends People &#123; constructor(name, house) &#123; super(name, house) &#125; saySomething() &#123; alert(`I am B : $&#123;this.name&#125;`) &#125;&#125;class House &#123; constructor(city) &#123; this.city = city &#125; showCity() &#123; alert(`house in : $&#123;this.name&#125;`) &#125;&#125;let ahouse = new House('beijing')let a = new A('a', ahouse)a.saySomething()let b = new B('b')b.saySomething() ç±»å›¾ * ç±»å * æ‰€æœ‰çš„å±æ€§ï¼špublic å±æ€§åAï¼šç±»å‹ * æ‰€æœ‰çš„æ–¹æ³•ï¼špublic æ–¹æ³•åA(å‚æ•°1ï¼Œå‚æ•°2)ï¼šè¿”å›å€¼ç±»å‹ * &apos;+&apos;: public * &apos;#&apos;: protected * &apos;-&apos;: private è®¾è®¡åŸåˆ™ ä½•ä¸ºè®¾è®¡ï¼Ÿ å³æŒ‰ç…§å“ªä¸€ç§æ€è·¯æˆ–è€…æ ‡å‡†æ¥å®ç°åŠŸèƒ½ åŠŸèƒ½ç›¸åŒï¼Œå¯ä»¥æœ‰ä¸åŒè®¾è®¡æ–¹æ¡ˆæ¥å®ç° ä¼´éšç€éœ€æ±‚å¢åŠ ï¼Œè®¾è®¡çš„ä½œç”¨æ‰èƒ½ä½“ç°å‡ºæ¥ ã€ŠLINUX/UNIXè®¾è®¡å“²å­¦ã€‹ å°å³æ˜¯ç¾ è®©æ¯ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹ å¿«é€Ÿå»ºç«‹åŸå‹ èˆå¼ƒé«˜æ•ˆç‡è€Œå–å¯ç§»æ¤æ€§(æ•ˆç‡ä¼šå› ä¸ºç¡¬ä»¶çš„å‡çº§è€Œè¢«æŠ¹å¹³) é‡‡ç”¨çº¯æ–‡æœ¬æ¥å­˜å‚¨æ•°æ® å……åˆ†åˆ©ç”¨è½¯ä»¶çš„æ æ†æ•ˆåº”(è½¯ä»¶å¤ç”¨) ä½¿ç”¨shellè„šæœ¬æ¥æé«˜æ æ†æ•ˆåº”å’Œå¯ç§»æ¤æ€§ é¿å…å¼ºåˆ¶æ€§çš„ç”¨æˆ·ç•Œé¢ è®©æ¯ä¸ªç¨‹åºéƒ½æˆä¸ºè¿‡æ»¤å™¨ å°å‡†åˆ™ï¼š å…è®¸ç”¨æˆ·å®šåˆ¶ç¯å¢ƒ å°½é‡ä½¿æ“ä½œç³»ç»Ÿå†…æ ¸å°è€Œè½»é‡åŒ– ä½¿ç”¨å°å†™å­—æ¯å¹¶å°½é‡ç®€å†™ æ²‰é»˜æ˜¯é‡‘ å„éƒ¨åˆ†ä¹‹å’Œå¤§äºæ•´ä½“ å¯»æ±‚90%çš„è§£å†³æ–¹æ¡ˆ 1ls | grep *.json | grep 'package' 5å¤§è®¾è®¡åŸåˆ™* Single: å•ä¸€èŒè´£åŸåˆ™ * ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹ * å¦‚æœåŠŸèƒ½è¿‡äºå¤æ‚ * Open: å¼€æ”¾å°é—­åŸåˆ™ * å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ * å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‹“å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç  * è¿™æ˜¯è½¯ä»¶è®¾è®¡çš„ç»ˆæç›®æ ‡ * L: ææ°ç½®æ¢åŸåˆ™ * å­ç±»èƒ½è¦†ç›–çˆ¶ç±» * çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç° * JSä¸­ä½¿ç”¨è¾ƒå°‘(å¼±ç±»å‹ &amp; ç»§æ‰¿ä½¿ç”¨è¾ƒå°‘) * Interface: æ¥å£ç‹¬ç«‹åŸåˆ™ * ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°â€œèƒ–æ¥å£â€ * JSä¸­æ²¡æœ‰æ¥å£(TSä¾‹å¤–)ï¼Œä½¿ç”¨è¾ƒå°‘ * ç±»ä¼¼äºå•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™é‡Œæ›´å…³æ³¨æ¥å£ * Dependence: ä¾èµ–å€’ç½®åŸåˆ™ * é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ * ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç° * JSä¸­ä½¿ç”¨è¾ƒå°‘(æ²¡æœ‰æ¥å£ &amp; å¼±ç±»å‹) 123456789101112131415161718192021222324function loadImg(src) &#123; return new Promise((resolve, reject) =&gt; &#123; let img = document.createElement('img') img.onload = () =&gt; &#123; resolve(img) &#125; img.onerror = () =&gt; &#123; reject('å›¾ç‰‡åŠ è½½å¤±è´¥') &#125; img.src = src &#125;)&#125;let src = './img.png'let result = loadImg(src)result.then((img) =&gt; &#123; alert(`width: $&#123;img.width&#125;`) return img &#125;).then((img) =&gt; &#123; alert(`height: $&#123;img.height&#125;`) &#125;).catch((err) =&gt; &#123; console.log(err)&#125;) ä»è®¾è®¡åˆ°æ¨¡å¼* è®¾è®¡ï¼šæŒ‡å¯¼æ€æƒ³ * æ¨¡å¼ï¼šç»“åˆæ—¥å¸¸å¼€å‘æ€»ç»“å‡ºå›ºå®šçš„æ¨¡æ¿ 23ç§è®¾è®¡æ¨¡å¼ * åˆ›å»ºå‹ * ç»„åˆå‹ * è¡Œä¸ºå‹ é¢è¯•é¢˜&gt; æ‰“è½¦æ—¶ï¼Œå¯ä»¥æ‰“ä¸“è½¦æˆ–è€…å¿«è½¦ï¼› &gt; ä»»ä½•è½¦éƒ½æœ‰è½¦ç‰Œå·å’Œåç§°ï¼› &gt; ä¸åŒè½¦ä»·æ ¼ä¸åŒï¼Œå¿«è½¦1å…ƒ/kmï¼Œä¸“è½¦2å…ƒ/kmï¼› &gt; è¡Œç¨‹å¼€å§‹æ—¶ï¼Œæ˜¾ç¤ºè½¦è¾†ä¿¡æ¯ï¼› &gt; è¡Œç¨‹ç»“æŸæ—¶ï¼Œæ˜¾ç¤ºæ‰“è½¦é‡‘é¢(å‡å®šè¡Œç¨‹å°±5km)ã€‚ 12345678910111213141516171819202122232425262728293031323334class Car &#123; constructor(number, name) &#123; this.number = number this.name = name &#125;&#125;class KuaiChe extends Car &#123; constructor(number, name) &#123; super(number, name) this.price = 1 &#125;&#125;class ZhuanChe extends Car &#123; constructor(number, name) &#123; super(number, name) this.price = 2 &#125;&#125;class Trip &#123; constructor(car) &#123; this.car = car &#125; start() &#123; console.log(`è¡Œç¨‹å¼€å§‹ åç§°ï¼š$&#123;this.car.name&#125; è½¦ç‰Œå·ï¼š$&#123;this.car.number&#125;`) &#125; end() &#123; console.log(`è¡Œç¨‹ç»“æŸ ä»·æ ¼ï¼š$&#123;this.car.price&#125; * 5`) &#125;&#125;let car = new KuaiChe(100, 'æ¡‘å¡”çº³')let trip = new Trip(car)trip.start()trip.end() &gt; æŸåœè½¦åœºï¼Œåˆ†3å±‚ï¼Œæ¯å±‚100è½¦ä½ï¼› &gt; æ¯ä¸ªè½¦ä½éƒ½èƒ½ç›‘æ§åˆ°è½¦è¾†çš„é©¶å…¥å’Œç¦»å¼€ï¼› &gt; è½¦è¾†è¿›å…¥å‰ï¼Œæ˜¾ç¤ºæ¯å±‚çš„ç©ºä½™è½¦ä½æ•°é‡ï¼› &gt; è½¦è¾†è¿›å…¥æ—¶ï¼Œæ‘„åƒå¤´å¯è¯†åˆ«è½¦ç‰Œå·å’Œæ—¶é—´ï¼› &gt; è½¦è¾†å‡ºæ¥æ—¶ï¼Œå‡ºå£æ˜¾ç¤ºå™¨æ˜¾ç¤ºè½¦ç‰Œå·å’Œåœè½¦æ—¶é•¿ã€‚ &gt; è®¾è®¡æ¨¡å¼ ä¼˜å…ˆçº§ï¼šåˆ›å»ºå‹ | ç»“æ„å‹ | è¡Œä¸ºå‹ ç»“åˆæ ¸å¿ƒæŠ€æœ¯ ç»“åˆæ¡†æ¶åº”ç”¨ ç»¼åˆç¤ºä¾‹ è®¾è®¡æ–¹æ¡ˆ ä»£ç æ¼”ç¤º è®¾è®¡æ¨¡å¼å¯¹åº”ï¼ˆ7ç§ï¼‰","tags":[]},{"title":"ç©¿æ­ç¯‡","date":"2018-12-22T10:10:59.000Z","path":"2018/12/22/ç©¿æ­ç¯‡/","text":"è¡€ç®¡é¢œè‰²æ‰‹è…•å†…ä¾§è¡€ç®¡é¢œè‰²åè“ç´«ï¼šå†·è‰²è°ƒ å†·è‰²è°ƒï¼šå¸¦çº¢æ„Ÿçš„è‚¤è‰² ç©¿é‡‘æˆ´é“¶å†·è‰²è°ƒï¼šé“¶è‰² ç™½è‰²ä¸Šèº«å†·è‰²è°ƒï¼šçº¯ç™½è‰²æ¯”ä¹³ç™½è‰²æ›´å¥½ è¡£æœé¢œè‰²æ­é…å±äºå†·åŸºè°ƒçš„äººé€‚åˆï¼šä»¥è“è‰²ä¸ºåŸºè°ƒçš„é¢œè‰²ï¼Œçº¢è‰²æ˜¯åç´«çš„çº¢ï¼Œå¦‚ç«çº¢è‰²ï¼›ä¸é€‚åˆæ©™ï¼Œé»„ã€‚é€‚åˆåè“çš„é»„å¦‚æŸ æª¬é»„ï¼›ç»¿åè“çš„ç»¿ã€‚è“è‰²å’Œç´«è‰²éå¸¸é€‚åˆå†·çš®çš„å¦¹å­ã€‚ï¼ˆç°è‰²éå¸¸é€‚åˆçš®è‚¤ç™½çš™çš„å¦¹å­ç©¿ï¼ï¼‰ è‰²å½©åˆ†é…åŸåˆ™ æ•´ä½“æ€§ï¼šå…¨èº«æ•´ä½“å›´ç»•ä¸€ä¸ªä¸»è‰²è°ƒå±•å¼€ï¼Œç”¨åŒè‰²ç³»ä¸åŒæ˜åº¦é¥±å’Œåº¦çš„é¢œè‰²æ­å‡ºå±‚æ¬¡æ„Ÿ é…é¥°ç±»ï¼šé¥°å“ï¼Œé‹ç­‰é¢œè‰²ä¸Šç›¸äº’å‘¼åº” ç»†èŠ‚ï¼šé è¿‘é¢éƒ¨ä½ç½®çš„é…é¥°å¦‚å›´å·¾è€³ç¯å¸½å­ï¼Œé¿å…å†·è‰²ã€‚ ä¸Šå†· + ä¸‹æš– å£çº¢åç´«çº¢è‰²å£çº¢æ¯”æ©˜è‰²å£çº¢æ›´é€‚åˆ å†·è‰²è°ƒå†·è‰²è°ƒåŒ…æ‹¬å¤§çƒ­çš„å†°æ·‡æ·‹è‰²ã€å©´å„¿è“ã€æ¨±èŠ±ç²‰ï¼Œåç´«çš„çº¢ç­‰ç­‰ã€‚","tags":[]},{"title":"ä»£ç è§‚","date":"2018-12-22T09:58:39.000Z","path":"2018/12/22/ä»£ç è§‚/","text":"ä»£ç è¦æ¸…æ™°åœ°è¡¨è¾¾æ„å›¾ ä»£ç æ˜¯ç»™äººè¯»çš„ï¼Œä¸è¦è€å°èªæ˜ã€‚ ç”¨ä»£ç æ²Ÿé€š æ³¨é‡Šçš„è‰ºæœ¯ã€‚ åŠ¨æ€åœ°è¿›è¡Œå–èˆ è®°ä½ï¼Œæ²¡æœ‰æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚å„ç§ç›®æ ‡ä¸å¯èƒ½é¢é¢ä¿±åˆ°ï¼Œå…³æ³¨å¯¹ç”¨æˆ·é‡è¦çš„éœ€æ±‚ã€‚ å¢é‡å¼ç¼–ç¨‹ å†™ä¸€ç‚¹ä»£ç å°±æ„å»ºã€æµ‹è¯•ã€é‡æ„ã€ä¼‘æ¯ã€‚è®©ä»£ç å¹²å‡€åˆ©è½ã€‚ å°½é‡ç®€å• å®ç®€å‹¿ç¹ã€‚å¦‚æœæ²¡æœ‰å……è¶³çš„ç†ç”±ï¼Œå°±ä¸è¦ä½¿ç”¨ä»€ä¹ˆæ¨¡å¼ã€åŸåˆ™å’Œç‰¹åˆ«çš„æŠ€æœ¯ã€‚ ç¼–å†™å†…èšçš„ä»£ç  ç±»å’Œç»„ä»¶åº”è¯¥è¶³å¤Ÿå°ï¼Œä»»åŠ¡å•ä¸€ã€‚ å‘ŠçŸ¥ï¼Œä¸è¦è¯¢é—® å¤šç”¨æ¶ˆæ¯ä¼ é€’ï¼Œå°‘ç”¨å‡½æ•°è°ƒç”¨ã€‚ æ ¹æ®å¥‘çº¦è¿›è¡Œæ›¿æ¢ å§”æ‰˜å¾€å¾€ä¼˜äºç»§æ‰¿ è®°å½•é—®é¢˜è§£å†³æ—¥å¿— ä¸è¦åœ¨åŒä¸€åœ°æ–¹æ‘”å€’ä¸¤æ¬¡ã€‚é”™è¯¯æ˜¯æœ€å®è´µçš„è´¢å¯Œã€‚ è­¦å‘Šå°±æ˜¯é”™è¯¯ å¿½è§†ç¼–è¯‘å™¨çš„è­¦å‘Šå¯èƒ½é“¸æˆå¤§é”™ã€‚ å¯¹é—®é¢˜å„ä¸ªå‡»ç ´ åˆ†è€Œæ²»ä¹‹æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æœ€é‡è¦çš„æ€æƒ³ä¹‹ä¸€ã€‚ä½†æ˜¯ï¼Œè¦ä»è®¾è®¡å’ŒåŸå‹é˜¶æ®µå°±è€ƒè™‘å„éƒ¨åˆ†åº”è¯¥èƒ½å¤Ÿå¾ˆå¥½åœ°åˆ†ç¦»ã€‚ æŠ¥å‘Šæ‰€æœ‰çš„å¼‚å¸¸ æä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ ç¨å¾®å¤šèŠ±ä¸€ç‚¹å¿ƒæ€ï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œå°†ç»™ä½ å¸¦æ¥æå¤§ä¾¿åˆ© å‡†å¤‡å¥½åå†å…±äº«ä»£ç  ä¸è¦æäº¤æ— æ³•ç¼–è¯‘æˆ–è€…æ²¡æœ‰é€šè¿‡å•å…ƒæµ‹è¯•çš„ä»£ç ï¼ åšä»£ç å¤æŸ¥ å¤æŸ¥å¯¹æé«˜ä»£ç è´¨é‡ã€å‡å°‘é”™è¯¯æä¸ºé‡è¦ã€‚ åŠæ—¶é€šæŠ¥è¿›å±•ä¸é—®é¢˜ ä¸»åŠ¨é€šæŠ¥ï¼Œä¸è¦è®©åˆ«äººæ¥é—®ä½ ","tags":[]},{"title":"Awesome Frontend","date":"2018-12-22T09:21:05.000Z","path":"2018/12/22/Awesome Frontend/","text":"https://www.yuque.com/kobg2k/ipgh9u","tags":[]},{"title":"è‡ªåŠ¨åŒ–éƒ¨ç½²","date":"2018-12-22T09:20:04.000Z","path":"2018/12/22/è‡ªåŠ¨åŒ–éƒ¨ç½²/","text":"è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸‰å‰‘å®¢Jenkins + Ansible + Gitlab æŒç»­äº¤ä»˜ç°åœºäº¤ä»˜ =&gt; shellå‘½ä»¤è¡Œ =&gt; æŒç»­äº¤ä»˜ ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼šGitLab + GitHub æŒç»­é›†æˆå·¥å…·ï¼šJenkins éƒ¨ç½²å·¥å…·(è¿œç¨‹æœåŠ¡å™¨ç«¯äº¤ä»˜æ¨é€): Ansible + Saltstack + Chef GitLabGitLab ä¸ GitHub çš„ä¸åŒ GitHubï¼šåˆ†å¸ƒå¼åœ¨çº¿ä»£ç æ‰˜ç®¡ä»“åº“ ä¸ªäººç‰ˆæœ¬å¯åœ¨çº¿å…è´¹ä½¿ç”¨ ä¼ä¸šç‰ˆæœ¬æ”¶è´¹ä¸”éœ€è¦æœåŠ¡å™¨å®‰è£… GitLabï¼šåˆ†å¸ƒå¼åœ¨çº¿ä»£ç ä»“åº“æ‰˜ç®¡è½¯ä»¶ ç¤¾åŒºå…è´¹ç‰ˆæœ¬éœ€è¦æœåŠ¡å™¨å®‰è£… ä¼ä¸šæ”¶è´¹ç‰ˆæœ¬éœ€è¦æœåŠ¡å™¨å®‰è£… GitLabçš„ä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ å¼€æºå…è´¹ï¼Œé€‚åˆä¸­å°å‹å…¬å¸å°†ä»£ç æ”¾ç½®åœ¨è¯¥ç³»ç»Ÿä¸­ å·®å¼‚åŒ–çš„ç‰ˆæœ¬ç®¡ç†ï¼Œç¦»çº¿åŒæ­¥ä»¥åŠå¼ºå¤§åˆ†æ”¯ç®¡ç†åŠŸèƒ½ ä¾¿æ·çš„GUIæ“ä½œç•Œé¢ä»¥åŠå¼ºå¤§è´¦æˆ·æƒé™ç®¡ç†åŠŸèƒ½ é›†æˆåº¦å¾ˆé«˜ï¼Œèƒ½å¤Ÿé›†æˆç»å¤§å¤šæ•°çš„å¼€å‘å·¥å…· æ”¯æŒå†…ç½®HAï¼Œä¿è¯åœ¨é«˜å¹¶å‘ä¸‹ä»æ—§å®ç°é«˜å¯ç”¨æ€§ GitLabä¸»è¦æœåŠ¡æ„æˆ Nginxé™æ€WebæœåŠ¡å™¨ GitLab-workhorseè½»é‡çº§çš„åå‘ä»£ç†æœåŠ¡å™¨ Gitlab-shellç”¨äºå¤„ç†Gitå‘½ä»¤å’Œä¿®æ”¹authorized keysåˆ—è¡¨ Logrotateæ—¥å¿—æ–‡ä»¶ç®¡ç†å·¥å…· Postgresqlæ•°æ®åº“ Redisç¼“å­˜æœåŠ¡å™¨ Gitlabå®‰è£…é…ç½®ç®¡ç† åˆ©ç”¨VirtualBoxåˆ›å»ºæµ‹è¯•æœåŠ¡å™¨ å®‰è£…Gitlabå‰ç³»ç»Ÿé¢„é…ç½®å‡†å¤‡å·¥ä½œ å…³é—­firewalldé˜²ç«å¢™ï¼šä¿è¯æœ¬åœ°PCå¯ä»¥è®¿é—®è™šæ‹Ÿæœºä¸­çš„æ‰€æœ‰èµ„æº # systemctl stop firewalld : å…³é—­å½“å‰æ­£åœ¨è¿è¡Œçš„é˜²ç«å¢™æœåŠ¡ # systemctl disable firewalld : ç¦ç”¨é˜²ç«å¢™å¼€æœºå¯åŠ¨ å…³é—­SELINUXï¼ˆå¼ºåˆ¶è®¿é—®æ§åˆ¶å®‰å…¨ç­–ç•¥ï¼‰å¹¶é‡å¯ç³»ç»Ÿï¼šä¿è¯è¯¥ç­–ç•¥ä¸ä¼šå½±å“Gitlabçš„æ­£å¸¸è¿è¡Œ # vi /etc/sysconfig/selinux: ä¿®æ”¹SELINUX=disabled # reboot: é‡å¯ç³»ç»Ÿï¼Œå®ŒæˆSELINUXçš„ç¦ç”¨æ“ä½œ getenforce: æŸ¥çœ‹SELINUXæ˜¯å¦å·²ç»è¢«ç¦ç”¨ å®‰è£…Omnibus Gitlab-ce package # yum -y install curl policycoreutils openssh-server openssh-clients postfix: å®‰è£…Gitlabç»„ä»¶ # curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash: é…ç½®YUMä»“åº“ sudo yum install postfix sudo systemctl enable postfix sudo systemctl start postfix: å¯åŠ¨postfixé‚®ä»¶æœåŠ¡ å®‰è£…Gitlab-ceç¤¾åŒºç‰ˆæœ¬ï¼š# yum install -y gitlab-ce Omnibus Gitlab ç­‰ç›¸å…³é…ç½®åˆå§‹åŒ–å¹¶å®Œæˆå®‰è£… è¯ä¹¦åˆ›å»ºä¸é…ç½®åŠ è½½ åˆ›å»ºæœ¬åœ°ç§æœ‰å¯†é’¥ mkdir -p /etc/gitlab/ssl openssl genrsa -out &quot;/etc/gitlab/ssl/gitlab.example.com.key&quot; 2048 openssl req -new -key &quot;/etc/gitlab/ssl/gitlab.example.com.key&quot; -out &quot;/etc/gitlab/ssl/gitlab.example.com.csr&quot; openssl x509 -req -days 365 -in &quot;/etc/gitlab/ssl/gitlab.example.com.csr&quot; -signkey &quot;/etc/gitlab/ssl/gitlab.example.com.key&quot; -out &quot;/etc/gitlab/ssl/gitlab.example.com.crt&quot; openssl dhparam -out /etc/gitlab/ssl/dhparams.pem 2048 æ›´æ”¹è¯ä¹¦æƒé™ï¼šchmod 600 * Nginx SSL ä»£ç†æœåŠ¡é…ç½® vi /etc/gitlab/gitlab.rb ä¿®æ”¹ external_url &#39;https://gitlab.example.com&#39; ä¿®æ”¹ nginx[&#39;/redirect_http_to_https&#39;] = true ä¿®æ”¹ nginx[&#39;ssl_certificate&#39;] = &#39;/etc/gitlab/ssl/gitlab.example.com.crt&#39; ä¿®æ”¹ nginx[&#39;ssl_certificate_key&#39;] = &#39;/etc/gitlab/ssl/gitlab.example.com.key&#39; ä¿®æ”¹ nginx[&#39;ssl_dhparam&#39;] = &#39;/etc/gitlab/ssl/dhparams.pem&#39; vi /var/opt/gitlab/nginx/conf/gitlab-http.conf æ‰¾åˆ° server_name gitlab.example.com,å¹¶åœ¨ä¸‹é¢æ·»åŠ rewrite ^(.*)$ https://$host$1 permanent gitlab-ctl restart ç¼–è¾‘windowsä¸‹çš„hostæ–‡ä»¶ï¼Œæ‰‹åŠ¨æ·»åŠ ä¸€æ¡DNSè®°å½•10.110.16.20 gitlab.example.com åˆå§‹åŒ–Gitlabç›¸å…³æœåŠ¡å¹¶å®Œæˆå®‰è£… # gitlab-ctl reconfigure èµ„æºInstallation methods for GitLab","tags":[]},{"title":"React Router 4.0","date":"2018-12-22T09:16:12.000Z","path":"2018/12/22/React Router 4.0/","text":"è·¯ç”±ä½¿ç”¨åœºæ™¯ å¦‚æœæ˜¯åŠŸèƒ½å¤æ‚çš„ç½‘ç«™ï¼Œå»ºè®®åç«¯è·¯ç”±ï¼Œä¸å»ºè®®å¤§å‹ç½‘ç«™ç”¨å‰ç«¯è·¯ç”±ï¼Œå¤ªé‡ï¼ˆé€šå¸¸æ¥è¯´å°±æ˜¯æ•´ä¸ªç½‘ç«™ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠŸèƒ½å•ä¸€çš„å¤§å‹ç½‘ç«™ï¼Œæ¯”å¦‚æºç¨‹è¿™æ ·çš„ï¼‰ åŠŸèƒ½å•ä¸€çš„ç½‘ç«™ï¼Œæ¯”å¦‚webappé‚£ç§ï¼Œå»ºè®®å‰ç«¯è·¯ç”±ï¼ˆé€šå¸¸è¯´çš„å•é¡µåº”ç”¨SPAï¼‰ é¡µé¢æœ‰å¾ˆå¤šç»„ä»¶å¤ç”¨çš„æƒ…å†µï¼Œå»ºè®®å‰ç«¯è·¯ç”±ï¼ˆå¦‚æœé¡µé¢åŠŸèƒ½å¤æ‚ï¼Œå‚è€ƒç¬¬ä¸€æ¡ï¼‰ æ— æ‰€è°“å‰ç«¯è¿˜æ˜¯åç«¯è·¯ç”±çš„ç½‘ç«™ï¼Œæ¯”å¦‚åå°ç®¡ç†ç³»ç»Ÿï¼Œé‚£å°±å‰ç«¯è·¯ç”±å§ï¼Œæ¯•ç«Ÿæ— è®ºæ˜¯Vueè¿˜æ˜¯React,éƒ½æœ‰å¥½å‡ ä¸ªæ­é…çš„UIåº“ï¼Œå‰ç«¯è·¯ç”±ä¼šæ¯”è¾ƒé¡ºå¿ƒ åŠŸèƒ½å¤ªç®€å•çš„ç½‘ç«™ï¼Œç®€å•åˆ°å°±å‡ ä¸ªé™æ€é¡µé¢ï¼Œå‰ç«¯è·¯ç”±ã€åç«¯è·¯ç”±å‡å¯ï¼Œç”šè‡³ä¸éœ€è¦è·¯ç”± å‰ç«¯è·¯ç”±ä¸èƒ½åšSEO äº‹æƒ…æ²¡æœ‰ç»å¯¹æ€§ï¼Œä»»ä½•å‰ç«¯è·¯ç”±çš„ç½‘ç«™è‚¯å®šèƒ½ç”¨åç«¯è·¯ç”±å®ç°ï¼Œåä¹‹äº¦ç„¶ å¯ä»¥æŠŠé¡¹ç›®æŒ‰ä¸åŒçš„éœ€æ±‚æ‹†åˆ†å¼€ï¼Œæœ‰äº›éƒ¨åˆ†åå°è·¯ç”±ï¼Œéƒ¨åˆ†å‰ç«¯è·¯ç”±ä¹Ÿå¯ã€‚ RouteråŸç† å†å²ï¼šå…¥æ ˆ | å‡ºæ ˆï¼Œè®°å½•è·³è½¬å…³ç³»è¿˜èƒ½åŸè·¯è·³è½¬å›å»çš„æœºåˆ¶ è·³è½¬ï¼šå¯ä»¥ä¼ é€’å‚æ•°ï¼Œè´Ÿè´£ä¸åŒé¡µé¢çš„è·³è½¬åŠ¨ä½œ äº‹ä»¶ï¼šæ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢æˆ–è€…é€€å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢æ—¶è§¦å‘çš„é€»è¾‘ åŸç”Ÿè·¯ç”±æ–¹æ³• window.location window.location.pathname window.location.search é¡µé¢è·¯ç”±window.location.href = â€˜/testâ€™ // é¡µé¢è·¯ç”±history.back() // å‡ºæ ˆ hashè·¯ç”±window.location.hash = â€˜#testâ€™// hashå€¼å˜åŒ–æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°window.onhashchange = () =&gt; (console.log(â€˜current routerâ€™, window.location.hash)) H5è·¯ç”±history.pushState(name, title, toPath) // å…¥æ ˆhistory.replaceState(name, title, toPath) // ä¸ä¼šæ›´æ”¹å†å²è®°å½•ï¼Œæ›¿æ¢å½“å‰çŠ¶æ€å€¼// å‡ºæ ˆæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°window.onpopstate = (e) =&gt; (console.log(â€˜h5 router changeâ€™, e.state)) å¸¸è§Router é¡µé¢Router: é¡µé¢åˆ·æ–° Hash Router: é¡µé¢ä¸åˆ·æ–°ï¼Œä½†æ˜¯ä¼šæ”¹å˜url H5 Router: æ—¢èƒ½æ“ä½œHashåˆèƒ½æ“ä½œè·¯å¾„ï¼Œå…¼å®¹æ€§å·®ã€‚å’Œhashç±»ä¼¼ã€‚é¡µé¢ä¸åˆ·æ–°ï¼Œä½†æ˜¯ä¼šæ”¹å˜url ç›¸äº’ç‹¬ç«‹çš„åŒ…yarn add react-router-dom@v4.2.2 react-router React Router æ ¸å¿ƒ react-router-dom ç”¨äº DOM ç»‘å®šçš„ React Router react-router-native ç”¨äº React Native çš„ React Router react-router-redux React Router å’Œ Redux çš„é›†æˆ react-router-config é™æ€è·¯ç”±é…ç½®çš„å°åŠ©æ‰‹ &lt;BrowserRouter&gt;ç”¨H5çš„æ–¹å¼æ¥å®ç°çš„ basename: string ä½œç”¨ï¼šä¸ºæ‰€æœ‰ä½ç½®æ·»åŠ ä¸€ä¸ªåŸºå‡†UR åœºæ™¯ï¼šéœ€è¦æŠŠé¡µé¢éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„äºŒçº§ç›®å½•12&lt;BrowserRouter basename=\"/minooo\" /&gt;&lt;Link to=\"/react\" /&gt; // æœ€ç»ˆæ¸²æŸ“ä¸º &lt;a href=\"/minooo/react\"&gt; getUserConfirmation: func ä½œç”¨ï¼šå¯¼èˆªåˆ°æ­¤é¡µé¢å‰æ‰§è¡Œçš„å‡½æ•°ï¼Œé»˜è®¤ä½¿ç”¨ window.confirm åœºæ™¯ï¼šå½“éœ€è¦ç”¨æˆ·è¿›å…¥é¡µé¢å‰æ‰§è¡Œä»€ä¹ˆæ“ä½œæ—¶å¯ç”¨123456const getConfirmation = (message, callback) =&gt; &#123;const allowTransition = window.confirm(message)callback(allowTransition)&#125;&lt;BrowserRouter getUserConfirmation=&#123;getConfirmation('Are you sure?', yourCallBack)&#125; /&gt; forceRefresh: bool ä½œç”¨ï¼šå½“æµè§ˆå™¨ä¸æ”¯æŒ HTML5 çš„ history API æ—¶å¼ºåˆ¶åˆ·æ–°é¡µé¢12const supportsHistory = 'pushState' in window.history&lt;BrowserRouter forceRefresh=&#123;!supportsHistory&#125; /&gt; keyLength: number ä½œç”¨ï¼šè®¾ç½®å®ƒé‡Œé¢è·¯ç”±çš„ location.key çš„é•¿åº¦ã€‚é»˜è®¤æ˜¯6ã€‚ï¼ˆkeyçš„ä½œç”¨ï¼šç‚¹å‡»åŒä¸€ä¸ªé“¾æ¥æ—¶ï¼Œæ¯æ¬¡è¯¥è·¯ç”±ä¸‹çš„ location.keyéƒ½ä¼šæ”¹å˜ï¼Œå¯ä»¥é€šè¿‡ key çš„å˜åŒ–æ¥åˆ·æ–°é¡µé¢ã€‚ï¼‰ åœºæ™¯ï¼šæŒ‰éœ€è®¾ç½® &lt;BrowserRouter keyLength={12} /&gt; children: node ä½œç”¨ï¼šæ¸²æŸ“å”¯ä¸€å­å…ƒç´  åœºæ™¯ï¼šä½œä¸ºä¸€ä¸ª Reactç»„ä»¶ï¼Œå¤©ç”Ÿè‡ªå¸¦ children å±æ€§ &lt;Route&gt;è·¯ç”±è§„åˆ™ è‡ªå¸¦ä¸‰ä¸ª render method å’Œä¸‰ä¸ª props(match | location | history) ã€‚ render methodæ¯ç§ render method éƒ½æœ‰ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼ŒåŒä¸€ä¸ª åº”è¯¥åªä½¿ç”¨ä¸€ç§ render method ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½ å°†ä½¿ç”¨ component &lt;Route component&gt; åªæœ‰å½“è®¿é—®åœ°å€å’Œè·¯ç”±åŒ¹é…æ—¶ï¼Œä¸€ä¸ª React component æ‰ä¼šè¢«æ¸²æŸ“ï¼Œæ­¤æ—¶æ­¤ç»„ä»¶æ¥å— route props (match, location, history)ã€‚ å½“ä½¿ç”¨ component æ—¶ï¼Œrouter å°†ä½¿ç”¨ React.createElement æ ¹æ®ç»™å®šçš„ component åˆ›å»ºä¸€ä¸ªæ–°çš„ React å…ƒç´ ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä½¿ç”¨å†…è”å‡½æ•°ï¼ˆinline functionï¼‰ä¼ å€¼ç»™ componentå°†ä¼šäº§ç”Ÿä¸å¿…è¦çš„é‡å¤è£…è½½ã€‚å¯¹äºå†…è”æ¸²æŸ“ï¼ˆinline renderingï¼‰, å»ºè®®ä½¿ç”¨ render propã€‚ 1234&lt;Route path=\"/user/:username\" component=&#123;User&#125; /&gt;const User = (&#123; match &#125;) =&gt; &#123;return &lt;h1&gt;Hello &#123;match.params.username&#125;!&lt;/h1&gt;&#125; &lt;Route render&gt; æ­¤æ–¹æ³•é€‚ç”¨äºå†…è”æ¸²æŸ“ï¼Œè€Œä¸”ä¸ä¼šäº§ç”Ÿä¸Šæ–‡è¯´çš„é‡å¤è£…è½½é—®é¢˜ã€‚ ä¹Ÿå¯ç”¨äºå­è·¯ç”± renderæ–¹æ³•ä¼šä¼ å…¥routeçš„ä¿¡æ¯ 12345678910111213// å†…è”æ¸²æŸ“&lt;Route path=\"/home\" render=&#123;() =&gt; &lt;h1&gt;Home&lt;/h1&#125; /&gt;// åŒ…è£… ç»„åˆconst FadingRoute = (&#123; component: Component, ...rest &#125;) =&gt; (&lt;Route &#123;...rest&#125; render=&#123;props =&gt; ( &lt;FadeIn&gt; &lt;Component &#123;...props&#125; /&gt; &lt;/FadeIn&gt;)&#125; /&gt;)&lt;FadingRoute path=\"/cool\" component=&#123;Something&#125; /&gt; &lt;Route children&gt; å­è·¯ç”±ï¼šæœ‰æ—¶å€™åªæƒ³çŸ¥é“è®¿é—®åœ°å€æ˜¯å¦åŒ¹é…ï¼Œç„¶åæ”¹å˜ä¸‹åˆ«çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯å¯¹åº”çš„æ•´ä¸ªé¡µé¢ 1234567891011&lt;ul&gt; &lt;ListIemLink to='somewhere' /&gt; &lt;ListIemLink to='somewhere-ele' /&gt;&lt;/ul&gt;const ListIemLink = (&#123;to, ...rest&#125;) =&gt; ( &lt;Route path=&#123;to&#125; children=&#123;(&#123;match&#125; =&gt; ( &lt;li className=&#123;match ? 'active' : ' '&#125;&gt; &lt;Link to=&#123;to&#125; &#123;...rest&#125; /&gt; &lt;/li&gt; ))&#125;&gt;&lt;/Route&gt;) path: string ä»»ä½•å¯ä»¥è¢«è§£æçš„æœ‰æ•ˆURLè·¯å¾„ å¦‚æœä¸ç»™pathï¼Œé‚£ä¹ˆè·¯ç”±å°†æ€»æ˜¯åŒ¹é… exact: bool ç²¾ç¡®åŒ¹é… path ä¸º â€˜/oneâ€™ çš„è·¯ç”±å°†ä¸èƒ½åŒ¹é… â€˜/one/twoâ€™ï¼Œåä¹‹ï¼Œäº¦ç„¶ã€‚æ‰€ä»¥åœ¨é…å­è·¯ç”±æ—¶åƒä¸‡æ³¨æ„ä¸è¦é…è¿™ä¸ªå‚æ•° strict: bool å¯¹è·¯å¾„æœ«å°¾æ–œæ çš„åŒ¹é…ã€‚å¦‚æœä¸º trueã€‚path ä¸º â€˜/one/â€˜ å°†ä¸èƒ½åŒ¹é… â€˜/oneâ€™ ä½†å¯ä»¥åŒ¹é… â€˜/one/twoâ€™ã€‚ å¦‚æœè¦ç¡®ä¿è·¯ç”±æ²¡æœ‰æœ«å°¾æ–œæ ï¼Œé‚£ä¹ˆ strict å’Œ exact éƒ½å¿…é¡»åŒæ—¶ä¸º true ä¸ºåº”ç”¨æä¾›å£°æ˜å¼ï¼Œæ— éšœç¢å¯¼èˆª to: string ä½œç”¨ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯å¾„ åœºæ™¯ï¼šå¦‚æœåªæ˜¯å•çº¯çš„è·³è½¬å°±ç›´æ¥ç”¨å­—ç¬¦ä¸²å½¢å¼çš„è·¯å¾„ã€‚ to: object ä½œç”¨ï¼šæºå¸¦å‚æ•°è·³è½¬åˆ°æŒ‡å®šè·¯å¾„ åœºæ™¯ï¼šæ¯”å¦‚ä½ ç‚¹å‡»çš„è¿™ä¸ªé“¾æ¥å°†è¦è·³è½¬çš„é¡µé¢éœ€è¦å±•ç¤ºæ­¤é“¾æ¥å¯¹åº”çš„å†…å®¹ï¼Œåˆæ¯”å¦‚è¿™æ˜¯ä¸ªæ”¯ä»˜è·³è½¬ï¼Œéœ€è¦æŠŠå•†å“çš„ä»·æ ¼ç­‰ä¿¡æ¯ä¼ é€’è¿‡å»ã€‚ 123456&lt;Link to=&#123;&#123; pathname: &apos;/course&apos;, search: &apos;?sort=name&apos;, state: &#123; price: 18 &#125;&#125;&#125; /&gt;&lt;Link to=&quot;/courses&quot; /&gt; replace: bool ä¸º true æ—¶ï¼Œç‚¹å‡»é“¾æ¥åå°†ä½¿ç”¨æ–°åœ°å€æ›¿æ¢æ‰ä¸Šä¸€æ¬¡è®¿é—®çš„åœ°å€ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Œæ¯”å¦‚ï¼šä½ ä¾æ¬¡è®¿é—® â€˜/oneâ€™ â€˜/twoâ€™ â€˜/threeâ€™ â€™/fourâ€™ è¿™å››ä¸ªåœ°å€ï¼Œå¦‚æœå›é€€ï¼Œå°†ä¾æ¬¡å›é€€è‡³ â€˜/threeâ€™ â€˜/twoâ€™ â€˜/oneâ€™ ï¼Œè¿™ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œå‡å¦‚æˆ‘ä»¬æŠŠé“¾æ¥ â€˜/threeâ€™ ä¸­çš„ replace è®¾ä¸º true æ—¶ã€‚ä¾æ¬¡ç‚¹å‡» one two three four ç„¶åå†å›é€€ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¼šä¾æ¬¡é€€è‡³ â€˜/threeâ€™ â€˜/oneâ€™ï¼ åœºæ™¯ï¼šåœ¨ç”¨ è·¯ç”± åšé€‰é¡¹å¡æ—¶å€™ä¼šç”¨åˆ° &lt;NavLink&gt;ä¸ºäº†å®ç°é¡µé¢å¯¼èˆªçš„â€œæ¿€æ´»çŠ¶æ€â€ï¼Œæ˜¯&lt;Link&gt;çš„ç‰¹åˆ«ç‰ˆæœ¬ activeClassName: string å¯¼èˆªé€‰ä¸­æ¿€æ´»æ—¶å€™åº”ç”¨çš„æ ·å¼åï¼Œé»˜è®¤æ ·å¼åä¸º active 1234&lt;NavLink to=\"/about\" activeClassName=\"selected\"&gt;MyBlog&lt;/NavLink&gt; activeStyle: object å¦‚æœä¸æƒ³ä½¿ç”¨æ ·å¼åå°±ç›´æ¥å†™style exact: bool è‹¥ä¸º trueï¼Œåªæœ‰å½“è®¿é—®åœ°å€ä¸¥æ ¼åŒ¹é…æ—¶æ¿€æ´»æ ·å¼æ‰ä¼šåº”ç”¨ strict: bool è‹¥ä¸º trueï¼Œåªæœ‰å½“è®¿é—®åœ°å€åç¼€æ–œæ ä¸¥æ ¼åŒ¹é…ï¼ˆæœ‰æˆ–æ— ï¼‰æ—¶æ¿€æ´»æ ·å¼æ‰ä¼šåº”ç”¨ isActive: func å†³å®šå¯¼èˆªæ˜¯å¦æ¿€æ´»ï¼Œæˆ–è€…åœ¨å¯¼èˆªæ¿€æ´»æ—¶å€™åšç‚¹åˆ«çš„äº‹æƒ…ã€‚ä¸ç®¡æ€æ ·ï¼Œå®ƒä¸èƒ½å†³å®šå¯¹åº”é¡µé¢æ˜¯å¦å¯ä»¥æ¸²æŸ“ã€‚ &lt;Switch&gt;è·¯ç”±é€‰é¡¹ï¼Œè§£å†³è·¯ç”±å¤šæ¬¡åŒ¹é…çš„é—®é¢˜åªæ¸²æŸ“å‡ºç¬¬ä¸€ä¸ªä¸å½“å‰è®¿é—®åœ°å€åŒ¹é…çš„ &lt;Route&gt; æˆ– &lt;Redirect&gt;åœºæ™¯ï¼šå¯¹äºè½¬åœºåŠ¨ç”»éå¸¸é€‚ç”¨ï¼Œå› ä¸ºè¢«æ¸²æŸ“çš„è·¯ç”±å’Œå‰ä¸€ä¸ªè¢«æ¸²æŸ“çš„è·¯ç”±å¤„äºåŒä¸€ä¸ªèŠ‚ç‚¹ä½ç½®ï¼12345678910111213&lt;Fade&gt; &lt;Switch&gt; &#123;/* ç”¨äº†Switch è¿™é‡Œæ¯æ¬¡åªåŒ¹é…ä¸€ä¸ªè·¯ç”±ï¼Œæ‰€æœ‰åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ */&#125; &lt;Route/&gt; &lt;Route/&gt; &lt;/Switch&gt;&lt;/Fade&gt;&lt;Fade&gt; &lt;Route/&gt; &lt;Route/&gt; &#123;/* ä¸ç”¨ Switch è¿™é‡Œå¯èƒ½å°±ä¼šåŒ¹é…å¤šä¸ªè·¯ç”±äº†ï¼Œå³ä¾¿åŒ¹é…ä¸åˆ°ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªnullï¼Œä½¿åŠ¨ç”»è®¡ç®—å¢åŠ äº†ä¸€äº›éº»çƒ¦ã€‚ */&#125;&lt;/Fade&gt; children: node &lt;Switch&gt; ä¸‹çš„å­èŠ‚ç‚¹åªèƒ½æ˜¯ &lt;Route&gt; æˆ– &lt;Redirect&gt; å…ƒç´ ã€‚åªæœ‰ä¸å½“å‰è®¿é—®åœ°å€åŒ¹é…çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹æ‰ä¼šè¢«æ¸²æŸ“ã€‚&lt;Route&gt; å…ƒç´ ç”¨å®ƒä»¬çš„ path å±æ€§åŒ¹é…ï¼Œ&lt;Redirect&gt; å…ƒç´ ä½¿ç”¨å®ƒä»¬çš„ from å±æ€§åŒ¹é…ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”çš„ path æˆ– fromï¼Œé‚£ä¹ˆå®ƒä»¬å°†åŒ¹é…ä»»ä½•å½“å‰è®¿é—®åœ°å€ã€‚ &lt;Redirect&gt;æ¸²æŸ“æ—¶å°†å¯¼èˆªåˆ°ä¸€ä¸ªæ–°åœ°å€ï¼Œè¿™ä¸ªæ–°åœ°å€è¦†ç›–åœ¨è®¿é—®å†å²ä¿¡æ¯é‡Œé¢çš„æœ¬è¯¥è®¿é—®çš„é‚£ä¸ªåœ°å€ to: string é‡å®šå‘çš„ URL å­—ç¬¦ä¸² to: object é‡å®šå‘çš„ location å¯¹è±¡ push: bool è‹¥ä¸ºçœŸï¼Œé‡å®šå‘æ“ä½œå°†ä¼šæŠŠæ–°åœ°å€åŠ å…¥åˆ°è®¿é—®å†å²è®°å½•é‡Œé¢ï¼Œå¹¶ä¸”æ— æ³•å›é€€åˆ°å‰é¢çš„é¡µé¢ã€‚ from: string éœ€è¦åŒ¹é…çš„å°†è¦è¢«é‡å®šå‘è·¯å¾„ &lt;Prompt&gt;å½“ç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢å‰åšå‡ºä¸€äº›æç¤ºã€‚ message: string å½“ç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œè®¾ç½®çš„æç¤ºä¿¡æ¯ã€‚ &lt;Prompt message=&quot;ç¡®å®šè¦ç¦»å¼€ï¼Ÿ&quot; /&gt; message: func å½“ç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œè®¾ç½®çš„å›æ‰å‡½æ•° &lt;Prompt message={location =&gt; (ä½ ç¡®å®šè¦è·³è½¬åˆ° \\${location.pathname}é¡µé¢å—?)} /&gt; when: bool é€šè¿‡è®¾ç½®ä¸€å®šæ¡ä»¶å†³å®šæ˜¯å¦å¯ç”¨Prompt historyå®ç°äº†å¯¹ä¼šè¯ï¼ˆsessionï¼‰å†å²çš„ç®¡ç† â€œbrowser historyâ€ - history åœ¨ DOM ä¸Šçš„å®ç°ï¼Œç”¨äºæ”¯æŒ HTML5 history API çš„æµè§ˆå™¨ â€œhash historyâ€ - history åœ¨ DOM ä¸Šçš„å®ç°ï¼Œç”¨äºæ—§ç‰ˆæµè§ˆå™¨ã€‚ â€œmemory historyâ€ - history åœ¨å†…å­˜ä¸Šçš„å®ç°ï¼Œç”¨äºæµ‹è¯•æˆ–é DOM ç¯å¢ƒï¼ˆä¾‹å¦‚ React Nativeï¼‰ historyçš„å±æ€§å’Œæ–¹æ³• length: number æµè§ˆå†å²å †æ ˆä¸­çš„æ¡ç›®æ•° action: string è·¯ç”±è·³è½¬åˆ°å½“å‰é¡µé¢æ‰§è¡Œçš„åŠ¨ä½œï¼Œåˆ†ä¸º PUSH, REPLACE, POP location: object å½“å‰è®¿é—®åœ°å€ä¿¡æ¯ç»„æˆçš„å¯¹è±¡ pathname: string URLè·¯å¾„ search: string URLä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸² hash: string URLçš„ hash ç‰‡æ®µ state: string ä¾‹å¦‚æ‰§è¡Œ push(path, state) æ“ä½œæ—¶ï¼Œlocation çš„ state å°†è¢«æä¾›åˆ°å †æ ˆä¿¡æ¯é‡Œï¼Œstate åªæœ‰åœ¨ browser å’Œ memory history æœ‰æ•ˆã€‚ push(path, [state]) åœ¨å†å²å †æ ˆä¿¡æ¯é‡ŒåŠ å…¥ä¸€ä¸ªæ–°æ¡ç›® replace(path, [state]) åœ¨å†å²å †æ ˆä¿¡æ¯é‡Œæ›¿æ¢æ‰å½“å‰çš„æ¡ç›® go(n) å°† history å †æ ˆä¸­çš„æŒ‡é’ˆå‘å‰ç§»åŠ¨ n goBack() ç­‰åŒäº go(-1) goForward ç­‰åŒäº go(1) block(prompt) é˜»æ­¢è·³è½¬ history å¯¹è±¡æ˜¯å¯å˜çš„ï¼Œå› ä¸ºå»ºè®®ä» çš„ prop é‡Œæ¥è·å– locationï¼Œè€Œä¸æ˜¯ä» history.location ç›´æ¥è·å–ã€‚è¿™æ ·å¯ä»¥ä¿è¯ React åœ¨ç”Ÿå‘½å‘¨æœŸä¸­çš„é’©å­å‡½æ•°æ­£å¸¸æ‰§è¡Œ location å½“å‰çš„ä½ç½®ï¼Œå°†è¦å»çš„ä½ç½®ï¼Œæˆ–æ˜¯ä¹‹å‰æ‰€åœ¨çš„ä½ç½® location å¯¹è±¡ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤å¯ä»¥åœ¨ç”Ÿå‘½å‘¨æœŸçš„å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨ location å¯¹è±¡æ¥æŸ¥çœ‹å½“å‰é¡µé¢çš„è®¿é—®åœ°å€æ˜¯å¦å‘ç”Ÿæ”¹å˜ã€‚ åœºæ™¯ï¼šåœ¨è·å–è¿œç¨‹æ•°æ®ä»¥åŠä½¿ç”¨åŠ¨ç”»æ—¶éå¸¸æœ‰ç”¨ 123456789&#123; key: 'sdfad1' pathname: '/about', search: '?name=minooo' hash: '#sdfas', state: &#123; price: 123 &#125;&#125; è·å–locationå¯¹è±¡ åœ¨ Route component ä¸­ï¼Œä»¥ this.props.location è·å– åœ¨ Route render ä¸­ï¼Œä»¥ ({location}) =&gt; () æ–¹å¼è·å– åœ¨ Route children ä¸­ï¼Œä»¥ ({location}) =&gt; () æ–¹å¼è·å– åœ¨ withRouter ä¸­ï¼Œä»¥ this.props.location çš„æ–¹å¼è·å– match åŒ…å«äº† å¦‚ä½•ä¸ URL åŒ¹é…çš„ä¿¡æ¯ params: object è·¯å¾„å‚æ•°ï¼Œé€šè¿‡è§£æ URL ä¸­çš„åŠ¨æ€éƒ¨åˆ†è·å¾—é”®å€¼å¯¹ isExact: bool ä¸º true æ—¶ï¼Œæ•´ä¸ª URL éƒ½éœ€è¦åŒ¹é… path: string ç”¨æ¥åŒ¹é…çš„è·¯å¾„æ¨¡å¼ï¼Œç”¨äºåˆ›å»ºåµŒå¥—çš„ url: string URL åŒ¹é…çš„éƒ¨åˆ†ï¼Œç”¨äºåµŒå¥—çš„ å½“ä¸€ä¸ª Route æ²¡æœ‰ path æ—¶ï¼Œå®ƒä¼šåŒ¹é…ä¸€åˆ‡è·¯å¾„ã€‚ è·å– match å¯¹è±¡ åœ¨ Route component ä¸­ï¼Œä»¥ this.props.matchè·å– åœ¨ Route render ä¸­ï¼Œä»¥ ({match}) =&gt; () æ–¹å¼è·å– åœ¨ Route children ä¸­ï¼Œä»¥ ({match}) =&gt; () æ–¹å¼è·å– åœ¨ withRouter ä¸­ï¼Œä»¥ this.props.matchçš„æ–¹å¼è·å– matchPath çš„è¿”å›å€¼ å–è·¯ç”±ä¸­ä¼ å…¥çš„å‚æ•°å€¼ï¼Œå³ï¼šä¼ å…¥çš„å‚æ•°;å¸¦å‚æ•°çš„è·¯ç”±ä¸€èˆ¬æ”¾åˆ°æœ€åï¼Œä»¥é¿å…å†²çª this.props.match.param.id this.props.match.path code-splittingCode Spliting æ˜¯ä¸€ä¸ªéå¸¸é…·çš„ç‰¹æ€§ï¼Œå®ƒèƒ½è®©æˆ‘ä»¬ç”¨æˆ·æ— éœ€å®Œæ•´ä¸‹è½½æ•´ä¸ª app å³å¯ä½¿ç”¨ã€‚ä½ å¯ä»¥å°†ä»–è®¤ä¸ºæ˜¯å¢é‡åŠ è½½æˆ‘ä»¬çš„åº”ç”¨ã€‚å°½ç®¡æœ‰ä¸€äº›å…¶ä»–å·¥å…·ä¹Ÿèƒ½å®ç°ç›¸å…³ç‰¹æ€§ï¼Œä½†åœ¨è¿™ä¸ªæ•™ç¨‹é‡Œæˆ‘ä»¬ä½¿ç”¨ Webpack å’Œ bundle loader 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// Bundle.jsximport React from 'react';import PropTypes from 'prop-types';class Bundle extends React.Component &#123; state = &#123; // short for \"module\" but that's a keyword in js, so \"mod\" mod: null &#125; componentWillMount() &#123; // åŠ è½½åˆå§‹çŠ¶æ€ this.load(this.props); &#125; componentWillReceiveProps(nextProps) &#123; if (nextProps.load !== this.props.load) &#123; this.load(nextProps); &#125; &#125; load(props) &#123; // é‡ç½®çŠ¶æ€ this.setState(&#123; mod: null &#125;); // ä¼ å…¥ç»„ä»¶çš„ç»„ä»¶ props.load((mod) =&gt; &#123; this.setState(&#123; // handle both es imports and cjs mod: mod.default ? mod.default : mod &#125;); &#125;); &#125; render() &#123; // if state mode not undefined,The container will render children return this.state.mod ? this.props.children(this.state.mod) : null; &#125;&#125;Bundle.propTypes = &#123; load: PropTypes.func, children: PropTypes.func&#125;;export default Bundle; é…ç½®è·¯ç”±1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283// RouteConfigExample.jsximport React from 'react'import &#123; BrowserRouter as Router, Route, Link&#125; from 'react-router-dom'// Some folks find value in a centralized route config.// A route config is just data. React is great at mapping// data into components, and &lt;Route&gt; is a component./// /////////////////////////////////////////////////////////// first our route componentsconst Main = () =&gt; &lt;h2&gt;Main&lt;/h2&gt;const Sandwiches = () =&gt; &lt;h2&gt;Sandwiches&lt;/h2&gt;const Tacos = (&#123; routes &#125;) =&gt; ( &lt;div&gt; &lt;h2&gt;Tacos&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;Link to='/tacos/bus'&gt;Bus&lt;/Link&gt;&lt;/li&gt; &lt;li&gt;&lt;Link to='/tacos/cart'&gt;Cart&lt;/Link&gt;&lt;/li&gt; &lt;/ul&gt; &#123;routes.map((route, i) =&gt; ( &lt;RouteWithSubRoutes key=&#123;i&#125; &#123;...route&#125; /&gt; ))&#125; &lt;/div&gt;)const Bus = () =&gt; &lt;h3&gt;Bus&lt;/h3&gt;const Cart = () =&gt; &lt;h3&gt;Cart&lt;/h3&gt;/// /////////////////////////////////////////////////////////// then our route configconst routes = [ &#123; path: '/sandwiches', component: Sandwiches &#125;, &#123; path: '/tacos', component: Tacos, routes: [ &#123; path: '/tacos/bus', component: Bus &#125;, &#123; path: '/tacos/cart', component: Cart &#125; ] &#125;]// wrap &lt;Route&gt; and use this everywhere instead, then when// sub routes are added to any route it'll workconst RouteWithSubRoutes = (route) =&gt; ( &lt;Route path=&#123;route.path&#125; render=&#123;props =&gt; ( // pass the sub-routes down to keep nesting &lt;route.component &#123;...props&#125; routes=&#123;route.routes&#125; /&gt; )&#125; /&gt;)const RouteConfigExample = () =&gt; ( &lt;Router&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt;&lt;Link to='/tacos'&gt;Tacos&lt;/Link&gt;&lt;/li&gt; &lt;li&gt;&lt;Link to='/sandwiches'&gt;Sandwiches&lt;/Link&gt;&lt;/li&gt; &lt;/ul&gt; &#123;routes.map((route, i) =&gt; ( &lt;RouteWithSubRoutes key=&#123;i&#125; &#123;...route&#125; /&gt; ))&#125; &lt;/div&gt; &lt;/Router&gt;)export default RouteConfigExample èµ„æºå…³äº React Router 4 çš„ä¸€åˆ‡ React Router ä¸­æ–‡æ–‡æ¡£ æµ…è°ˆå‰åç«¯è·¯ç”±ä¸å‰åç«¯æ¸²æŸ“ hash VS browser Warning: Hash history cannot PUSH the same path; a new entry will not be added to the history stack å‘ react-router browserHistoryåˆ·æ–°é¡µé¢404é—®é¢˜è§£å†³ é€šè¿‡router çš„ history.push() æ–¹æ³•å»¶è¿Ÿè·³è½¬åè¿˜æ˜¯ä¼šè·³è½¬ åœ¨å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶è·¯å¾„ä¸å†ä½¿ç”¨./, è€Œæ˜¯ç›´æ¥ç”¨/ çš„ä¼˜å…ˆçº§è¦æ¯” é«˜ï¼Œæ‰€ä»¥ä¸è¦åœ¨åŒä¸€ä¸ª ä¸­åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå±æ€§ã€‚ Link å’Œ BrowserRouter æ˜¯åŒä¸€ä¸ªhistoryï¼Œç„¶è€ŒcreateBrowserHistory çš„ historyåªèƒ½æ”¹å˜urlï¼Œå¹¶æ²¡æœ‰è§¦å‘é¡µé¢åˆ·æ–° é”™è¯¯çš„åœ°æ–¹å°±åœ¨ç±»ä¼¼è¿™æ ·çš„ä»£ç  å†™æ³•1 export default connect(mapStateToProp, mapDispatchToProp)(withRouter(AppContainer)); åº”è¯¥å†™æˆ å†™æ³•2 export default withRouter(connect(mapStateToProp, mapDispatchToProp)(AppContainer));åŸå› connectå†…æ˜¯è¿›è¡Œshallow comparisonæµ…æ¯”è¾ƒçš„ã€‚å®ƒé‡å†™äº†ç»„ä»¶çš„shouldComponentUpdateæ–¹æ³• å†™æ³•1ä¸­ï¼Œconnecté‡å†™äº†withRouterçš„shouldComponentUpdateæ–¹æ³•ï¼Œå¯¼è‡´å…¶ä¸èƒ½å¤Ÿå“åº”locationçš„å˜åŒ–ï¼ˆä»…ä»…å“åº”mapStateToPropsé‡Œé¢çš„å˜åŒ–ï¼‰ å†™æ³•2ä¸­ï¼Œå°†withRouteræåˆ°å¤–å±‚ï¼ŒwithRouterçš„shouldComponentUpdateä¸ä¼šè¢«é‡å†™ï¼Œå°±ä¼šå“åº”locationçš„å˜åŒ–","tags":[]},{"title":"æ­£ç¡®çš„æé—®(issue)","date":"2018-12-22T07:28:59.000Z","path":"2018/12/22/æ­£ç¡®çš„æé—®(issue)/","text":"ä¸è¦é—®å·²ç»å›ç­”è¿‡çš„é—®é¢˜å°½èŒè°ƒæŸ¥ï¼Œè¯•ç€æ‰¾æ‰¾æ˜¯ä¸æ˜¯å·²ç»æœ‰äººé—®è¿‡ä½ çš„é—®é¢˜ã€‚å¦‚æœä½ é—®äº†ä¸€ä¸ªå¾ˆå®¹æ˜“æ‰¾åˆ°ç­”æ¡ˆçš„é—®é¢˜ï¼Œä½ çš„é—®é¢˜å¾ˆå¿«ä¼šä½œä¸ºé‡å¤çš„é—®é¢˜å…³é—­ã€‚ ä¸è¦è®©äººæ›¿ä½ å†™ä»£ç å¦‚æœä½ åªæ˜¯é—®â€æˆ‘æ€ä¹ˆåšæŸä»¶äº‹ï¼Ÿâ€ä½ çš„é—®é¢˜å¾ˆå¿«å°±ä¼šè¢«å…³æ‰ã€‚å¸Œæœ›ä½ èƒ½åœ¨æissueä¹‹å‰è‡ªå·±å…ˆåŠªåŠ›å°è¯•ç€è§£å†³å®ƒã€‚åœ¨ä½ çš„é—®é¢˜é‡Œæè¿°ä½ å°è¯•è¿‡çš„åŠæ³•ï¼Œä»¥åŠä¸ºä»€ä¹ˆä¸è¡Œã€‚ ä¸€æ¬¡é—®ä¸€ä¸ªé—®é¢˜ä¸€æ¬¡é—®5ä»¶äº‹æƒ…çš„é—®é¢˜ï¼šâ€œæˆ‘æ€ä¹ˆåšè¿™ä»¶äº‹ï¼Œç„¶åæ˜¯é‚£ä»¶ï¼Œç„¶åå¦ä¸€ä»¶äº‹æƒ…ï¼Œä»¥åŠä»€ä¹ˆæ˜¯åšè¿™ä¸ªçš„æœ€å¥½åŠæ³•ï¼Ÿâ€ï¼Œè¿™å¾ˆéš¾å›ç­”ï¼Œ\bå¹¶ä¸”ä¼šè®©äººæœ›è€Œå´æ­¥ã€‚ ä¸ºä½ çš„é—®é¢˜åš\bä¸€ä¸ªæœ€ç²¾ç®€çš„ä¾‹å­å½“äººä»¬çœ‹åˆ°æœ‰3é¡µä»£ç ï¼ˆæˆ–è€…æ›´å¤šï¼)çš„é—®é¢˜æ—¶ï¼Œæ€»æ˜¯ä¼š\bè·³è¿‡å»ï¼ŒæŠŠ5000è¡Œçš„ä»£ç æ–‡ä»¶ç›´æ¥è´´åˆ°issueé‡Œä¸åˆ©äºå¾—åˆ°ç­”æ¡ˆ(ä½†æ€»æœ‰äººè¿™ä¹ˆå¹²)ã€‚è¿™æ˜¯ä¸€ç§ç»å¸¸å¾—ä¸åˆ°å›æŠ¥çš„æ‡’æƒ°è¡Œä¸ºã€‚è¿™ä¸ä»…è®©ä½ ä¸å¤ªå¯èƒ½å¾—åˆ°æœ‰ç”¨çš„ç­”æ¡ˆï¼Œå¹¶ä¸”ä¹Ÿæ­£æ˜¯æ¶ˆé™¤æ— å…³å› ç´ çš„è¿‡ç¨‹ä¼šå¼•å¯¼ä½ è‡ªå·±è§£å†³é—®é¢˜(è¿™æ ·ä½ \bç”šè‡³ä¸ç”¨åœ¨issueä¸Šé—®è¿™ä¸ªé—®é¢˜äº†)ã€‚åˆ¶ä½œæœ€ç²¾ç®€çš„ä¾‹å­å¯¹ä½ çš„è°ƒè¯•æŠ€èƒ½æœ‰å¥½å¤„ï¼Œå¯¹ä½ è®¤çœŸæ€è€ƒé—®é¢˜çš„èƒ½åŠ›ä¹Ÿæœ‰æ‰€å¸®åŠ©ã€‚ å¦‚æœåœ¨åˆ«ç»™å‡ºç­”æ¡ˆä¹‹å‰ä½ è‡ªå·±è§£å†³äº†é—®é¢˜ï¼Œé‚£å°±è‡ªå·±å›ç­”é‚£ä¸ªé—®é¢˜ä½ é‡åˆ°çš„é—®é¢˜å¾ˆå¯èƒ½åˆ«äººä¹Ÿä¼šé‡åˆ°ï¼Œå¦‚æœä½ å·²ç»è§£å†³äº†ï¼Œæœ¬ç€åŠ©äººä¸ºä¹çš„ç²¾ç¥ï¼ŒæŠŠä½ çš„ç­”æ¡ˆæ”¾ä¸Šå»ã€‚","tags":[]},{"title":"GTD æ—¶é—´ç®¡ç†æ–¹æ³•è®º","date":"2018-12-22T07:28:08.000Z","path":"2018/12/22/GTD æ—¶é—´ç®¡ç†æ–¹æ³•è®º/","text":"æ”¶ä»¶ç®±ï¼ˆINBOXï¼‰è¿™é‡Œçš„æ”¶ä»¶ç®±å¹¶ä¸ç­‰äºé‚®ç®±ï¼Œç…§ç‰‡ï¼Œæƒ³çœ‹çš„ç½‘é¡µï¼Œæƒ³çœ‹çš„ä¹¦ç”µå½±ç”µè§†å‰§ï¼Œé‚®ä»¶ï¼Œä¸´æ—¶çš„æƒ³æ³•ï¼Œæƒ³åˆ°è¦åšçš„äº‹æƒ…ç­‰ç­‰éƒ½å¯ä»¥æ”¾åˆ°è¿™é‡Œæ¥ï¼Œè¿™æ˜¯GTDçš„ç¬¬ä¸€æ­¥ï¼Œæ”¶é›†ï¼ˆCAPTUREï¼‰ ç”„åˆ«(CLARIFYING)è¿™æ­¥æ˜¯è¦åšå‡ºåˆ¤æ–­ï¼Œæ”¶ä»¶ç®±é‡Œçš„ä¸œè¥¿æ˜¯å¦æ˜¯ä¸€ä¸ªaction å¦‚æœæ˜¯ï¼Œåˆ™è¿›ä¸€æ­¥åˆ¤æ–­æ˜¯å•ä¸ªåŠ¨ä½œè¿˜æ˜¯å¤šä¸ªåŠ¨ä½œï¼Œå¦‚æœæ˜¯å•ä¸ªåŠ¨ä½œï¼Œåˆ™è¦åˆ¤æ–­èƒ½å¦åœ¨ä¸¤åˆ†é’Ÿå†…å®Œæˆï¼Œå¦‚æœèƒ½å°±é©¬ä¸Šå»å®Œæˆå®ƒã€‚ å¦‚æœä¸æ˜¯ACTIONï¼Œé‚£ä¹ˆè¿™ä¸ªä¸œè¥¿æœ‰å‡ ä¸ªå»å¤„ï¼Œ ä¸€æ˜¯åƒåœ¾æ¡¶ï¼Œé¡¾åæ€ä¹‰ï¼Œ äºŒæ˜¯å½“å‰æ²¡å•¥äº‹èƒ½åšï¼Œä½†åœ¨æŸä¸ªæŒ‡å®šæ—¶é—´éœ€è¦æé†’è‡ªå·±ï¼Œ ä¸‰æ˜¯å‚è€ƒææ–™ æ•´ç†ï¼ˆORGANISINGï¼‰åœ¨ä¸Šä¸€æ­¥æˆ‘ä»¬è¯´åˆ°è¦åˆ¤æ–­æ˜¯å¦æ˜¯å¤šä¸ªåŠ¨ä½œã€‚ç°åœ¨æˆ‘ä»¬æ¥è¯´è¯´æ€ä¹ˆåˆ†ç±»å¤„ç†å¤šä¸ªåŠ¨ä½œã€‚ é¦–å…ˆéœ€è¦å¤šä¸ªåŠ¨ä½œæ‰èƒ½å®Œæˆçš„çŸ­æœŸæˆæœæˆ‘ä»¬ç§°ä¹‹ä¸ºé¡¹ç›®ã€‚é¡¹ç›®æ˜¯å¯ä»¥è¡¡é‡çš„çŸ­æœŸæˆæœï¼Œå­¦å¥½GTDä¸å«é¡¹ç›®ï¼Œå­¦ä¼šå¦‚ä½•ç»™ä»»åŠ¡è®¾ç½®ä¸Šä¸‹æ–‡ï¼ˆæ›´å¥½çš„ç¿»è¯‘æ˜¯æƒ…å¢ƒï¼‰è¿™æ˜¯é¡¹ç›®ã€‚ å‡ºäºåˆ†ç±»çš„æ–¹ä¾¿ï¼Œå¤šä¸ªåŠ¨ä½œå¯ä»¥è¿›ä¸€æ­¥åˆ†ä¸ºï¼š æ—¥ç¨‹è¡¨åŠ¨ä½œï¼Œå³é‚£äº›å¿…é¡»åœ¨ç‰¹å®šæ—¶é—´æˆ–æ—¥æœŸå®Œæˆçš„åŠ¨ä½œï¼Œå®ƒä»¬éœ€è¦æ ‡æ³¨åœ¨æ—¥ç¨‹è¡¨ä¸Šæé†’è‡ªå·±ï¼› ç­‰å¾…åŠ¨ä½œï¼Œè¿™æ˜¯æŒ‡åªæœ‰å½“ä½ çš„åŒä¼´æˆ–é˜Ÿå‹å®Œæˆäº†æŸä¸ªæˆ–å¤šä¸ªåŠ¨ä½œå¹¶å‘ç»™/å‘ŠçŸ¥ä½ æˆæœï¼Œä½ æ‰èƒ½å¼€å§‹çš„åŠ¨ä½œï¼Œä»–ä»¬è¦æ”¾åœ¨ç­‰å¾…åˆ—è¡¨é‡Œï¼› å°½å¿«å¼€å§‹åŠ¨ä½œï¼Œç®€ç§°ASAPåŠ¨ä½œã€‚å¯¹äºASAPåŠ¨ä½œçš„ç®¡ç†ï¼Œé™¤äº†ä½¿ç”¨é¡¹ç›®çš„è§‚å¿µï¼Œè¿˜è¦å¼•å…¥æƒ…å¢ƒï¼Œèƒ½é‡ï¼Œæ—¶é—´å’Œä¼˜å…ˆçº§è¿™å››ä¸ªæ¦‚å¿µã€‚ æƒ…å¢ƒï¼šå®ŒæˆåŠ¨ä½œå¿…é¡»ç”¨åˆ°çš„å·¥å…·æˆ–å¿…é¡»å¤„äºçš„åœºåœ°ï¼Œæ¯”å¦‚ä½ å¿…é¡»åˆ°å®éªŒå®¤æ‰èƒ½åšå®éªŒï¼Œåˆ™å®éªŒå®¤ä¾¿æ˜¯ä¸€ä¸ªæƒ…å¢ƒã€‚ èƒ½é‡ï¼ŒåŒ…æ‹¬ç”Ÿç†çŠ¶æ€å’Œå¿ƒç†çŠ¶æ€ï¼Œæ¯”å¦‚é˜…è¯»æ–‡ä»¶éœ€è¦èšç²¾ä¼šç¥ï¼Œé‚£ä¹ˆå°±æ˜¯é«˜èƒ½é‡ã€‚ æ—¶é—´ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯è¦èŠ±è´¹çš„æ—¶é—´å¤šå°‘ï¼Œæ¯”å¦‚è¿™ä¸ªåŠ¨ä½œè¦1å°æ—¶å·¦å³å®Œæˆï¼Œåˆ™1å°æ—¶ä¾¿æ˜¯æ—¶é—´æ ‡ç­¾ã€‚ ä¼˜å…ˆçº§ï¼šä¼˜å…ˆçº§æŒ‡çš„æ˜¯åœ¨å½“å‰çš„æƒ…å¢ƒï¼Œèƒ½é‡ï¼Œæ—¶é—´æ¡ä»¶ä¸‹å“ªä¸ªåŠ¨ä½œèƒ½å¸¦ç»™ä½ æœ€å¤§çš„æ”¶ç›Šï¼Œé‚£ä¹ˆå°±æ˜¯é«˜ä¼˜å…ˆçº§ã€‚ äº‹å®ä¸Šï¼Œéšç€GTDçš„å‘å±•ï¼Œæƒ…å¢ƒä¹‹å¤–çš„ä¸‰ä¸ªæ¡ä»¶å·²ç»è¢«å¾ˆå¤šäººè®¾ç½®ä¸ºäº†æƒ…å¢ƒä½¿ç”¨ã€‚SOMEDAYåŠ¨ä½œï¼Œæƒ³åšï¼Œä½†å¯èƒ½åšä¹Ÿå¯èƒ½ä¸åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚æƒ³è¯»ä¸€æœ¬ä¹¦ä½†ä¸ç¡®å®šåˆ°åº•è¦ä¸è¦è¯»ã€‚ å›é¡¾ï¼Œå›é¡¾è¿™é‡Œä¸å¦¨ä½¿ç”¨GTDçš„å…­å±‚è§†é‡æ¨¡å‹| å…­å±‚ï¼šåŸåˆ™ï¼Œè¿™é‡Œæ˜¯æ ¸å¿ƒçš„ä»·å€¼è§‚ï¼Œæ¯”å¦‚è¿™ä¸ªé¡¹ç›®ä¸ºä»€ä¹ˆè¦å­˜åœ¨ äº”å±‚ï¼šæ„¿æ™¯ï¼Œè¿™é‡Œæ˜¯æœŸæœ›çš„é•¿æœŸæˆæœï¼Œæ¯”å¦‚è®©å…¬å¸ä¸Šå¸‚ å››å±‚ï¼Œç›®æ ‡ï¼Œä¸¤å¹´ä»¥å†…çš„ä¸­é•¿æœŸæˆæœï¼Œæ¯”å¦‚å®Œæˆæ”¶è´­æŸæŸé›†å›¢ ä¸‰å±‚ï¼šå…³æ³¨çš„é¢†åŸŸï¼Œè¿™é‡Œæ˜¯è¦ç»´æŒä½ è‡ªå·±æ˜¯èº«å¿ƒå¥åº·æˆ–å…¬å¸çš„æ—¥å¸¸è¿ä½œéœ€è¦ä¸æ–­è¿›è¡Œçš„åŠ¨ä½œï¼Œæœ€ç®€å•çš„ä¾‹å­æ¯”å¦‚ä¹°èœï¼Œå¥èº«ç­‰ç­‰ äºŒå±‚ï¼Œé¡¹ç›®ï¼Œç”±å¤šä¸ªå…·ä½“å¯æ‰§è¡ŒåŠ¨ä½œç»„æˆçš„çŸ­æœŸæˆæœ ä¸€å±‚ï¼Œæ¥ä¸‹æ¥è¦åšçš„åŠ¨ä½œï¼Œå³é¡¹ç›®ä¸‹çš„å¯æ‰§è¡ŒåŠ¨ä½œ éœ€è¦æ³¨æ„çš„æ˜¯GTDè¦æ±‚æ¯å‘¨è‡³å°‘ä¸€æ¬¡å›é¡¾è‡ªå·±çš„é¡¹ç›®/ä»»åŠ¡åˆ—è¡¨ï¼Œç»´æŠ¤è‡ªå·±çš„ç³»ç»Ÿ omnifocus ç›¸å¯¹äºå…¶ä»–GTDè½¯ä»¶ å¯ä»¥è®¾ç½®é¡ºåºæ‰§è¡Œçš„é¡¹ç›®ç±»å‹, æ¯”å¦‚ ä½ æœ‰ä¸€ä¸ªé¡¹ç›®,æ˜¯åšé¥­,ç„¶åä¸‹é¢æœ‰2ä¸ªåŠ¨ä½œ,ä¹°èœ,ç„¶åç‚’èœ,ç‚’èœè¦ç­‰ä¹°èœå®Œæˆä»¥åæ‰èƒ½å‡ºç°.é€šè¿‡è®¾ç½®ä¸€äº›é¡ºåºæ‰§è¡Œé¡¹ç›®çš„åˆ†è§£,å¯ä»¥æŠŠä¸€å¤§éƒ¨åˆ†ä¸å¯ç”¨çš„ä»»åŠ¡ç»™è¿‡æ»¤æ‰! è®¾ç½®æ¨è¿Ÿæ—¶é—´ ( æŒ‡å®šä»»åŠ¡çš„å‡ºç°æ—¶é—´ )æ²¡æœ‰ä¸€ä¸ªgtdä»»åŠ¡æœ‰,æ¯”å¦‚,æˆ‘æ¯å¤©æ™šä¸Šè¦å†¥æƒ³,æˆ‘å°±è®¾ç½®æ¯å¤©9ç‚¹ä»¥åæ‰å‡ºç°è¿™ä¸ªä»»åŠ¡.é€šè¿‡è¿™æ ·çš„è®¾ç½®,åˆå¯ä»¥è¿‡æ»¤æ‰ä¸€å †ä»»åŠ¡! é¡¹ç›®æ–‡ä»¶å¤¹åˆ†ç±»,æ— é™å±‚çº§åˆ†ç±».è¿™ä¸ªç”¨è¿‡çš„äººæ‰çŸ¥é“å¥½ æ³¨é‡Šå¯ä»¥æ·»åŠ å¯Œæ–‡æœ¬,å¯ä»¥æ·»åŠ é™„ä»¶.è¿™ä¸ªç›¸å½“å¼ºå¤§,doitå°±æ²¡è¿™åŠŸèƒ½,æˆ‘æœ‰çš„æ—¶å€™,ç”šè‡³ä¼šæ–°å»ºä¸€ä¸ªä»»åŠ¡,ç„¶åæŠŠèŠå¤©æˆªå›¾çš„æˆªå›¾ç›´æ¥é»è´´è¿›å»~. é…åˆmacçš„è„šæœ¬è½¯ä»¶,å¯ä»¥å‘é€å‘¨æŠ¥,æ—¥æŠ¥,ä»¥åŠå·¥ä½œè®¡åˆ’ç­‰åˆ°å°è±¡ç¬”è®° è¿˜æœ‰æ›´å¼ºçš„è„šæœ¬,å¯ä»¥æŠŠä¸€æœ¬ä¹¦,è¾“å…¥é¡µ,å¼€å§‹å’Œç»“æŸæ—¶é—´,è‡ªåŠ¨æ‹†åˆ†æˆæ¯å¤©éœ€è¦é˜…è¯»å¤šå°‘é¡µ~ æ‰‹æœºä¸Šé…åˆworkflowå¯ä»¥å¿«é€Ÿæ·»åŠ ä»»åŠ¡! ( ä»å‰ªåˆ‡æ¿æ·»åŠ ä»»åŠ¡,ä»é€šçŸ¥ä¸­å¿ƒæ·»åŠ ä»»åŠ¡ç­‰ ) ä¸ºä»»åŠ¡è®¾ç½®é¢„ä¼°æ—¶é—´,é…åˆè„šæœ¬è¿˜å¯ä»¥ç»Ÿè®¡æ€»æ—¶é—´.é…åˆé€è§†,è¿˜å¯ä»¥æŠŠå°äº5åˆ†é’Ÿçš„ä»»åŠ¡ç­›é€‰å‡ºæ¥,ç„¶åä¸€èµ·å¤„ç† æ³¨æ„é¡¹ç›®ä¸è¡ŒåŠ¨ä¸€ä¸ªé¡¹ç›® 5 æœˆ 1 å·å¼€å§‹ï¼Œ9æœˆ 30 å·ç»“æŸã€‚é‚£ä¹ˆè¿™ä¸ªé¡¹ç›®è‚¯å®šæ˜¯ç”±è®¸è®¸å¤šå¤šçš„å°è¡ŒåŠ¨ç»„æˆçš„ã€‚å‡è®¾è¿™ä¸ªé¡¹ç›®æ˜¯æŠ„å†™150æ¡çŸ¥ä¹é—®é¢˜ï¼›5æœˆ1å·å¼€å§‹ï¼Œ9æœˆ30å·ç»“æŸã€‚é‚£ä¹ˆå®ƒä¹Ÿèƒ½åˆ†è§£æˆï¼šæ¯å¤©æŠ„å†™ä¸€æ¡çŸ¥ä¹é—®é¢˜ã€‚ è¡ŒåŠ¨ä¸æé†’OmniFoucsï¼šä¸éœ€è¦æé†’çš„ï¼Œé¡¹ç›®ä¸€èˆ¬åœ¨é¡¹ç›®ä¸‹éƒ½å¯ä»¥çœ‹è§ï¼Œæ¯å¤©æœ‰ç©ºåšäº‹çš„æ—¶å€™ä»ä¸­æŒ‘ä¸€ä»¶åˆé€‚çš„äº‹æƒ…åšå°±OKäº† calendar eventsï¼šæœ‰æ˜ç¡®æ—¶é—´è¦æ±‚çš„ï¼Œæ¯”å¦‚15:00å¼€ä¼šï¼Œè¿™ç§è¡ŒåŠ¨åº”è¯¥è®°åœ¨æ—¥å†ä¸­ï¼Œä¸æ˜¯OFä¸­ã€‚","tags":[]},{"title":"åŸ‹ç‚¹æ–¹æ¡ˆ","date":"2018-12-22T07:26:51.000Z","path":"2018/12/22/åŸ‹ç‚¹æ–¹æ¡ˆ/","text":"tags: [ç»„ä»¶]categories: ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ åŸ‹ç‚¹æ–¹å¼ æ•°æ®ç›‘æµ‹ï¼šæ•°æ®é‡‡é›† | æ•°æ®ä¼ è¾“ | æ•°æ®å­˜å‚¨ | æ•°æ®åˆ†ææŒ–æ˜ | æ•°æ®å¯è§†åŒ– æ•°æ®é‡‡é›†ä¹Ÿå«åŸ‹ç‚¹(åŠ ç |æ‰“ç‚¹) åŸ‹ç‚¹æ ¸å¿ƒå‚æ•°ï¼šåŸ‹ç‚¹ | åŸ‹ç‚¹å‚æ•° | æ¥æºé¡µé¢ | æ¥æºé¡µé¢å‚æ•° | å½“å‰é¡µé¢ | å½“å‰é¡µé¢å‚æ•° æ‰‹å·¥åŸ‹ç‚¹ åœ¨éœ€è¦ç›‘æµ‹çš„é¡µé¢å¼•å…¥åŸºç¡€jsæ–‡ä»¶ï¼Œç„¶åæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ·»åŠ ç›‘æµ‹ä»£ç  æ‰‹å·¥åŸ‹ç‚¹çš„æ•°æ®ç›‘æµ‹äº§å“ï¼šGoogle Analytics | Omniture | Webtrends | Coremetrics | Flurry | ç™¾åº¦ç»Ÿè®¡ | CNZZ | è…¾è®¯äº‘åˆ†æ | å‹ç›Ÿ çµæ´»ï¼šå¯ä»¥è®¾ç½®è‡ªå®šä¹‰äº‹ä»¶å±æ€§ã€å‘é€æ•°æ®å†…å®¹ã€å‘é€æ—¶é—´ç­‰ï¼Œå¯ä»¥é‡‡é›†è‡ªå·±æœ€ä¸ºå…³å¿ƒå’Œéœ€è¦çš„æ•°æ® å¯¹äºå¤§å‹ã€å¤æ‚çš„ç½‘ç«™ï¼Œè·¨éƒ¨é—¨æ²Ÿé€šæˆæœ¬è¾ƒé«˜ å¯è§†åŒ–åŸ‹ç‚¹ é€šè¿‡ç‚¹å‡»äº¤äº’æ›¿ä»£æ‰‹å†™ä»£ç  åŸç†ï¼šåœ¨éœ€è¦ç›‘æµ‹çš„é¡µé¢å¼•å…¥åŸºç¡€JSæ–‡ä»¶ï¼Œä½¿ç”¨è€…è¿›å…¥å¯è§†åŒ–æ¨¡å¼ä¸‹ï¼Œé€‰æ‹©å¹¶é…ç½®ç›‘æµ‹å†…å®¹(htmlå…ƒç´ )çš„ä¿¡æ¯è¢«è®°å½•ï¼Œå¹¶å­˜æ”¾åœ¨ç›¸åº”ä½ç½®ã€‚å½“çœŸå®ä¸–ç•Œçš„ç”¨æˆ·è§¦å‘åˆ°è¯¥ç›‘æµ‹å†…å®¹æ—¶ï¼ŒåŸºç¡€JSä¼šè‡ªåŠ¨åŠ è½½ä¹‹å‰é…ç½®è¿‡çš„ä¿¡æ¯ï¼Œè®°å½•å¹¶å‘é€è¯¥æ•°æ® äº§å“ï¼šMixpanel çš„ Codeless æ¨¡å¼ | ç¥ç­–åˆ†æ æ— åŸ‹ç‚¹(å…¨åŸ‹ç‚¹) ä¹Ÿæ˜¯é€šè¿‡å¯è§†åŒ–çš„å½¢å¼æ·»åŠ è¦ç›‘æµ‹çš„å†…å®¹ å¯è§†åŒ–åŸ‹ç‚¹æ˜¯éœ€è¦å…ˆé€šè¿‡é…ç½®æ‰èƒ½å®ç°å†…å®¹ç›‘æµ‹ï¼Œè€Œæ— åŸ‹ç‚¹é»˜è®¤å…ˆå°½å¯èƒ½å¤šçš„æ”¶é›†èƒ½ç›‘æµ‹çš„å†…å®¹ï¼Œç„¶åå†é€šè¿‡é…ç½®ç¡®å®šå“ªäº›å†…å®¹éœ€è¦å±•ç¤ºå’Œåˆ†æ å¯ä»¥å¯¹æƒ³è¦ç›‘æµ‹çš„æ•°æ®è¿›è¡Œå›æº¯ï¼Œä¸å¿…æ‹…å¿ƒå› ä¸ºæ¼æ‰åŸ‹ç‚¹è€Œå¯¼è‡´æ•°æ®ä¸¢å¤± ä½†ç”±äºæœ‰å¤§é‡æ•°æ®éœ€è¦é¢„å…ˆä¼ è¾“ï¼Œæ•°æ®æ—¶æ•ˆæ€§å’Œç½‘ç»œä¼ è¾“å¯¹æ— åŸ‹ç‚¹æŠ€æœ¯è¦æ±‚è¾ƒé«˜ äº§å“ï¼šHeap | GrowingIO å‰ç«¯åŸ‹ç‚¹æ“ä½œç”±äºè®¿é—®å°è®°å®ç°åŸ‹ç‚¹æ˜¯è·¨åŸŸçš„è¯·æ±‚ï¼Œ\bæ‰€ä»¥å‰ç«¯è¿™é‡Œç”¨jsonpå®ç°è·¨åŸŸè¯·æ±‚ã€‚ ä¸‹è½½å¹¶å¼•å…¥ç¬¬ä¸‰æ–¹åº“ jsonp npm install jsonp â€“save import originJsonp from â€˜jsonpâ€™ jsonpçš„å®ç°åŸç†å°±æ˜¯åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ï¼Œå¹¶ä¸”å°†æˆ‘ä»¬éœ€è¦è¯·æ±‚çš„è·¯å¾„é€šè¿‡è¯¥æ ‡ç­¾çš„srcæ¥å®ç°ï¼Œå¹¶ä¸”å°†æˆ‘ä»¬è¦ä¼ å…¥çš„å‚æ•°æ‹¼æ¥åœ¨è·¯å¾„åé¢ã€‚ jsonpè¯·æ±‚çš„å°è£… urlï¼šéœ€è¦è¯·æ±‚çš„æ¥å£åœ°å€ option(Object)ï¼šjsonpçš„è¯·æ±‚é…ç½®ï¼Œå¦‚ï¼štimeoutè®¾ç½®è¶…æ—¶æ—¶é—´ã€param(String)å›è°ƒå‡½æ•°åç§° fnï¼šå›è°ƒå‡½æ•°ï¼Œç”¨æ¥æ¥å—è¿”å›çš„é”™è¯¯æˆ–è€…æˆåŠŸçš„ç»“æœ å°è£…è°ƒç”¨å°è®°æ–¹æ³• æä¾›ä¸‰ç§æ–¹æ³•å®ç°å°è®°ç³»ç»Ÿçš„ç™»å½•ã€å®šæ—¶æ¿€æ´»sessionã€è°ƒç”¨å°è®°æ¥å£è®°å½•æ—¥å¿— å°†ä¸‰ç§æ–¹æ³•æ”¾åœ¨jsonpCMTå¯¹è±¡ä¸­ writeLogLogin ç™»å½•å°è®°ç³»ç»Ÿ writeLogActive æ¿€æ´»session writeLogToDSInfo è°ƒç”¨å°è®°æ¥å£è®°å½•æ—¥å¿— ä¸Šè¿°ä¸‰ç§æ–¹æ³•åªéœ€è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°params(Object)å³å¯ã€‚è¯¥å‚æ•°å°±æ˜¯éœ€è¦\bè®°å½•çš„çŠ¶æ€ã€‚ å®ç°åŸ‹ç‚¹ åœ¨éœ€è¦åŸ‹ç‚¹çš„æ¨¡å—ä¸­å¯¼å…¥æ¨¡å— import jsonpCMT from â€˜æ–‡ä»¶è·¯å¾„â€™ åœ¨å‰ç«¯\båº”ç”¨ç™»å½•æˆåŠŸä»¥åè°ƒç”¨jsonpCMT.writeLogLoginæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æˆåŠŸä»¥ååˆ™æˆåŠŸç™»å½•å°è®°ç³»ç»Ÿ åœ¨ç™»å½•å°è®°ç³»ç»ŸæˆåŠŸä»¥åè°ƒç”¨jsonpCMT.writeLogActiveå®ç°å®šæ—¶\bæ¿€æ´»session åœ¨éœ€è¦å®ç°åŸ‹ç‚¹çš„åœ°æ–¹è°ƒç”¨jsonpCMT.writeLogToDSInfoå®ç°æ—¥å¿—è®°å½•","tags":[]},{"title":"éšè®°","date":"2018-12-22T07:24:47.000Z","path":"2018/12/22/éšè®°/","text":"éšå¿ƒéšæƒ³éšç¬” PWA: æ¸è¿›å¼ï¼šèƒ½ç¡®ä¿æ¯ä¸ªç”¨æˆ·éƒ½èƒ½æ‰“å¼€ç½‘é¡µ å“åº”å¼ï¼šPCï¼Œæ‰‹æœºï¼Œå¹³æ¿ï¼Œä¸ç®¡å“ªç§æ ¼å¼ï¼Œç½‘é¡µæ ¼å¼éƒ½èƒ½å®Œç¾é€‚é… ç¦»çº¿åº”ç”¨ï¼šæ”¯æŒç”¨æˆ·åœ¨æ²¡ç½‘çš„æ¡ä»¶ä¸‹ä¹Ÿèƒ½æ‰“å¼€ç½‘é¡µï¼Œè¿™é‡Œå°±éœ€è¦ Service Worker çš„å¸®åŠ© APP åŒ–ï¼šèƒ½å¤Ÿåƒ APP ä¸€æ ·å’Œç”¨æˆ·è¿›è¡Œäº¤äº’å¸¸ æ›´æ–°ï¼šä¸€æ—¦ Web ç½‘é¡µæœ‰ä»€ä¹ˆæ”¹åŠ¨ï¼Œéƒ½èƒ½ç«‹å³åœ¨ç”¨æˆ·ç«¯ä½“ç°å‡ºæ¥ å®‰å…¨ï¼šå®‰å…¨ç¬¬ä¸€ï¼Œç»™è‡ªå·±çš„ç½‘ç«™åŠ ä¸Šä¸€æŠŠç»¿é”â€“HTTPS å¯æœç´¢ï¼šèƒ½å¤Ÿè¢«å¼•æ“æœç´¢åˆ°æ¨é€ï¼šåšåˆ°åœ¨ä¸æ‰“å¼€ç½‘é¡µçš„å‰æä¸‹ï¼Œæ¨é€æ–°çš„æ¶ˆæ¯ å¯å®‰è£…ï¼šèƒ½å¤Ÿå°†WebåƒAPPä¸€æ ·æ·»åŠ åˆ°æ¡Œé¢å¯è·³è½¬ï¼šåªè¦é€šè¿‡ä¸€ä¸ªè¿æ¥å°±å¯ä»¥è·³è½¬åˆ°ä½ çš„ Web é¡µé¢ Webè¦åšçš„æ˜¯æŠŠç»„ä»¶åŒ–ã€ç¦»çº¿ç¼“å­˜ã€æœ¬åœ°APIã€é€šçŸ¥æ¥å£ã€è‡ªé€‚åº”è®¾å¤‡åšå¥½ service workerå¼ºå¤§çš„ç½‘ç»œè¯·æ±‚æ‹¦æˆªå¯ä»¥å¸®åŠ©ç”¨æˆ·æ›´å¥½çš„åŸç”ŸAPPä½“éªŒã€‚PWAå­˜åœ¨çš„é—®é¢˜ä¸»è¦æ˜¯æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ service workerï¼Œpouchdbå¯¹ç¦»çº¿ä½“éªŒçš„åŠ æŒï¼Œä»¥ä¸Šå‡ ä¸ªåº“éƒ½æ²¡polymeråšå¾—å¥½ã€‚ ä¹”å¸ƒæ–¯ï¼šDesign is not just what it looks like and feels like. Design is how it works ã€Šæ­»äº¡è¯—ç¤¾ã€‹ï¼šæˆ‘æ­¥å…¥ä¸›æ—ï¼Œå› ä¸ºæˆ‘å¸Œæœ›æ´»å¾—æ·±åˆ»ï¼Œå¸å–ç”Ÿå‘½ä¸­æ‰€æœ‰çš„ç²¾åï¼ŒæŠŠéç”Ÿå‘½çš„ä¸€åˆ‡éƒ½å‡»æºƒï¼Œä»¥å…å½“æˆ‘ç”Ÿå‘½ç»ˆç»“æ—¶ï¼Œå‘ç°è‡ªå·±ä»æ²¡æœ‰æ´»è¿‡ã€‚ ä½ è¦æ‹¼å°½å…¨åŠ›åœ¨å¹´è½»çš„æ—¶å€™ç»™è‡ªå·±è¶³å¤Ÿå¤šçš„æœºä¼šï¼Œåˆ›é€ æ›´å¤šçš„å¯èƒ½ã€‚ ä½ è¦æ”¹å˜å¿ƒæ€ï¼Œè¦å¢é•¿æ‰å¹²ï¼Œç§¯ç´¯é˜…å†ï¼Œè¿™æ ·ä½ æ‰æœ‰å¾—é€‰ã€‚ æ‘ä¸Šæ˜¥æ ‘ï¼šä½ è¦åšä¸€ä¸ªä¸åŠ¨å£°è‰²çš„å¤§äººäº†ï¼Œä¸å‡†æƒ…ç»ªåŒ–ï¼Œä¸å‡†å·å·æƒ³å¿µï¼Œä¸å‡†å›å¤´çœ‹ï¼Œå»è¿‡è‡ªå·±å¦å¤–çš„ç”Ÿæ´»ï¼Œä½ è¦å¬è¯ï¼Œä¸æ˜¯æ‰€æœ‰çš„é±¼éƒ½ä¼šç”Ÿæ´»åœ¨åŒä¸€ç‰‡æµ·é‡Œã€‚ â€œIf you cannot measure it, you cannot improve itâ€ â€”â€”â€”â€” William Thomson You need to be right before being good tryâ€¦catchâ€¦finally: åœ¨ä¿æŒä»£ç è¿è¡Œçš„åŒæ—¶ï¼Œå¤„ç†ç»™å®šä»£ç å—ä¸­å¯èƒ½å‘ç”Ÿçš„éƒ¨åˆ†æˆ–æ‰€æœ‰é”™è¯¯çš„æ–¹æ³•ã€‚å¦‚æœå‡ºç°äº†æœªå¤„ç†çš„é”™è¯¯ï¼ŒJSå°†æä¾›å¸¸è§„é”™è¯¯æ¶ˆæ¯ã€‚ tryå—åŒ…å«å¯èƒ½å¼•å‘é”™è¯¯çš„ä»£ç  catchå—åŒ…å«å¤„ç†éƒ¨åˆ†æˆ–æ‰€æœ‰é”™è¯¯çš„ä»£ç  å¦‚æœtryå—ä¸­å‘ç”Ÿé”™è¯¯ï¼Œåˆ™ç¨‹åºæ§ä»¶å°†ä¼ é€’exceptionçš„å€¼ç»™catchå— å¦‚æœæœªå‘ç”Ÿé”™è¯¯ï¼Œåˆ™ç»ä¸æ‰§è¡Œcatchå—ä¸­çš„ä»£ç  å¯ä»¥é€šè¿‡ä½¿ç”¨throwè¯­å¥é‡æ–°å¼•å‘é”™è¯¯æ¥å°†é”™è¯¯ä¼ é€’åˆ°ä¸‹ä¸€çº§åˆ« åœ¨æ‰§è¡Œtryå—ä¸­çš„æ‰€æœ‰è¯­å¥å¹¶åœ¨catchå—ä¸­å®Œæˆé”™è¯¯å¤„ç†åï¼Œæ— è®ºæ˜¯å¦å·²å¤„ç†é”™è¯¯ï¼Œéƒ½å°†æ‰§è¡Œfinallyå—ä¸­çš„è¯­å¥ã€‚ finallyå—ä¸­çš„ä»£ç ä¿è¯èƒ½è¿è¡Œï¼Œé™¤éå‘ç”Ÿæœªå¤„ç†çš„é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œcatchå—å†…å‘ç”Ÿçš„è¿è¡Œæ—¶é”™è¯¯ï¼‰ åªæœ‰ç†è§£ç»†èŠ‚ï¼Œæ‰æœ‰å¯èƒ½åœ¨ç‰¹å®šåœºæ™¯é‡Œè¿›è¡Œä¼˜åŒ–å’Œåˆ›é€  æ¯æ¬¡é€‰æ‹©\bçš„æ—¶å€™ï¼Œå¬å†…å¿ƒçš„å£°éŸ³ï¼Œé€‰æ‹©ä¼¼ä¹éš¾ä¸€ç‚¹çš„é‚£æ¡è·¯ï¼Œå°±æ˜¯åœ¨è·µè¡Œç†æƒ³ï¼š è‡ªå·±çš„å·¥ä½œåšåˆ°æœ€é«˜æ ‡å‡†ï¼Œä¸æ–­ç²¾è¿›ï¼› ä¸æ–¤æ–¤è®¡è¾ƒè‡ªå·±çš„å¾—å¤±ï¼Œå…ˆäººåå·±ï¼› çœ‹åˆ°ä¸å…¬å¹³çš„æƒ…å†µï¼Œå‘å£°ï¼› çœ‹åˆ°éœ€è¦å¸®åŠ©çš„â€œæ— å…³äººç­‰â€\bï¼Œä¼¸æ‰‹ï¼› å¯¹è®¤ä¸ºæ­£ç¡®çš„äº‹æƒ…ï¼ŒåšæŒï¼› å°‘æŠ±æ€¨ï¼Œå¤šè¡ŒåŠ¨ï¼› å¯¹æ”¯æŒåˆ›æ–°çš„äº‹ï¼Œæ•¢äºå†’é™©ï¼› çœ‹åˆ°éœ€è¦æ”¯æŒçš„äººï¼ŒæŒºèº«è€Œå‡ºï¼› å‡ºäº†é—®é¢˜ï¼Œæ•¢äºæ‹…å½“ï¼› Reactæ˜¯ç”¨æ¥æ›¿æ¢jQueryçš„ï¼Œé‚£ä¹ˆReduxå°±æ˜¯ä»¥æ›¿æ¢Backbone|Emberç­‰MVCæ¡†æ¶ä¸ºç›®çš„çš„ã€‚ å¦‚æœä½ æ„¿æ„é™åˆ¶åšäº‹æ–¹å¼çš„çµæ´»åº¦ï¼Œä½ å‡ ä¹æ€»ä¼šå‘ç°å¯ä»¥åšçš„æ›´å¥½ æ”¿æ²»å­¦è¯´ï¼šè°å„æ–­äº†ä¿¡æ¯çš„é˜é‡Šæƒï¼Œè°å°±æŒæ¡äº†æƒåˆ© ç»æµå­¦è¯´ï¼šä½ èƒ½è®©ä¿¡æ¯æœ‰å…¬ä¿¡åŠ›ï¼Œä½ å°±æ§åˆ¶äº†ä¸€ç¬”çœ‹ä¸è§çš„è´¢å¯Œ å¦‚æœè¯´ä¿¡æ¯\bå°±æ˜¯è´¢å¯Œï¼Œé‚£ä¹ˆå¾—åˆ°çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š ä¸€ç§æ˜¯åˆ©ç”¨ä¿¡æ¯ä¸å¯¹ç§°èµšå–åˆ©ç›Šï¼Œå°±åƒåˆ©ç”¨å„ç§é¢è¯•æŠ€å·§ï¼Œå–å¾—é¢è¯•å®˜çš„ä¿¡ä»»ï¼› ä¸€ç§æ˜¯è®©è‡ªå·±çš„èƒ½åŠ›â€œå…¬æœ‰åŒ–â€ï¼Œåˆ©ç”¨ä¿¡æ¯é€æ˜åŒ–ï¼Œæ¥é™ä½äº¤æ˜“æˆæœ¬ã€‚ é¢è¯•è¦è€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼š \bä½ æ˜¯å¦èƒ½æ»¡è¶³è¿™ä¸ªèŒä½ç°åœ¨å’Œä»¥åçš„è¦æ±‚ï¼Ÿâ€”â€”ä½ æœ‰ä»€ä¹ˆèƒ½åŠ›ï¼Ÿ è¿™ä¸ªäººåœ¨å›¢é˜Ÿä¸­ä¼šäº§ç”Ÿä»€ä¹ˆæ ·çš„ä½œç”¨ï¼Ÿä»–æ˜¯å¦ç¬¦åˆå…¬å¸æ–‡åŒ–çš„è¦æ±‚ï¼Ÿâ€”â€”ä½ æ˜¯ä»€ä¹ˆæ ·çš„äººï¼Ÿä½ æœ‰ç€æ€æ ·çš„æ•…äº‹ï¼Ÿå…³é”®åœ¨äºï¼Œå¦‚ä½•è®²è¿™ä¸ªæ•…äº‹ã€‚ â€å¼±ç‚¹â€”â€”æŒ‘æˆ˜â€”â€”è§£å†³â€œçš„æƒ…\bèŠ‚å»ºæ„æ¨¡å¼ èƒ½åŠ›ä¸€èˆ¬ï¼Œä½†å·¥ä½œæœ‰éŸ§åŠ²å„¿ï¼Œæ€§æ ¼å•çº¯ï¼Œæ‰€ä»¥\bæœ‰äº›äº‹æƒ…å¹²å¾—åè€Œæ¯”èªæ˜äººæ›´å¥½ æˆ‘å–œæ¬¢è§‚å¯Ÿäº‹ç‰©ï¼Œæ”¹å˜å¯¹äº‹æƒ…çš„çœ‹æ³•ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚äººç‰©å½¢è±¡ï¼šæˆ‘æ˜¯ä¸€ä¸ªæœ‰æƒ³æ³•æœ‰åˆ›æ„çš„äºº å¯¹äºè®¤å‡†çš„äº‹æƒ…ï¼Œæˆ‘éå¸¸åšæŒï¼Œä¸è¾¾ç›®çš„ï¼Œç»ä¸æ”¾å¼ƒã€‚äººç‰©å½¢è±¡ï¼šæˆ‘æ˜¯ä¸€ä¸ªæœ‰æ¯…åŠ›çš„äººï¼Œå¯ä»¥æ‰“ç¡¬ä»—ã€‚ æˆ‘çš„å…³æ³¨ç‚¹å¸¸å¸¸ä¸åœ¨å…·ä½“é—®é¢˜ï¼Œè€Œæ˜¯å–œæ¬¢æ¢³ç†ä¸šåŠ¡é€»è¾‘ï¼Œä»åˆ¶åº¦å±‚é¢ä¼˜åŒ–åŠäº‹æ•ˆç‡ã€‚äººç‰©å½¢è±¡ï¼šæˆ‘æ˜¯ä¸€ä¸ªç†æ€§ã€ç³»ç»Ÿæ€§å¾ˆå¼ºçš„äººã€‚ å±¡æˆ˜å±¡è´¥æ˜¯ä¸€ä¸ªäº‹å®ï¼Œå±¡è´¥å±¡æˆ˜å°±æ˜¯ä¸€ä¸ªæ•…äº‹ ä½ å¹¶æ²¡æœ‰æµªè´¹æ‰ä¸€ä¸ªå¥½æœºä¼šï¼Œä½ åªæ˜¯ä¸»åŠ¨æ”¾å¼ƒæ‰ä¸€äº›ä¸é€‚åˆä½ çš„æœºä¼šè€Œå·² åªæœ‰ä¸æ–­æ”¾å¤§è‡ªå·±çš„æ€§æ ¼ï¼Œä½ æ‰ä¼šä»¤äººå°è±¡æ·±åˆ» éª¤ç„¶ä¸´ä¹‹è€Œä¸æƒŠï¼Œæ— æ•…åŠ ä¹‹è€Œä¸æ€’ æ¯ä¸´å¤§äº‹æœ‰é™æ°”ï¼Œä¸ä¿¡ä»Šæ—¶æ— å¤è´¤ å§‹ç»ˆè¦åšåˆ°ç²¾ç¥é•‡é™ï¼Œå¤´è„‘å†·é™ï¼Œå¿ƒæ€å¹³é™ï¼Œè¦åŠ›æˆ’æµ®èºã€æ€¥èºã€ç„¦èºï¼ŒåŸ¹è‚²é™æ°”ã€å¤§æ°”ï¼Œå§‹ç»ˆåšåˆ°ä¸ä¸ºè¯±æƒ‘æ‰€åŠ¨ã€çŒå˜æ‰€æƒŠã€ååˆ©æ‰€ç´¯ã€ä¿—äº‹æ‰€æ‰°ï¼Œè®²æ”¿æ²»ã€é¡¾å¤§å±€ã€å®ˆçºªå¾‹ï¼Œä»¥æ— ç§æ— æ¬²ã€è‡³å¤§è‡³åˆšï¼Œæ¶µå…»æµ©ç„¶å¤§æ°”ï¼ŒæŠŠé™æ°”å½“æˆä¸€ç§å¢ƒç•Œå»è¿½æ±‚ï¼Œä¸€ç§æƒ…æ“å»ä¿®ç‚¼ï¼Œä¸€ç§å“è´¨å»ç£¨ç ºï¼Œé™æ°”æ‰ä¼šå½¢è€Œä¸Šä¸ºé“ï¼Œå½¢è€Œä¸‹ä¸ºè¡Œï¼Œå†…åŒ–äºå¿ƒï¼Œå¤–åŒ–äºäº‹ï¼Œæˆä¸ºæˆ‘ä»¬ç«‹èº«åšäººï¼Œä¸ºå®˜åšäº‹çš„å¼ºå¤§äººæ ¼åŠ›é‡ã€‚ ç²¾æ˜çš„æœ€é«˜å¢ƒç•Œæ˜¯åšé“ï¼Œä¿®å…»çš„æœ€é«˜å¢ƒç•Œæ˜¯å–„è‰¯ https://cloud.tencent.com/developer/labs/lab/10004/console è‹¥æ²¡æœ‰äººæ„¿æ„ä¸ä½ é¢ æ²›æµç¦»ï¼Œåˆ™ä»¥æ¢¦ä¸ºé©¬ï¼Œéšå¤„è€Œæ – è¥é”€çš„åŸºç¡€æ˜¯æ´å¯Ÿå—ä¼—çš„ç¤¾ä¼šå¿ƒæ€ æ•°ç»„çš„someå’Œfilteræ–¹æ³•çš„åŒºåˆ« someæ–¹æ³•è¿”å›çš„æ˜¯booleanå€¼ï¼Œå¯ç”¨äºæ£€å¯Ÿæ•°ç»„ä¸­æ˜¯å¦æœ‰æŸå¯¹è±¡ filteræ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯ç”¨äºè¿‡æ»¤æ•°ç»„ä¸­çš„å¯¹è±¡ åˆçº§ | å°å†œç»æµ | å‡ ä¹ä¸éœ€è¦æˆæœ¬ï¼Œä¸éœ€è¦æ€è€ƒï¼Œé äººåŠ›è·å–ä»·å€¼ï¼Œå‡ºç°é—®é¢˜è¿åŸºæœ¬çš„å®šä½éƒ½å¾ˆéš¾ï¼Œ\bæ‰¾åˆ°é—®é¢˜è¿˜æ˜¯è¦é å¤§é‡çš„äººåŠ›å»è§£å†³é‡å¤æ€§çš„åŠ³åŠ¨ \bä¸­çº§ | è’¸æ±½æ—¶ä»£ï¼ˆå€ŸåŠ©å¹³å°ï¼‰ | å·¥ç¨‹åŒ–æ—¶ä»£ï¼Œå€ŸåŠ©å·¥å…·å¿«é€Ÿå®šä½ï¼Œ| ä¸ºäº†æ•ˆç‡ é«˜çº§ | èµ„æœ¬è¿ä½œï¼ˆäººå·¥æ™ºèƒ½|å¹³å°ï¼‰ | èµ„æœ¬å¸¦åŠ¨èµ„æœ¬ï¼Œå‰æœŸæŠ•èµ„å¤§ï¼ŒåæœŸç‰µä¸€å‘è€ŒåŠ¨å…¨èº« | æ€ç»´æ–¹å¼çš„é¢ è¦†ï¼Œå…·æœ‰ç§¯ç´¯æ•ˆåº”ï¼ˆéšç€é¡¹ç›®å®è·µè¶Šæ¥è¶Šå¤šåå“ºä»è€Œå˜å¾—è¶Šæ¥è¶Šæ™ºèƒ½ï¼‰ ä»ä¾é åˆ«äººæ…¢æ…¢æˆé•¿ä¸ºæˆä¸ºåˆ«äººçš„ä¾é  Array.prototype.filter ( callbackfn(å…ƒç´ çš„å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼Œéå†çš„å¯¹è±¡) ) ä»¥ä¼ä¸šçš„ç ”ç©¶ã€ç”Ÿäº§ã€é”€å”®ï¼ˆâ€œç ”äº§é”€â€ï¼‰ä¸‰å¤§åŠŸèƒ½è®¡ï¼ŒåŸæ¥ä¸‰è€…ä¹‹é—´å¸‚åœºäº¤æ˜“æˆæœ¬å¤ªé«˜ï¼Œæ‰€ä»¥ï¼Œå¿…é¡»æŠŠå®ƒä»¬ä¸€ä½“åŒ–åˆ°ä¸€å®¶å…¬å¸å±‹æªä¹‹ä¸‹ï¼Œæ‰èƒ½é¡ºç•…è¿è½¬ï¼Œç”Ÿäº§å‡ºæœ‰ç«äº‰åŠ›çš„äº§å“ã€‚ä»·å€¼è§‚ã€é¢„è®¾å’Œè¡Œä¸ºä¹ æƒ¯éƒ½ä¸åŒçš„ä¸‰å¤§åŠŸèƒ½ï¼Œä¸€æ–¹é¢è¦å……åˆ†å°Šé‡å®ƒä»¬çš„å·®å¼‚åŒ–ï¼ˆdifferentiationï¼‰ï¼Œå¦å¤–ä¸€æ–¹é¢åˆè¦å®ç°ä¸€ä½“åŒ–ï¼ˆintegrationï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ç®¡ç†å­¦è‘—åçš„æ‰€è°“åº”å˜ç†è®ºï¼ˆcontingency theoryï¼‰çš„æ ¸å¿ƒã€‚ç°åœ¨ï¼Œå¸‚åœºä¸Šçš„äº¤æ˜“è´¹ç”¨é™ä½äº†ï¼Œè¡Œä¸šçš„äº§ä¸šç»„ç»‡æ¨¡å¼å‘ç”Ÿå˜åŒ–äº†ï¼ŒåŸæ¥å¿…é¡»æ”¾åœ¨ä¸€ä¸ªå±‹æªä¹‹ä¸‹çš„åŠŸèƒ½å¯ä»¥åˆ°å¸‚åœºä¸Šå»è´­ä¹°äº†ï¼Œâ€œç ”äº§é”€â€æ¨¡å¼ä¹‹å¤–ï¼Œè¿˜æœ‰å¯èƒ½å‡ºç°çš„å½¢å¼æ˜¯ï¼šâ€œç ”é”€ï¼‹äº§â€ï¼ˆå¦‚ç”µå­ä»£å·¥ä¸šï¼‰ã€â€œç ”ï¼‹äº§é”€â€ï¼ˆå¦‚æ–°è¯ç ”å‘ï¼‰ã€â€œç ”äº§ï¼‹é”€â€ï¼ˆå¦‚æ±½è½¦åˆ†é”€ä¸šï¼‰ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰â€œç ”ï¼‹äº§ï¼‹é”€â€ï¼ˆå¦‚èŠ¯ç‰‡ä¸šï¼‰ æ¸ é“ï¼ˆå®¢æˆ·ï¼‰ä¸ºç‹è¿˜æ˜¯å†…å®¹ï¼ˆäº§å“ï¼‰ä¸ºç‹ï¼Œä»æ¥éƒ½å–å†³äºäºŒè€…çš„ç›¸å¯¹è°ˆåˆ¤åŠ›ã€‚å°å²›ä¸Šåä¸ªç”·ç”Ÿï¼Œä¸€ä¸ªå¥³ç”Ÿï¼Œå¥³ç”Ÿä¸ºç‹ï¼›åä¸ªå¥³ç”Ÿï¼Œä¸€ä¸ªç”·ç”Ÿï¼Œç”·ç”Ÿä¸ºç‹ã€‚æ²¡æœ‰è°æ˜¯å¤©ç”Ÿçš„çœŸå‘½å¤©å­ã€‚ äº’è”ç½‘å¯¹äº§ä¸šçš„å½±å“ï¼Œæˆ‘ä»¬ä¸»è¦çœ‹ä¸¤ä¸ªç»´åº¦ï¼Œä¸€ä¸ªæ˜¯è¡Œä¸šå¸‚åœºåŒ–çš„ç¨‹åº¦ï¼Œä¸€ä¸ªæ˜¯è¡Œä¸šä¿¡æ¯åŒ–çš„ç¨‹åº¦ è¡Œä¸šä¿¡æ¯åŒ–çš„ç¨‹åº¦ï¼ŒæŒ‡è¿™ä¸ªè¡Œä¸šçš„äººæµã€ç‰©æµã€ç”Ÿæ„æµå¤šå¤§ç¨‹åº¦ä¸Šæ˜¯è·Ÿç€ä¿¡æ¯æµèµ°çš„ï¼Œå¦‚æœå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯è·Ÿç€ä¿¡æ¯æµèµ°çš„ï¼Œäº’è”ç½‘åœ¨è¿™ä¸ªè¡Œä¸šå°±æœ‰æˆï¼›å¦‚æœä¸è·Ÿç€èµ°ï¼Œå°±ä¸è¦å»æä»€ä¹ˆäº’è”ç½‘ï¼Œâ€œäº’è”ç½‘+â€æˆ–è€…â€œ+äº’è”ç½‘â€ï¼Œéƒ½ä¸ä¼šæœ‰å¤ªå¤§æ„ä¹‰ã€‚åªè¦ä¸€ä¸ªè¡Œä¸šçš„ä¿¡æ¯åŒ–ç¨‹åº¦é«˜ï¼Œäº’è”ç½‘åŒ–çš„æ½œåŠ›å¤§ï¼Œè¿™ä¸ªè¡Œä¸šé‡Œä¸€èˆ¬å°±ä¼šå‡ºç°ä¸“åšä¿¡æ¯çš„å¹³å°ã€‚ å·æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šå”¯ä¸€çš„ç½ªï¼Œå·æ‡’ä¹Ÿæ˜¯å· æœ‰ä¸¤ä»¶äº‹æƒ…ä¸åšå¥½å®¹æ˜“èµ°å¼¯è·¯ï¼Œä¸€æ˜¯å®˜æ–¹æ–‡æ¡£æ²¡æœ‰çœ‹é€ï¼ŒåŸºç¡€ä¸æ‰å®ï¼›äºŒæ˜¯è¯¥éµå¾ªçš„è§„èŒƒæ²¡æœ‰éµå¾ª ä¸èƒ½ç®€å•åœ°åšå•ç›®æ ‡å±€éƒ¨çŸ­æœŸä¼˜åŒ–ï¼Œå¿…é¡»å¤šç›®æ ‡é•¿æœŸåœ°æŠŠè¿™ç§å•†ä¸šç”Ÿæ€éœ€æ±‚åŒç®—æ³•èåˆåœ¨ä¸€èµ·ã€‚ äº’è”ç½‘å•†ä¸š: æµé‡é›†ä¸­åŒ–:çº¿ä¸Šæœ€é‡è¦çš„ç‰¹ç‚¹æ˜¯ç”¨æˆ·å’Œæµé‡é›†ä¸­åŒ–ï¼Œä¸å†æœ‰åœ°ç†ä½ç½®é™åˆ¶ï¼Œå¯ä»¥æ˜¾è‘—æå‡å•†ä¸šæ•ˆç‡ã€‚è¿™é‡Œå¯¹æŠ€æœ¯æœ‰éå¸¸å¼ºçš„ä¾èµ–å’ŒæŒ‘æˆ˜ï¼Œè¦æ±‚æˆ‘ä»¬èƒ½å¿«é€ŸæŠŠå¥½çš„å•†å®¶å’Œå•†å“ç­›é€‰å‡ºæ¥ç»™ç”¨æˆ·ï¼ŒæŠŠä¸å¥½çš„æ·˜æ±°æ‰ï¼Œç”šè‡³è¦é’ˆå¯¹ä¸åŒç±»å‹çš„ç”¨æˆ·å’Œåœºæ™¯ï¼Œæ›´å¤šä½“ç°æŸä¸€ç±»å•†å“æˆ–å•†å®¶çš„ç‰¹ç‚¹ã€‚ä¸€æ—¦æˆ‘ä»¬åšä¸å¥½ï¼Œè´Ÿå‘ç»“æœä¹Ÿä¼šè¿…é€Ÿæ‰©å¤§ï¼Œä¼šæŠŠä¸å¥½çš„æˆ–è€…ä¸é€‚åˆçš„å•†å“è¿…é€Ÿæ¨é€ç»™æŸä¸ªåœºæ™¯ä¸‹æŸä¸ªç”¨æˆ·ç¾¤ä½“ï¼Œè¿™æ ·å¯¹ç”Ÿæ€å¯¹ç”¨æˆ·çš„æŸå®³ä¹Ÿæ˜¯éå¸¸æ˜¾è‘—çš„ äº§å“åŒ–: å¤§æ•°æ®èµ‹èƒ½:ä¹‹æ‰€ä»¥æŠ€æœ¯èƒ½å¤Ÿæå‡å•†ä¸šæ•ˆç‡ï¼Œæ ¸å¿ƒä¹Ÿåœ¨äºçº¿ä¸Šç¯å¢ƒæœ‰ä¸°å¯Œçš„å¤§æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·ã€å•†å“ã€å•†å®¶ã€äº¤æ˜“ã€è¯„ä»·ç­‰æ•°æ®ï¼Œè€Œè¿™äº›å¤§é‡çš„æ•°æ®æ˜¯ç»“æ„åŒ–å’Œæ‰“é€šçš„ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸ŠæŠ€æœ¯æ‰èƒ½æœ‰å‘æŒ¥çš„ç©ºé—´ï¼Œæ‰èƒ½å»æå‡å•†ä¸šæ•ˆç‡ å¦‚æœæå‰äº†è§£äº†ä½ ä»¬è¦é¢å¯¹çš„äººç”Ÿï¼Œä¸çŸ¥ä½ ä»¬æ˜¯å¦è¿˜ä¼šæœ‰å‹‡æ°”å‰æ¥ã€‚çœ‹è§çš„å’Œå¬åˆ°çš„ï¼Œç»å¸¸ä¼šä»¤ä½ ä»¬æ²®ä¸§ã€‚ä¸–ä¿—æ˜¯è¿™æ ·çš„å¼ºå¤§ï¼Œå¼ºå¤§åˆ°ç”Ÿä¸å‡ºæ”¹å˜ä»–ä»¬çš„å¿µå¤´æ¥ã€‚å¯æ˜¯å¦‚æœæœ‰æœºä¼šæå‰äº†è§£äº†ä½ ä»¬çš„äººç”Ÿï¼ŒçŸ¥é“é’æ˜¥ä¹Ÿä¸è¿‡åªæœ‰è¿™äº›æ—¥å­ï¼Œä¸çŸ¥ä½ ä»¬æ˜¯å¦è¿˜ä¼šåœ¨æ„é‚£äº›ä¸–ä¿—å¸Œæœ›ä½ ä»¬åœ¨æ„çš„äº‹æƒ…ã€‚æ¯”å¦‚å æœ‰å¤šå°‘æ‰æ›´è£è€€ï¼Œæ‹¥æœ‰ä»€ä¹ˆæ‰èƒ½è¢«çˆ±ã€‚ç­‰ä½ ä»¬é•¿å¤§ä½ ä»¬ä¼šå› ç»¿èŠ½å†’å‡ºåœŸåœ°è€Œå–œæ‚¦ï¼Œä¼šå¯¹åˆå‡çš„æœé˜³æ¬¢å‘¼è·³è·ƒï¼Œä¹Ÿä¼šç»™åˆ«äººå–„æ„å’Œæ¸©æš–ã€‚ä½†æ˜¯å´ä¼šåœ¨èµç¾åˆ«çš„ç”Ÿå‘½çš„åŒæ—¶ï¼Œå¸¸å¸¸ï¼Œç”šè‡³æ°¸è¿œåœ°å¿˜äº†è‡ªå·±çš„çè´µã€‚â€œæ„¿ä½ åœ¨è¢«æ‰“å‡»æ—¶ï¼Œè®°èµ·ä½ çš„çè´µï¼ŒæŠµæŠ—æ¶æ„ï¼›æ„¿ä½ åœ¨è¿·èŒ«æ—¶ï¼Œåšä¿¡ä½ çš„çè´µã€‚çˆ±ä½ æ‰€çˆ±ï¼Œè¡Œä½ æ‰€è¡Œï¼Œå¬ä»ä½ å¿ƒï¼Œæ— é—®è¥¿ä¸œã€‚ åšå‡ºæ­£äº¤çš„è®¾è®¡ï¼Œâ€œæ­£äº¤â€è®²çš„æ˜¯çº¿æ€§æ— å…³ï¼Œéå¸¸é‡è¦ï¼Œå°±åƒä¸€ä¸ªç‚¹(x,y)ï¼Œåœ¨xè½´çš„å˜åŒ–ä¸ä¼šå½±å“yï¼Œyè½´çš„å˜åŒ–ä¸ä¼šå½±å“xï¼Œè¿™å°±æ˜¯æ­£äº¤ã€‚â€œæ­£äº¤â€å¨åŠ›å·¨å¤§ï¼Œ(x,y)å¯ä»¥è¡¨è¾¾äºŒç»´å¹³é¢çš„æ‰€æœ‰çš„ç‚¹ï¼Œå¦‚æœå¢åŠ ä¸€ä¸ªzè½´ï¼Œä¸ä½†èƒ½è¡¨è¾¾ä¸‰ç»´ç©ºé—´ä¸­æ‰€æœ‰çš„ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸ªè½´éƒ½å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚è®¾è®¡æ¨¡å¼ä¸€ç›´å¼ºè°ƒçš„ã€å‘ç°å˜åŒ–å¹¶ä¸”å°è£…å˜åŒ–ã€å…¶å®å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚ å‰ç«¯æŠ€æœ¯ï¼šä¼˜å…ˆè§£å†³åŸºç¡€æŠ€æœ¯è®¾æ–½çš„é—®é¢˜ ä¸šåŠ¡ï¼šå¯¹å¤– å¼€å‘æ•ˆç‡ VS ç ”å‘æ•ˆç‡ æ€§èƒ½ &amp;&amp; ç”¨æˆ·ä½“éªŒ æŠ€æœ¯ç”Ÿæ€ å›¢é˜Ÿé©±åŠ¨ï¼šç»“æœå¯è¡¡é‡ï¼šä¸ºå›¢é˜Ÿäº‰å–æ—¶é—´ Move Fast and Break Things Huge Impact with Small Teams Be Bold and Innovative ä»£ç å¯¹äºä¸€ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆå°±æ˜¯å°Šä¸¥ã€‚ å½“ä½ é‡åˆ°å›°æƒ‘ä¸çŸ¥é“è¯¥æ€ä¹ˆåŠï¼Œæ°¸è¿œè®°ä½:Read-Search-Askã€‚ Read the error search google ask for help ä¸ªäººå­¦ä¹ æ±‚æ–°ï¼Œä¼ä¸šæ¶æ„æ±‚ç¨³ã€‚æ— éå–œå¥½ä¸åœºæ™¯è€Œå·²ã€‚ å…¶å®æ²¡æœ‰åˆºä¸ç©¿çš„ç›¾ï¼Œåªæ˜¯æ”»å‡»çš„æˆæœ¬å’Œæ”»å‡»æˆåŠŸåè·å¾—çš„åˆ©ç›Šæˆä¸æˆæ­£æ¯”ã€‚ ä½ éœ€è¦çš„ä¼´ä¾£ï¼Œæœ€å¥½æ˜¯é‚£èƒ½å¤Ÿå’Œä½ å¹¶è‚©ç«‹åœ¨èˆ¹å¤´ï¼Œæµ…æ–Ÿä½å”±ä¸¤å²¸é£å…‰ï¼ŒåŒæ—¶æ›´èƒ½åœ¨æƒŠæ¶›éª‡æµªä¸­ç´§ç´§æ¡ä½ä½ çš„æ‰‹ä¸æ”¾çš„äººã€‚â€”â€”é¾™åº”å° æ©å®œè‡ªæ·¡è€Œæµ“ï¼Œå…ˆæµ“åæ·¡è€…äººå¿˜å…¶æƒ ï¼›å¨å®œè‡ªä¸¥è€Œå®½ï¼Œå…ˆå®½åä¸¥è€…äººæ€¨å…¶é…· é˜³å…‰ä¸‹åƒä¸ªå¤©çœŸçƒ‚æ¼«çš„å­©å­ï¼Œé£é›¨é‡Œåšä¸ªç›¸äº’æ‰¶æŒçš„å¤§äºº ä½•è°“å¹³åº¸ï¼Ÿå¹³åº¸æ˜¯ä¸€ç§è¢«åŠ¨è€ŒåˆåŠŸåˆ©çš„è°‹ç”Ÿæ€åº¦ã€‚å¹³åº¸è€…ä»€ä¹ˆä¹Ÿä¸ç¼ºå°‘ï¼Œåªæ˜¯æ— æ„Ÿäºå¤–éƒ¨ä¸–ç•Œçš„ç²¾å½©ï¼Œäººç±»å†å²çš„åšé‡ï¼Œç»ˆæé“ä¹‰çš„ç¥åœ£ï¼Œç”Ÿå‘½æ¶µæ„çš„ä¸°å¯Œã€‚ åªæœ‰ä¹¦ç±ï¼Œèƒ½æŠŠè¾½é˜”çš„ç©ºé—´å’Œæ¼«é•¿çš„æ—¶é—´æµ‡çŒç»™ä½ ï¼Œèƒ½æŠŠä¸€åˆ‡é«˜è´µç”Ÿå‘½æ—©å·²é£˜æ•£çš„ä¿¡å·ä¼ é€’ç»™ä½ ï¼Œèƒ½æŠŠæ— æ•°çš„æ™ºèƒ½å’Œç¾å¥½å¯¹æ¯”ç€æ„šæ˜§å’Œä¸‘é™‹ä¸€èµ·å‘ˆç°ç»™ä½ ã€‚ è¿™ä¸ªä¸–ç•Œä¸Šå¤šçš„æ˜¯çŸ­å¹³å¿«ã€ä»˜å‡ºé©¬ä¸Šå°±æœ‰å›æŠ¥çš„ç«‹ç«¿è§å½±çš„äº‹ï¼Œä¹Ÿå¤šçš„æ˜¯éœ€è¦é•¿æœŸæŠ•å…¥ã€é çŸ¢å¿—ä¸æ¸çš„åšæŒæ‰æœ‰å¤§æˆçš„äº‹ã€‚åªä¸è¿‡ï¼Œå¯¹å‰ä¸€ç§äººä»¬å¸¸å¸¸è¶‹ä¹‹è‹¥é¹œï¼Œå¯¹åä¸€ç§äººä»¬å´é¿ä¹‹å”¯æä¸åŠã€‚ å½“çˆ±æ”¯é…ä¸€åˆ‡æ—¶ï¼Œæƒåˆ©å°±ä¸å­˜åœ¨äº†ï¼Œå½“æƒåŠ›ä¸»å®°ä¸€åˆ‡æ—¶ï¼Œçˆ±å°±æ¶ˆå¤±äº† åŠ›å¾®ä¼‘è´Ÿé‡ï¼Œè¨€è½»è«åŠäºº é€è€…ä¸å¯è¿½ï¼Œæ¥è€…çŠ¹å¯å¾… æ‹¿ç ´ä»‘æ›¾è¯´ï¼šâ€œèƒ½æ§åˆ¶å¥½è‡ªå·±æƒ…ç»ªçš„äººï¼Œæ¯”æ‹¿ä¸‹ä¸€åº§åŸæ± çš„å°†å†›æ›´ä¼Ÿå¤§ã€‚â€ è¡¡é‡ä¸€ä¸ªäººçš„æˆåŠŸæ ‡å¿—ï¼Œä¸æ˜¯çœ‹ä»–ç™»åˆ°é¡¶å³°çš„é«˜åº¦ï¼Œè€Œæ˜¯çœ‹ä»–è·Œåˆ°ä½è°·çš„åå¼¹åŠ›ã€‚ é‡‘é’±æ•™è‚²ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ•™ä¼šå­©å­å¦‚ä½•æ­£ç¡®å¯¹å¾…â€œè·å¾—â€å’Œâ€œæ‹¥æœ‰â€ã€‚â€œå›å­çˆ±è´¢å–ä¹‹æœ‰é“â€ è‡ªä¿¡çš„å­©å­ï¼Œçœ‰é—´æœ‰ç¬‘ï¼Œå¿ƒä¸­æœ‰å…‰ï¼Œåšäº‹æœ‰å†³æ–­ï¼Œå¤§å¤šå…·æœ‰é¢†å¯¼æ‰èƒ½ï¼Œå†…å¿ƒæœæ•¢è€Œç¬ƒå®šï¼Œæœªæ¥ä¼šæœ‰æ— é™å¯èƒ½ã€‚ è¿™ä¸ªä¸–ç•Œä¸Šæ‰€æœ‰çš„çˆ±éƒ½ä»¥èšåˆä¸ºæœ€ç»ˆç›®çš„ï¼Œåªæœ‰ä¸€ç§çˆ±æ˜¯ä»¥åˆ†ç¦»ä¸ºç›®çš„ï¼Œé‚£å°±æ˜¯çˆ¶æ¯å¯¹å­©å­çš„çˆ±ã€‚ æµ…å±‚å­¦ä¹ æ»¡è¶³è¾“å…¥ï¼Œæ·±åº¦å­¦ä¹ æ³¨é‡è¾“å‡ºã€‚ æ­£ç¡®æ€è€ƒçš„æ ¸å¿ƒæ˜¯è®©è‡ªå·±çš„ä¸»è§‚è®¤çŸ¥å°½é‡ä¸å®¢è§‚ä¸–ç•Œä¿æŒä¸€è‡´ è‡ªå‘ä¸æ˜¯æ¥è‡ªä½ çš„ç¼ºç‚¹ï¼Œè€Œæ¥è‡ªä½ æ²¡æœ‰è¶³ä»¥å¯¹æŠ—çš„ä¼˜ç‚¹ã€‚ è‡ªå·±çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ å¯¹æ–¹çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚ä½•åšæ‰èƒ½è¾¾æˆæˆ‘ä»¬åŒæ–¹å…±åŒçš„ç›®çš„ï¼Ÿ å¯¹æ–¹ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™æ ·çš„æƒ…ç»ªï¼Ÿ å¦‚ä½•æ‰èƒ½è®©å¯¹æ–¹æ„Ÿè§‰æ˜¯å¤„äºå®‰å…¨çš„å¯¹è¯ç¯å¢ƒä¸­ï¼Ÿ å¦‚ä½•æ§åˆ¶è‡ªå·±çš„æƒ…ç»ªï¼Œå®¢è§‚çš„è¯„ä»·å¯¹æ–¹çš„è§‚ç‚¹å’Œè¡Œä¸ºï¼Ÿ ã€Šèœæ ¹è°­ã€‹ï¼šå†·çœ¼è§‚äººï¼Œå†·è€³å¬è¯­ï¼Œå†·æƒ…å½“æ„Ÿï¼Œå†·å¿ƒæ€ç†ã€‚ æ‰€è°“å­¦ä¹ ï¼Œå°±æ˜¯æŠŠåŸæœ¬ä¸ç›¸å…³çš„ä¸œè¥¿è”ç³»åœ¨ä¸€èµ·çš„è¿‡ç¨‹ æˆ‘ä»¬ç»å¸¸è¯´æŸä¸ªäººå£æ‰å¥½ï¼Œèƒ½æŠŠä¸€ä¸ªå¤æ‚çš„æ¦‚å¿µè®²æ˜ç™½ï¼Œé‚£ä¸€å®šæ˜¯å› ä¸ºè¿™ä¸ªäººç”¨äº†ä¸€ä¸ªä½ ç†Ÿæ‚‰çš„æ¦‚å¿µä½œä¸ºèµ·ç‚¹ï¼Œå¸®åŠ©ä½ è¿æ¥åˆ°è¿™ä¸ªæ–°æ¦‚å¿µä¸Šï¼Œè¿™æ ·ä½ å°±èƒ½ä¸€ä¸‹å­å¬æ˜ç™½äº†ã€‚ äººæ˜¯åœ¨å·²æœ‰è®¤çŸ¥ä¸Šï¼Œå»ºç«‹æ–°çš„è¿æ¥ï¼Œæ¥ç†è§£æ–°äº‹ç‰©çš„ã€‚ æ•´ç†èƒŒæ™¯çŸ¥è¯†çš„ï¼šMECEæ³•åˆ™ã€‚ æå‡æ²Ÿé€šæ•ˆæœçš„ï¼šSCQAç»“æ„åŒ–è¡¨è¾¾ã€‚ ç”¨äºç­–ç•¥é€‰æ‹©çš„ï¼šSWOTåˆ†æã€‚ æ­£å‘æ¼”ç»æ¨ç†çš„ï¼šä¸‰æ®µè®ºã€‚ ç”¨äºåˆ›æ–°æ€è€ƒçš„ï¼šåŠ å‡ä¹˜é™¤æ’åˆ—ç»„åˆã€‚ å¯¹åˆ›ä¸šè€…æ¥è¯´ï¼Œåˆä¼™äººçš„èƒŒæ™¯éå¸¸é‡è¦ï¼Œå°½é‡ä¸è¦æ‰¾ä¸€èµ·é•¿å¤§çš„ï¼Œä¸€ä¸ªå­¦æ ¡è¯»ä¹¦çš„ï¼Œè¿™æ ·ä½ ä¼šå¹²çš„äº‹æƒ…ä»–ä¹Ÿä¼šå¹²","tags":[]},{"title":"ç¼–å†™ä¸€ä¸ª Loader","date":"2018-12-22T07:19:22.000Z","path":"2018/12/22/ç¼–å†™ä¸€ä¸ª Loader/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– loaderloaderæ˜¯å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°çš„ node æ¨¡å—ï¼Œè¯¥å‡½æ•°åœ¨ loader è½¬æ¢èµ„æºæ—¶è°ƒç”¨ï¼Œç»™å®šçš„å‡½æ•°å°†è°ƒç”¨loader APIï¼Œå¹¶é€šè¿‡thisä¸Šä¸‹æ–‡è®¿é—®æœ¬è´¨ï¼šæ¥æ”¶å­—ç¬¦ä¸²(æˆ–è€…buffer)ï¼Œå†è¿”å›å¤„ç†å®Œçš„å­—ç¬¦ä¸²(æˆ–è€…buffer)çš„è¿‡ç¨‹ è®¾ç½®åŒ¹é…å•ä¸ª loaderwebpack.config.js123456789&#123; test: /\\.js$/ use: [ &#123; loader: path.resolve('path/to/loader.js'), // é€šè¿‡ruleå¯¹è±¡æŒ‡å‘æœ¬åœ°æ–‡ä»¶ options: &#123;/* ... */&#125; &#125; ]&#125; åŒ¹é…å¤šä¸ª loaderswebpack.config.js123456resolveLoader: &#123; modules: [ 'node_modules', path.resolve(__dirname, 'loaders') // å¦‚æœä½ çš„é¡¹ç›®ä¸­æœ‰ä¸€ä¸ª /loaders æœ¬åœ°ç›®å½• ]&#125; ä¸º loader åˆ›å»ºäº†ç‹¬ç«‹çš„åº“å’ŒåŒ…ä½¿ç”¨ npm linkï¼Œæ¥å°†å…¶å…³è”åˆ°ä½ è¦æµ‹è¯•çš„é¡¹ç›®Npm link ä¸“é—¨ç”¨äºå¼€å‘å’Œè°ƒè¯•æœ¬åœ°Npmæ¨¡å—ï¼Œèƒ½åšåˆ°åœ¨ä¸å‘å¸ƒæ¨¡å—çš„æƒ…å†µä¸‹ï¼ŒæŠŠæœ¬åœ°çš„ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„æ¨¡å—çš„æºç é“¾æ¥åˆ°é¡¹ç›®çš„ node_modules ç›®å½•ä¸‹ï¼Œè®©é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„ Npm æ¨¡å—ã€‚ç”±äºæ˜¯é€šè¿‡è½¯é“¾æ¥çš„æ–¹å¼å®ç°çš„ï¼Œç¼–è¾‘äº†æœ¬åœ°çš„ Npm æ¨¡å—ä»£ç ï¼Œåœ¨é¡¹ç›®ä¸­ä¹Ÿèƒ½ä½¿ç”¨åˆ°ç¼–è¾‘åçš„ä»£ç ã€‚ å®Œæˆ Npm link çš„æ­¥éª¤å¦‚ä¸‹ï¼š ç¡®ä¿æ­£åœ¨å¼€å‘çš„æœ¬åœ° Npm æ¨¡å—ï¼ˆä¹Ÿå°±æ˜¯æ­£åœ¨å¼€å‘çš„ Loaderï¼‰çš„ package.json å·²ç»æ­£ç¡®é…ç½®å¥½ï¼› åœ¨æœ¬åœ° Npm æ¨¡å—æ ¹ç›®å½•ä¸‹æ‰§è¡Œ npm linkï¼ŒæŠŠæœ¬åœ°æ¨¡å—æ³¨å†Œåˆ°å…¨å±€ï¼› åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ npm link loader-nameï¼ŒæŠŠç¬¬2æ­¥æ³¨å†Œåˆ°å…¨å±€çš„æœ¬åœ° Npm æ¨¡å—é“¾æ¥åˆ°é¡¹ç›®çš„ node_moduels ä¸‹ï¼Œå…¶ä¸­çš„ loader-name æ˜¯æŒ‡åœ¨ç¬¬1æ­¥ä¸­çš„ package.json æ–‡ä»¶ä¸­é…ç½®çš„æ¨¡å—åç§°ã€‚ é“¾æ¥å¥½ Loader åˆ°é¡¹ç›®åä½ å°±å¯ä»¥åƒä½¿ç”¨ä¸€ä¸ªçœŸæ­£çš„ Npm æ¨¡å—ä¸€æ ·ä½¿ç”¨æœ¬åœ°çš„ Loader äº† å¤æ‚ç”¨æ³•é“¾å¼è°ƒç”¨å¤šä¸ªloaderæ—¶ï¼Œä»¥ç›¸åé¡ºåºè°ƒç”¨ï¼Œä»å³å¾€å·¦æˆ–ä»ä¸Šåˆ°ä¸‹ æœ€åçš„loaderæœ€æ—©è°ƒç”¨ï¼Œå°†ä¼šä¼ å…¥åŸå§‹èµ„æºå†…å®¹ ç¬¬ä¸€ä¸ªloaderæœ€åè°ƒç”¨ï¼ŒæœŸæœ›å€¼æ˜¯ä¼ å‡ºJSå’ŒSourceMap(å¯é€‰) ä¸­é—´çš„loaderæ‰§è¡Œæ—¶ï¼Œä¼šä¼ å…¥å‰ä¸€ä¸ªloaderä¼ å‡ºçš„ç»“æœ ç”¨æ³•å‡†åˆ™ ç®€å•ï¼šloaders åº”è¯¥åªåšå•ä¸€ä»»åŠ¡ã€‚è¿™ä¸ä»…ä½¿æ¯ä¸ª loader æ˜“ç»´æŠ¤ï¼Œä¹Ÿå¯ä»¥åœ¨æ›´å¤šåœºæ™¯é“¾å¼è°ƒç”¨ã€‚ é“¾å¼ï¼šloader å¯ä»¥è¢«é“¾å¼è°ƒç”¨æ„å‘³ç€ä¸ä¸€å®šè¦è¾“å‡º JavaScriptã€‚åªè¦ä¸‹ä¸€ä¸ª loader å¯ä»¥å¤„ç†è¿™ä¸ªè¾“å‡ºï¼Œè¿™ä¸ª loader å°±å¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„æ¨¡å—ã€‚ æ¨¡å—åŒ–ï¼šä¿è¯è¾“å‡ºæ¨¡å—åŒ–ã€‚loader ç”Ÿæˆçš„æ¨¡å—ä¸æ™®é€šæ¨¡å—éµå¾ªç›¸åŒçš„è®¾è®¡åŸåˆ™ã€‚ æ— çŠ¶æ€ï¼šç¡®ä¿ loader åœ¨ä¸åŒæ¨¡å—è½¬æ¢ä¹‹é—´ä¸ä¿å­˜çŠ¶æ€ã€‚æ¯æ¬¡è¿è¡Œéƒ½åº”è¯¥ç‹¬ç«‹äºå…¶ä»–ç¼–è¯‘æ¨¡å—ä»¥åŠç›¸åŒæ¨¡å—ä¹‹å‰çš„ç¼–è¯‘ç»“æœã€‚ loaderå·¥å…·åº“ï¼š loader-utils schema-utils loader.js 12345678910111213141516import &#123; getOptions &#125; from 'loader-utils';import validateOptions from 'schema-utils';const schema = &#123; type: 'object', properties: &#123; test: &#123; type: 'string' &#125; &#125;&#125;export default function(source) &#123; const options = getOptions(this); validateOptions(schema, options, 'Example Loader'); // å¯¹èµ„æºåº”ç”¨ä¸€äº›è½¬æ¢â€¦â€¦ return `export default $&#123; JSON.stringify(source) &#125;`;&#125;; * loader ä¾èµ–: å¿…é¡»ä½¿ç”¨ addDependency æ–¹æ³•æ˜¾å¼å£°æ˜ 12345678910import path from 'path';export default function(source) &#123; var callback = this.async(); var headerPath = path.resolve('header.js'); this.addDependency(headerPath); fs.readFile(headerPath, 'utf-8', function(err, header) &#123; if(err) return callback(err); callback(null, header + \"\\n\" + source); &#125;);&#125;; æ¨¡å—ä¾èµ– é€šè¿‡æŠŠå®ƒä»¬è½¬åŒ–æˆ require è¯­å¥ã€‚ ä½¿ç”¨ this.resolve å‡½æ•°è§£æè·¯å¾„ é€šç”¨ä»£ç  åœ¨ loader ä¸­åˆ›å»ºä¸€ä¸ªè¿è¡Œæ—¶æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆ require è¯­å¥ä»¥å¼•ç”¨è¯¥å…±äº«æ¨¡å— ç»å¯¹è·¯å¾„ loader-utils ä¸­çš„ stringifyRequest æ–¹æ³•ï¼Œå¯ä»¥å°†ç»å¯¹è·¯å¾„è½¬åŒ–ä¸ºç›¸å¯¹è·¯å¾„ã€‚ åŒç­‰ä¾èµ– package.jsonä¸­æŒ‡å®špeerDependencyçš„å€¼ å¤„ç†äºŒè¿›åˆ¶æ•°æ®åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒWebpack ä¼ ç»™ Loader çš„åŸå†…å®¹éƒ½æ˜¯ UTF-8 æ ¼å¼ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ä½†æœ‰äº›åœºæ™¯ä¸‹ Loader ä¸æ˜¯å¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œè€Œæ˜¯å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¾‹å¦‚ file-loaderï¼Œå°±éœ€è¦ Webpack ç»™ Loader ä¼ å…¥äºŒè¿›åˆ¶æ ¼å¼çš„æ•°æ®ã€‚ 12345678910module.exports = function(source) &#123; // åœ¨ exports.raw === true æ—¶ï¼ŒWebpack ä¼ ç»™ Loader çš„ source æ˜¯ Buffer ç±»å‹çš„ source instanceof Buffer === true; // Loader è¿”å›çš„ç±»å‹ä¹Ÿå¯ä»¥æ˜¯ Buffer ç±»å‹çš„ // åœ¨ exports.raw !== true æ—¶ï¼ŒLoader ä¹Ÿå¯ä»¥è¿”å› Buffer ç±»å‹çš„ç»“æœ return source;&#125;;// é€šè¿‡ exports.raw å±æ€§å‘Šè¯‰ Webpack è¯¥ Loader æ˜¯å¦éœ€è¦äºŒè¿›åˆ¶æ•°æ®// æœ€å…³é”®çš„ä»£ç æ˜¯æœ€åä¸€è¡Œ,æ²¡æœ‰è¯¥è¡Œ Loader åªèƒ½æ‹¿åˆ°å­—ç¬¦ä¸²ã€‚ module.exports.raw = true; ç¼“å­˜åŠ é€Ÿåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæœ‰äº›è½¬æ¢æ“ä½œéœ€è¦å¤§é‡è®¡ç®—éå¸¸è€—æ—¶ï¼Œå¦‚æœæ¯æ¬¡æ„å»ºéƒ½é‡æ–°æ‰§è¡Œé‡å¤çš„è½¬æ¢æ“ä½œï¼Œæ„å»ºå°†ä¼šå˜å¾—éå¸¸ç¼“æ…¢ã€‚ä¸ºæ­¤ï¼ŒWebpack ä¼šé»˜è®¤ç¼“å­˜æ‰€æœ‰ Loader çš„å¤„ç†ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨éœ€è¦è¢«å¤„ç†çš„æ–‡ä»¶æˆ–è€…å…¶ä¾èµ–çš„æ–‡ä»¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ˜¯ä¸ä¼šé‡æ–°è°ƒç”¨å¯¹åº”çš„ Loader å»æ‰§è¡Œè½¬æ¢æ“ä½œçš„ã€‚ å¦‚æœä½ æƒ³è®© Webpack ä¸ç¼“å­˜è¯¥ Loader çš„å¤„ç†ç»“æœï¼Œå¯ä»¥è¿™æ ·ï¼š 12345module.exports = function(source) &#123; // å…³é—­è¯¥ Loader çš„ç¼“å­˜åŠŸèƒ½ this.cacheable(false); return source;&#125;; this.callbackthis.callback æ˜¯ Webpack ç»™ Loader æ³¨å…¥çš„ APIï¼Œä»¥æ–¹ä¾¿ Loader å’Œ Webpack ä¹‹é—´é€šä¿¡ã€‚this.callback çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š1234567891011this.callback( // å½“æ— æ³•è½¬æ¢åŸå†…å®¹æ—¶ï¼Œç»™ Webpack è¿”å›ä¸€ä¸ª Error err: Error | null, // åŸå†…å®¹è½¬æ¢åçš„å†…å®¹ content: string | Buffer, // ç”¨äºæŠŠè½¬æ¢åçš„å†…å®¹å¾—å‡ºåŸå†…å®¹çš„ Source Mapï¼Œæ–¹ä¾¿è°ƒè¯• sourceMap?: SourceMap, // å¦‚æœæœ¬æ¬¡è½¬æ¢ä¸ºåŸå†…å®¹ç”Ÿæˆäº† AST è¯­æ³•æ ‘ï¼Œå¯ä»¥æŠŠè¿™ä¸ª AST è¿”å›ï¼Œ // ä»¥æ–¹ä¾¿ä¹‹åéœ€è¦ AST çš„ Loader å¤ç”¨è¯¥ ASTï¼Œä»¥é¿å…é‡å¤ç”Ÿæˆ ASTï¼Œæå‡æ€§èƒ½ abstractSyntaxTree?: AST); å…¶ä»–Loader API this.contextï¼šå½“å‰å¤„ç†æ–‡ä»¶çš„æ‰€åœ¨ç›®å½•ï¼Œå‡å¦‚å½“å‰ Loader å¤„ç†çš„æ–‡ä»¶æ˜¯ /src/main.jsï¼Œåˆ™ this.context å°±ç­‰äº /srcã€‚ this.resourceï¼šå½“å‰å¤„ç†æ–‡ä»¶çš„å®Œæ•´è¯·æ±‚è·¯å¾„ï¼ŒåŒ…æ‹¬ querystringï¼Œä¾‹å¦‚ /src/main.js?name=1ã€‚ this.resourcePathï¼šå½“å‰å¤„ç†æ–‡ä»¶çš„è·¯å¾„ï¼Œä¾‹å¦‚ /src/main.jsã€‚ this.resourceQueryï¼šå½“å‰å¤„ç†æ–‡ä»¶çš„ querystringã€‚ this.targetï¼šç­‰äº Webpack é…ç½®ä¸­çš„ Target this.loadModuleï¼šä½† Loader åœ¨å¤„ç†ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå¦‚æœä¾èµ–å…¶å®ƒæ–‡ä»¶çš„å¤„ç†ç»“æœæ‰èƒ½å¾—å‡ºå½“å‰æ–‡ä»¶çš„ç»“æœæ—¶ï¼Œ å°±å¯ä»¥é€šè¿‡ this.loadModule(request: string, callback: function(err, source, sourceMap, module)) å»è·å¾— request å¯¹åº”æ–‡ä»¶çš„å¤„ç†ç»“æœã€‚ this.resolveï¼šåƒ require è¯­å¥ä¸€æ ·è·å¾—æŒ‡å®šæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œä½¿ç”¨æ–¹æ³•ä¸º resolve(context: string, request: string, callback: function(err, result: string))ã€‚ this.addDependencyï¼šç»™å½“å‰å¤„ç†æ–‡ä»¶æ·»åŠ å…¶ä¾èµ–çš„æ–‡ä»¶ï¼Œä»¥ä¾¿å†å…¶ä¾èµ–çš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé‡æ–°è°ƒç”¨ Loader å¤„ç†è¯¥æ–‡ä»¶ã€‚ä½¿ç”¨æ–¹æ³•ä¸º addDependency(file: string)ã€‚ this.addContextDependencyï¼šå’Œ addDependency ç±»ä¼¼ï¼Œä½† addContextDependency æ˜¯æŠŠæ•´ä¸ªç›®å½•åŠ å…¥åˆ°å½“å‰æ­£åœ¨å¤„ç†æ–‡ä»¶çš„ä¾èµ–ä¸­ã€‚ä½¿ç”¨æ–¹æ³•ä¸º addContextDependency(directory: string)ã€‚ this.clearDependenciesï¼šæ¸…é™¤å½“å‰æ­£åœ¨å¤„ç†æ–‡ä»¶çš„æ‰€æœ‰ä¾èµ–ï¼Œä½¿ç”¨æ–¹æ³•ä¸º clearDependencies()ã€‚ this.emitFileï¼šè¾“å‡ºä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨æ–¹æ³•ä¸º emitFile(name: string, content: Buffer|string, sourceMap: {â€¦})ã€‚ èµ„æºnpm link","tags":[]},{"title":"æµè§ˆå™¨å…¼å®¹æ€§","date":"2018-12-22T07:14:00.000Z","path":"2018/12/22/æµè§ˆå™¨å…¼å®¹æ€§/","text":"tags: [ç»„ä»¶]categories: ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ IE9 ä¸æ”¯æŒflexå¸ƒå±€ cssè¡Œæ•°è¿‡å¤šä¼šä¸åŠ è½½ï¼Œéœ€è¦ç”¨CSSSplitWebpackPluginåˆ†å‰² 1234new CSSSplitWebpackPlugin(&#123; size: 4000, filename:utils.assetsPath('css/[name]-[part].[ext]'), &#125;), ä¸æ”¯æŒwebsocket vueæ¡†æ¶: åˆ·æ–°å¤šæ¬¡æ‰æ˜¾ç¤ºç•Œé¢ æ»šåŠ¨æ¡ | ä¸‹æ‹‰æ¡†ç®­å¤´ | å±•å¼€ç®­å¤´ | æ’åºç®­å¤´ æ¶ˆæ¯xå·ä¸å±…ä¸­ åˆ—è¡¨è·å¾—ç„¦ç‚¹æ ·å¼,æ²¡æœ‰è¾¹æ¡†çº¿ IE JSå…¼å®¹æ€§ äº‹ä»¶ç»‘å®šæ–¹æ³•ä¸ºattachEventè€Œä¸æ˜¯é€šç”¨çš„addEventListener äº‹ä»¶æ•è·æ–¹å¼ç”±å†…è€Œå¤–è€Œä¸æ˜¯ç”±å¤–è€Œå†…ï¼Œä¸€èˆ¬\b\bå°†IEçš„æ ‡å‡†å®šä¸ºæ ‡å‡† äº‹ä»¶è·å–ç›®æ ‡å…ƒç´ event.srcElementè€Œä¸æ˜¯event.target ajaxæ˜¯activeXObject innerHtmlIEä¸­ä¸èƒ½æ“ä½œtrçš„innerHtml è·å–DOMèŠ‚ç‚¹ IE: parentElement | parentElement.children other: parentNode | parentNode.childNodes åœ¨HTMLä¸­ç¦æ­¢IEç¼“å­˜IEæµè§ˆå™¨æä¾›çš„ajaxå¯¹è±¡åœ¨å‘é€getè¯·æ±‚æ—¶ï¼Œä¼šæŸ¥çœ‹è¯·æ±‚åœ°å€æ˜¯å¦è®¿é—®è¿‡ï¼Œå¦‚æœè®¿é—®è¿‡ï¼Œåˆ™æ˜¾ç¤ºç¬¬ä¸€æ¬¡è®¿é—®çš„ç»“æœï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šå°†ç¬¬ä¸€æ¬¡è®¿é—®çš„ç»“æœç¼“å­˜ä¸‹æ¥ï¼‰ åœ¨Headé‡Œæ·»åŠ ç¦æ­¢ä½¿ç”¨ç¼“å­˜çš„ä»£ç  123&lt;meta http-equiv=\"Pragma\" content=\"no-cache\"&gt;&lt;meta http-equiv=\"Cache-control\" content=\"no-cache\"&gt;&lt;meta http-equiv=\"Cache\" content=\"no-cache\"&gt; å°†æ‰€æœ‰çš„ajaxè°ƒç”¨éƒ½æ”¹ä¸ºpostæ–¹æ³• åœ¨è¯·æ±‚åœ°å€åé¢æ·»åŠ éšæœºæ•°æˆ–è€…æ—¶é—´æˆ³, æ¯”å¦‚xhr.open(â€˜getâ€™,â€™luck.do?â€™+Math.random(),true,true)); å…¼å®¹æ€§æµ‹è¯•å·¥å…· browserling åœ¨HTMLä¸­ç¦æ­¢IEç¼“å­˜ overflow å…¼å®¹æ€§é—®é¢˜chrome: å®¹å™¨å¯æ»šåŠ¨ï¼Œpadding-bottom ä¹Ÿç®—åœ¨æ»šåŠ¨å°ºå¯¸ä¹‹å†…IEå’Œ Firefox ä¼šå¿½ç•¥ padding-bottomåŒæ—¶ä¼šå¯¼è‡´ scrollHeight å€¼ä¸ä¸€æ ·è§£å†³æ–¹æ¡ˆï¼šå¦‚æœéœ€è¦ç•™æœ‰é—´éš™ï¼Œåˆ™ä½¿ç”¨é€æ˜è¾¹æ¡† WebPå›¾ç‰‡å…¼å®¹æ€§å¤„ç†https://github.com/RicardoCao-Biker/RICO-BLOG/issues/9","tags":[]},{"title":"è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ","date":"2018-12-22T07:07:34.000Z","path":"2018/12/22/è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ/","text":"tags: [ç»„ä»¶]categories: ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ ä»€ä¹ˆæ˜¯è·¨åŸŸç”±äºæµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œå¯¼è‡´åªè¦åè®®ã€åŸŸåã€ç«¯å£æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸï¼Œä»è€Œå¯¼è‡´äº†è·¨åŸŸè®¿é—®çš„éœ€æ±‚ æœåŠ¡å™¨ç«¯ä¸å­˜åœ¨è·¨åŸŸ ä¸èƒ½é€šè¿‡ajaxçš„æ–¹æ³•å»è¯·æ±‚ä¸åŒæºä¸­çš„æ–‡æ¡£ ä¸åŒåŸŸçš„æ¡†æ¶ä¹‹é—´æ˜¯ä¸èƒ½è¿›è¡ŒJSäº¤äº’æ“ä½œçš„ï¼Œä¸åŒçš„æ¡†æ¶ä¹‹é—´æ˜¯å¯ä»¥è·å–windowå¯¹è±¡çš„ï¼Œä½†æ˜¯æ— æ³•è·å–å“åº”çš„å±æ€§å’Œæ–¹æ³• å¦‚æœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜â€œå‰å°â€æ˜¯æ— èƒ½ä¸ºåŠ›çš„ åœ¨è·¨åŸŸé—®é¢˜ä¸Šï¼ŒåŸŸä»…ä»…æ˜¯é€šè¿‡â€œURLé¦–éƒ¨â€æ¥è¯†åˆ«ï¼Œè€Œä¸ä¼šå»å°è¯•åˆ¤æ–­ç›¸åŒçš„IPåœ°å€å¯¹åº”ç€ä¸¤ä¸ªåŸŸæˆ–ä¸¤ä¸ªåŸŸæ˜¯å¦åœ¨åŒä¸€ä¸ªIPä¸Š URLé¦–éƒ¨ï¼šwindow.location.protocol + window.location.host é’ˆå¯¹æ¥å£çš„è¯·æ±‚ é’ˆå¯¹Domçš„æŸ¥è¯¢ è·¨åŸŸçš„æ–¹æ³•åŒå‘é€šä¿¡ï¼šå³ä¸¤ä¸ªiframe,é¡µé¢ä¸iframeæˆ–æ˜¯é¡µé¢ä¸é¡µé¢ä¹‹é—´å•å‘è·¨åŸŸï¼šä¸€èˆ¬ç”¨æ¥è·å–æ•°æ® iframe + document.domainå°†ä¸¤ä¸ªé¡µé¢çš„ document.domain éƒ½è®¾æˆç›¸åŒçš„åŸŸå(åªèƒ½è®¾ç½®æˆè‡ªèº«æˆ–æ›´é«˜ä¸€çº§çš„çˆ¶åŸŸï¼Œä¸”ä¸»åŸŸå¿…é¡»ç›¸åŒ) ifame + location.hashçˆ¶çª—å£å¯ä»¥å¯¹iframeè¿›è¡ŒURLè¯»å†™ï¼Œiframeä¹Ÿå¯ä»¥è¯»å†™çˆ¶çª—å£çš„URLhashä¸€èˆ¬ç”¨äºæµè§ˆå™¨é”šç‚¹å®šä½ï¼ŒServerç«¯å¹¶ä¸å…³å¿ƒè¿™éƒ¨åˆ†ï¼Œåº”è¯¥è¯´HTTPè¯·æ±‚è¿‡ç¨‹ä¸­ä¸ä¼šæºå¸¦hashï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„ä¿®æ”¹ä¸ä¼šäº§ç”ŸHTTPè¯·æ±‚ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿæµè§ˆå™¨å†å²è®°å½•ã€‚ H5çš„postMessageIE8+ å‘é€ä¿¡æ¯çš„postMessageäº‹ä»¶: otherWindow.postMessage(message, targetOrigin) otherWindow: ç›®æ ‡çª—å£ï¼Œä¹Ÿå°±æ˜¯ç»™å“ªä¸ªwindowå‘æ¶ˆæ¯ï¼Œæ˜¯window.frameså±æ€§çš„æˆå‘˜æˆ–è€…window.openåˆ›å»ºçš„çª—å£ messageï¼šè¦å‘é€çš„æ¶ˆæ¯ï¼ŒString | Object targetOrigin: é™å®šæ¶ˆæ¯æ¥æ”¶èŒƒå›´ï¼Œä¸é™åˆ¶è¯·ä½¿ç”¨â€œ*â€ ç›‘å¬æ¥æ”¶ä¿¡æ¯çš„messageäº‹ä»¶ æ—¢å¯ä»¥å¤„ç†Getè¯·æ±‚ä¹Ÿå¯ä»¥å¤„ç†POSTè¯·æ±‚ JSONPé€šè¿‡scriptæ ‡ç­¾å¼•å…¥çš„JSæ˜¯ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶çš„ï¼Œå¯ä»¥é€šè¿‡scriptæ ‡ç­¾å¼•å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å¿…é¡»è¿”å›ä¸€ä¸ªJSå‡½æ•°çš„è°ƒç”¨(è¦å’Œåç«¯çº¦å®šå¥½)åªèƒ½å®ç°GETè¯·æ±‚jqueryçš„getJSON()ä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è·¨åŸŸï¼Œä¸è·¨åŸŸå°±è°ƒç”¨æ™®é€šçš„ajax()ï¼›è·¨åŸŸåˆ™ä¼šä»¥å¼‚æ­¥åŠ è½½JSæ–‡ä»¶çš„å½¢å¼æ¥è°ƒç”¨JSONPçš„å›è°ƒå‡½æ•° JSONPä¼˜ç‚¹ï¼š ä¸åƒXHRå¯¹è±¡å®ç°Ajaxè¯·æ±‚é‚£æ ·å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ å…¼å®¹æ€§æ›´å¥½ï¼Œä¸éœ€è¦XHRæˆ–è€…ActiveXçš„æ”¯æŒ åœ¨è¯·æ±‚å®Œæ¯•åå¯ä»¥é€šè¿‡è°ƒç”¨callbackçš„æ–¹å¼å›ä¼ ç»“æœ JSONPç¼ºç‚¹ï¼š åªæ”¯æŒGETè€Œä¸æ”¯æŒPOSTç­‰å…¶å®ƒç±»å‹çš„HTTPè¯·æ±‚ åªæ”¯æŒè·¨åŸŸHTTPè¯·æ±‚çš„æƒ…å†µï¼Œä¸èƒ½è§£å†³ä¸åŒåŸŸçš„ä¸¤ä¸ªé¡µé¢ä¹‹é—´å¦‚ä½•è¿›è¡ŒJSè°ƒç”¨çš„é—®é¢˜ CORSIE10+ CORSï¼š ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚ å®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ï¼Œåªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚ æœåŠ¡å™¨ç«¯å¯¹äºCORSçš„æ”¯æŒï¼Œä¸»è¦é€šè¿‡è®¾ç½®Access-Control-Allow-Originæ¥è¿›è¡Œã€‚ æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºAJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´éƒ¨ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚ CORSä¸JSONPç›¸æ¯”ï¼Œæ— ç–‘æ›´ä¸ºå…ˆè¿›ã€æ–¹ä¾¿å’Œå¯é ï¼š JSONPåªèƒ½å®ç°GETè¯·æ±‚ï¼Œè€ŒCORSæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ ä½¿ç”¨CORSï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨æ™®é€šçš„XHRå‘èµ·è¯·æ±‚å’Œè·å¾—æ•°æ®ï¼Œæ¯”èµ·JSONPæœ‰æ›´å¥½çš„é”™è¯¯å¤„ç† JSONPä¸»è¦è¢«è€çš„æµè§ˆå™¨æ”¯æŒï¼Œå®ƒä»¬å¾€å¾€ä¸æ”¯æŒCORSï¼Œè€Œç»å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒäº†CORS window.nameå…¶ä»– ä¸­é—´ä»¶è·¨åŸŸ æœåŠ¡å™¨ä»£ç†è·¨åŸŸ Flash URLLoaderè·¨åŸŸ åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ websocketåè®®æ”¯æŒè·¨åŸŸ é‡åˆ°çš„è·¨åŸŸé—®é¢˜å•ç‚¹ç™»é™†åµŒå…¥å­ç³»ç»Ÿé¡µé¢é€šè¿‡ iframe + document.domain çš„æ–¹å¼è§£å†³ icon-font æ”¾åˆ°GitHubä¸Šå¯¼è‡´è·¨åŸŸé—®é¢˜é€šè¿‡å°†icon-font çš„ url æ”¹æˆ base64 çš„å½¢å¼ç›´æ¥åµŒå…¥åˆ°é¡µé¢ä¸­ è¿™æ ·ä¼šäº§ç”Ÿè·¨åŸŸé—®é¢˜12345678910@font-face &#123; font-family: 'idoll-icon-online'; src: url('@&#123;icon-url&#125;/idoll-icon-online.eot?67rfls'); src: url('@&#123;icon-url&#125;/idoll-icon-online.eot?67rfls#iefix') format('embedded-opentype'), url('@&#123;icon-url&#125;/idoll-icon-online.ttf?67rfls') format('truetype'), url('@&#123;icon-url&#125;/idoll-icon-online.woff?67rfls') format('woff'), url('@&#123;icon-url&#125;/idoll-icon-online.svg?67rfls#idoll-icon-online') format('svg'); font-weight: normal; font-style: normal;&#125; æ·»åŠ äº†base64çš„æ–¹å¼ä¾¿ä¸ä¼šè·¨åŸŸäº†1234567@font-face &#123;font-family: \"idoll-icon-pro2\"; src: url('@&#123;icon-url&#125;/idoll-icon-pro2.eot?t=1544695441349'); /* IE9*/ src: url('@&#123;icon-url&#125;/idoll-icon-pro2.eot?t=1544695441349#iefix') format('embedded-opentype'), /* IE6-IE8 */ url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAnUAAsAAAAAD6AAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFY870h2Y21hcAAAAYAAAACNAAACCoOE66ZnbHlmAAACEAAABWMAAAg0ycE3gmhlYWQAAAd0AAAALwAAADYTj+MfaGhlYQAAB6QAAAAcAAAAJAfeA45obXR4AAAHwAAAAA8AAAA0NAAAAGxvY2EAAAfQAAAAHAAAABwMfA5MbWF4cAAAB+wAAAAfAAAAIAEcAGluYW1lAAAIDAAAAUUAAAJtPlT+fXBvc3QAAAlUAAAAfwAAAMqOQWaEeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkYWCcwMDKwMHUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGByeVT5rYW7438AQw9zA0AAUZgTJAQDw3gzgeJztkckRAjEQA9usWa4NhQAIiBcZLPcVCNFNGovGepAErmpVjTz2QwLmQCe2okI5UMizl1ua37FufmXXdmr68Z4m6ZiquTZdMdN21Z89C71asmHQRc//DE0/vylG09I8GiVInIyyJM4mG4qLyazjarK9uBllTtyN0iceJtuLp1EjxMuoG7VoGL6PiyuHAAAAeJytVc1vE0cUn/fW9mY3eJ3dtb3xZ+y1vSZANyRer5VAyfIRUCitgFYt4EpNK0BUJCr0lnDAwKGoJ6QoUiVoi1Rx4Q9AvRQMUg699FiJ9FCK1AMVlVBvVPW4b+wQQY9t5d15nvcx83ufy0KMddtSWwrYIMuyCtvNGGgg58HaBQ0XTA1sF71dOJHHeATsSDw54XsOsceQFGRStfyk3LNo7BIPsrudcLhzt7ce8q9+cfXs5OTZPuH3dcuyLasWTZqImFFC6T1pKIdk2QTIm2lHDRlS8MKY1s6O+oaxIPCbMLct/hHOIODx28cgqmgaepu3z2/bYmPIswZGmfSST3G2/VWP5IlkPGI7nk8+yBGnSkzfkYlMC60RSPqNZOQVJ+72QR8crKTNPIApy+ESpHdnQkqGnDCTUVV/BfStdYxbLS+E9pZt89s3e6hp6iY4dvs4oZ7BSA8jY1KLSIHV2SRhtCM5KNY9R9ASQdEJcZHQ6S5US8SXJ/zXoZYo1msJkYTXoUgU9KKONzWjy4ys0cqUAcoZXKctQ9OMVqfVIhEwg7tI1xlaoaAZtJJCp71uEBAlbpvYrVZfTCtn0OItAbOH9XN8wpIszUoCqwyR+AjkoTbRIERF8L0qOFIVLLCdMWhYGmAzqvKdqvplbn8lGoX7/A4cVFX+h7rjMQz9wj9Ou8ZnJx6bLj4Raml1JZdFCOANNaWCrHa+X4PYQ/6VaVxsrhlmD0P3uXQTVylek+wEY5RKCg74lE4ZNMyjyKDYxWjnkPSFLJLHjb+O5XgNsvNctCMxEHUwTdtecZPYXi1XQqMOyEraVPjzXAEz9QOHZ3NcTZlKx5k7M+c7WAZTFeKnQ+DU9Bcb5+QPqgqOYZpl13ONZWGxnJl5a8bP5TJ8TU3vqcyd+aAKEcVMqfzP/Ozh/X4GCzmumGmFO6OhysXqSYdOM9Mq/12vOTAEcaW3KWNRTStQNdyaWzZNY1mwlzPZbGPmzZksX1NEekK9HLXxZq/mHTbxj6p3wRMxiFTGqZxIMJ4Y78vGw8QgSjtKGvNnAWb9/popl/1yGW5NP11ZeTrdX3mwtDo1tbrUW5Ft6Pqz90Bo++Xg0g3EG5fg8nXE65d/hsVTpxcBFk+fWhQQwz2cAbYpozJLsBTLEdJioijTC0W9tFH2pXBNL5n0wkVAzu8hlTIy3gqoYkGUeMAfBUEroLOCQsDnRLH26xlaQZcB64qroD8L4Bu6i0HdpTaTx+MalsQoq43TRSSM5+NA8+VQLJGIURfThTHTjB2iqZPIJ8J/fbcR3wKuMIWZLMNG6LSqY8fAavieXKUIU+37XliOJKexKpzBn/ZR2qzzlrL3RDga5r+eh0yYH8+iMnBBOlfAoNPGA/tUNfmppab2N0OwrrLpxwuyAlk493WBrsR+Xqn897L3+zlN0BtPWhSnRK1eEuPZb9BvBzj1fh7jcm3CEgrk51YgJWJ7DmGskv8SYRZTfBp0MUbquiUm+hg4iAvXpHfmsTSSCipBoTDlDg9b1bo6+NogLhw5soCDo9FNtYo1POxOFQrB22eF5nRZurYQVZuiJG2aMxXRDU1VYsTG6NJ7Y4dHUsUIBmQTTFnOAOTto/OI80ftPA5ULGK6wwFqS+/2FMPSwjX+rdIU7VfiD8Uggi2O6JCm0o9Ft/v/xiKS0CmLYpaJiNCXjaKje/8+Fp9oht0PQaoflIrxn2JhaHzNVuPiMHFmXK3AqGb0Z3L3kfShVKKZnGI2RUNMYNkpFV/+dOyEilUyi3oxQZyaNKfwZ1E9FOYvD/4uu3Kl3WmD6Ks2PIuqMDQoCWknWG+ndnjgzhXO8MEDYjD2N29KiC4AeJxjYGRgYADiKYu+r4vnt/nKwM3CAAI3LPwnIuj/B1gYmB2AXA4GJpAoAEB+CnwAeJxjYGRgYG7438AQw8IAAkCSkQEV8AIARxMCdnicY2FgYGAhEQMABeQANQAAAAAAAGoAvAESAVQB5AI4AnAClALQA1YD3AQaeJxjYGRgYOBliGVgZQABJiDmAkIGhv9gPgMAEzEBhgB4nGWPTU7DMBCFX/oHpBKqqGCH5AViASj9EatuWFRq911036ZOmyqJI8et1ANwHo7ACTgC3IA78EgnmzaWx9+8eWNPANzgBx6O3y33kT1cMjtyDRe4F65TfxBukF+Em2jjVbhF/U3YxzOmwm10YXmD17hi9oR3YQ8dfAjXcI1P4Tr1L+EG+Vu4iTv8CrfQ8erCPuZeV7iNRy/2x1YvnF6p5UHFockikzm/gple75KFrdLqnGtbxCZTg6BfSVOdaVvdU+zXQ+ciFVmTqgmrOkmMyq3Z6tAFG+fyUa8XiR6EJuVYY/62xgKOcQWFJQ6MMUIYZIjK6Og7VWb0r7FDwl57Vj3N53RbFNT/c4UBAvTPXFO6stJ5Ok+BPV8bUnV0K27LnpQ0kV7NSRKyQl7WtlRC6gE2ZVeOEXpc0Yk/KGdI/wAJWm7IAAAAeJxtjM0KwjAQhHfqT9vYKj5IDj5SSLYSWJIQKuLbyyY3cS473ww7NFCXof9aMeCAI044Y8SEGQYXLFhxpXup2ca0Zetj9cI2336SRdk74RRcnRsIuzp1F8uohj9s9AYW3vuLZBdiej5aXzi1/lU0bn3I76TQhrYoTPQFVnUylgA=') format('woff'), url('@&#123;icon-url&#125;/idoll-icon-pro2.ttf?t=1544695441349') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/ url('@&#123;icon-url&#125;/idoll-icon-pro2.svg?t=1544695441349#iconfont') format('svg'); /* iOS 4.1- */&#125; èµ„æºå‰ç«¯è·¨åŸŸçŸ¥è¯†æ€»ç»“æœ€ç›´ç™½çš„è·¨åŸŸè®¿é—®åŸç†æµè§ˆå™¨çš„åŒæºç­–ç•¥ä¸è¦å†é—®æˆ‘è·¨åŸŸçš„é—®é¢˜äº†","tags":[]},{"title":"ES6|ES7|ES8","date":"2018-12-22T07:03:14.000Z","path":"2018/12/22/ES6|ES7|ES8/","text":"tags: [ç»„ä»¶]categories: åº•å±‚åŸç†åŠåŸºç¡€ ES6å¸¸ç”¨æ–°ç‰¹æ€§let &amp;&amp; constlet å‘½ä»¤ä¹Ÿç”¨äºå˜é‡å£°æ˜ï¼Œä½†æ˜¯ä½œç”¨åŸŸä¸ºå±€éƒ¨constç”¨äºå£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œè®¾å®šåå€¼ä¸ä¼šå†æ”¹å˜ ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°æ˜¯ ES6 ä¸­æ–°çš„å‡½æ•°å®šä¹‰å½¢å¼ï¼Œfunction name(arg1, arg2) {â€¦}å¯ä»¥ä½¿ç”¨(arg1, arg2) =&gt; {â€¦}æ¥å®šä¹‰ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š12345678910111213// JS æ™®é€šå‡½æ•°var arr = [1, 2, 3]arr.map(function (item) &#123; console.log(index) return item + 1&#125;)// ES6 ç®­å¤´å‡½æ•°const arr = [1, 2, 3]arr.map((item, index) =&gt; &#123; console.log(index) return item + 1&#125;) ç®­å¤´å‡½æ•°å­˜åœ¨çš„æ„ä¹‰ï¼Œç¬¬ä¸€å†™èµ·æ¥æ›´åŠ ç®€æ´ï¼Œç¬¬äºŒå¯ä»¥è§£å†³ ES6 ä¹‹å‰å‡½æ•°æ‰§è¡Œä¸­thisæ˜¯å…¨å±€å˜é‡çš„é—®é¢˜ï¼ˆæ²¡æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼‰ï¼Œçœ‹å¦‚ä¸‹ä»£ç 123456789101112131415function fn() &#123; console.log('real', this) // &#123;a: 100&#125; ï¼Œè¯¥ä½œç”¨åŸŸä¸‹çš„ this çš„çœŸå®çš„å€¼ var arr = [1, 2, 3] // æ™®é€š JS arr.map(function (item) &#123; console.log('js', this) // window ã€‚æ™®é€šå‡½æ•°ï¼Œè¿™é‡Œæ‰“å°å‡ºæ¥çš„æ˜¯å…¨å±€å˜é‡ï¼Œä»¤äººè´¹è§£ return item + 1 &#125;) // ç®­å¤´å‡½æ•° arr.map(item =&gt; &#123; console.log('es6', this) // &#123;a: 100&#125; ã€‚ç®­å¤´å‡½æ•°ï¼Œè¿™é‡Œæ‰“å°çš„å°±æ˜¯çˆ¶ä½œç”¨åŸŸçš„ this return item + 1 &#125;)&#125;fn.call(&#123;a: 100&#125;) è§£æ„èµ‹å€¼ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰12345let [a, b, c] = [1, 2, 3];//ç­‰åŒäºlet a = 1;let b = 2;let c = 3; å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼šè·å–å¯¹è±¡çš„å¤šä¸ªå±æ€§å¹¶ä¸”ä½¿ç”¨ä¸€æ¡è¯­å¥å°†å®ƒä»¬èµ‹ç»™å¤šä¸ªå˜é‡ var { StyleSheet, Text, View } = React; ç­‰åŒäº var StyleSheet = React.StyleSheet; var Text = React.Text; var View = React.Text; 123456789101112## æ¨¡å—åŒ– importå¯¼å…¥æ¨¡å—ã€exportå¯¼å‡ºæ¨¡å—å¦‚æœåªæ˜¯è¾“å‡ºä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼Œä½¿ç”¨export defaultå³å¯ï¼Œä»£ç å¦‚ä¸‹ ```js// åˆ›å»º util1.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚export default &#123; a: 100&#125;// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚import obj from &apos;./util1.js&apos;console.log(obj) å¦‚æœæƒ³è¦è¾“å‡ºè®¸å¤šä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½ç”¨defaultäº†ï¼Œä¸”importæ—¶å€™è¦åŠ {...}ï¼Œä»£ç å¦‚ä¸‹ 123456789101112// åˆ›å»º util2.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚export function fn1() &#123; alert('fn1')&#125;export function fn2() &#123; alert('fn2')&#125;// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚import &#123; fn1, fn2 &#125; from './util2.js'fn1()fn2() ç±»class class å…¶å®ä¸€ç›´æ˜¯ JS çš„å…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ­£å¼ä½¿ç”¨ï¼Œç›´åˆ° ES6 ã€‚ ES6 çš„ class å°±æ˜¯å–ä»£ä¹‹å‰æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡çš„å½¢å¼ï¼Œä»è¯­æ³•ä¸Šæ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„å†™æ³•ã€‚ä¾‹å¦‚ï¼š JS æ„é€ å‡½æ•°çš„å†™æ³• 1234567891011121314151617181920212223242526 function MathHandle(x, y) &#123; this.x = x; this.y = y; &#125; MathHandle.prototype.add = function () &#123; return this.x + this.y; &#125;; var m = new MathHandle(1, 2); console.log(m.add())ç”¨ ES6 class çš„å†™æ³•```jsclass MathHandle &#123;constructor(x, y) &#123; this.x = x; this.y = y;&#125;add() &#123; return this.x + this.y;&#125;&#125;const m = new MathHandle(1, 2);console.log(m.add()) æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼Œå…¨éƒ½æ˜¯å…³äº class è¯­æ³•çš„ï¼š1231ã€class æ˜¯ä¸€ç§æ–°çš„è¯­æ³•å½¢å¼ï¼Œæ˜¯class Name &#123;...&#125;è¿™ç§å½¢å¼ï¼Œå’Œå‡½æ•°çš„å†™æ³•å®Œå…¨ä¸ä¸€æ ·2ã€ä¸¤è€…å¯¹æ¯”ï¼Œæ„é€ å‡½æ•°å‡½æ•°ä½“çš„å†…å®¹è¦æ”¾åœ¨ class ä¸­çš„constructorå‡½æ•°ä¸­ï¼Œconstructorå³æ„é€ å™¨ï¼Œåˆå§‹åŒ–å®ä¾‹æ—¶é»˜è®¤æ‰§è¡Œ3ã€class ä¸­å‡½æ•°çš„å†™æ³•æ˜¯add() &#123;...&#125;è¿™ç§å½¢å¼ï¼Œå¹¶æ²¡æœ‰functionå…³é”®å­— ä½¿ç”¨ class æ¥å®ç°ç»§æ‰¿å°±æ›´åŠ ç®€å•äº†ï¼Œè‡³å°‘æ¯”æ„é€ å‡½æ•°å®ç°ç»§æ‰¿ç®€å•å¾ˆå¤šã€‚çœ‹ä¸‹é¢ä¾‹å­JS æ„é€ å‡½æ•°å®ç°ç»§æ‰¿123456789101112131415// åŠ¨ç‰©function Animal() &#123; this.eat = function () &#123; console.log('animal eat') &#125;&#125;// ç‹—function Dog() &#123; this.bark = function () &#123; console.log('dog bark') &#125;&#125;Dog.prototype = new Animal()// å“ˆå£«å¥‡var hashiqi = new Dog() ES6 class å®ç°ç»§æ‰¿123456789101112131415161718192021class Animal &#123; constructor(name) &#123; this.name = name &#125; eat() &#123; console.log(`$&#123;this.name&#125; eat`) &#125;&#125;class Dog extends Animal &#123; constructor(name) &#123; super(name) this.name = name &#125; say() &#123; console.log(`$&#123;this.name&#125; say`) &#125;&#125;const dog = new Dog('å“ˆå£«å¥‡')dog.say()dog.eat() æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š121ã€ä½¿ç”¨extendså³å¯å®ç°ç»§æ‰¿ï¼Œæ›´åŠ ç¬¦åˆç»å…¸é¢å‘å¯¹è±¡è¯­è¨€çš„å†™æ³•ï¼Œå¦‚ Java2ã€å­ç±»çš„constructorä¸€å®šè¦æ‰§è¡Œsuper()ï¼Œä»¥è°ƒç”¨çˆ¶ç±»çš„constructor Set å’Œ Map é¢˜ç›®ï¼šES6 ä¸­æ–°å¢çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ Set å’Œ Map éƒ½æ˜¯ ES6 ä¸­æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œæ˜¯å¯¹å½“å‰ JS æ•°ç»„å’Œå¯¹è±¡è¿™ä¸¤ç§é‡è¦æ•°æ®ç»“æ„çš„æ‰©å±•ã€‚ç”±äºæ˜¯æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œç›®å‰å°šæœªè¢«å¤§è§„æ¨¡ä½¿ç”¨ï¼Œä½†æ˜¯ä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œæå‰äº†è§£æ˜¯å¿…é¡»åšåˆ°çš„ã€‚å…ˆæ€»ç»“ä¸€ä¸‹ä¸¤è€…æœ€å…³é”®çš„åœ°æ–¹ï¼š1ã€Set ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ•°ç»„å¯ä»¥å…è®¸å…ƒç´ é‡å¤ï¼ŒSet ä¸å…è®¸å…ƒç´ é‡å¤2ã€Map ç±»ä¼¼äºå¯¹è±¡ï¼Œä½†æ™®é€šå¯¹è±¡çš„ key å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œè€Œ Map çš„ key å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ SetSet å®ä¾‹ä¸å…è®¸å…ƒç´ æœ‰é‡å¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ç¤ºä¾‹è¯æ˜ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°ç»„åˆå§‹åŒ–ä¸€ä¸ª Set å®ä¾‹ï¼Œæˆ–è€…é€šè¿‡addæ·»åŠ å…ƒç´ ï¼Œå…ƒç´ ä¸èƒ½é‡å¤ï¼Œé‡å¤çš„ä¼šè¢«å¿½ç•¥ã€‚ 1234567891011// ä¾‹1const set = new Set([1, 2, 3, 4, 4]);console.log(set) // Set(4) &#123;1, 2, 3, 4&#125;// ä¾‹2const set = new Set();[2, 3, 5, 4, 5, 8, 8].forEach(item =&gt; set.add(item));for (let item of set) &#123;console.log(item);&#125;// 2 3 5 4 8 Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æœ‰123451ã€sizeï¼šè·å–å…ƒç´ æ•°é‡ã€‚2ã€add(value)ï¼šæ·»åŠ å…ƒç´ ï¼Œè¿”å› Set å®ä¾‹æœ¬èº«ã€‚3ã€delete(value)ï¼šåˆ é™¤å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚4ã€has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦æ˜¯ Set å®ä¾‹çš„å…ƒç´ ã€‚5ã€clear()ï¼šæ¸…é™¤æ‰€æœ‰å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ 1234567891011121314const s = new Set();s.add(1).add(2).add(2); // æ·»åŠ å…ƒç´ s.size // 2s.has(1) // trues.has(2) // trues.has(3) // falses.delete(2);s.has(2) // falses.clear();console.log(s); // Set(0) &#123;&#125; Set å®ä¾‹çš„éå†ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•12341ã€keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚2ã€values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ä¸è¿‡ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keys()å’Œvalues()è¿”å›ç»“æœä¸€è‡´ã€‚3ã€entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ã€‚4ã€forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ 123456789101112131415161718192021222324252627let set = new Set(['aaa', 'bbb', 'ccc']);for (let item of set.keys()) &#123;console.log(item);&#125;// aaa// bbb// cccfor (let item of set.values()) &#123;console.log(item);&#125;// aaa// bbb// cccfor (let item of set.entries()) &#123;console.log(item);&#125;// [\"aaa\", \"aaa\"]// [\"bbb\", \"bbb\"]// [\"ccc\", \"ccc\"]set.forEach((value, key) =&gt; console.log(key + ' : ' + value))// aaa : aaa// bbb : bbb// ccc : ccc MapMap çš„ç”¨æ³•å’Œæ™®é€šå¯¹è±¡åŸºæœ¬ä¸€è‡´ï¼Œå…ˆçœ‹ä¸€ä¸‹å®ƒèƒ½ç”¨éå­—ç¬¦ä¸²æˆ–è€…æ•°å­—ä½œä¸º key çš„ç‰¹æ€§ã€‚ const map = new Map(); const obj = {p: â€˜Hello Worldâ€™}; map.set(obj, â€˜OKâ€™) map.get(obj) // â€œOKâ€ map.has(obj) // true map.delete(obj) // true map.has(obj) // false 1234567891011121314151617181920212223242526éœ€è¦ä½¿ç”¨new Map()åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ï¼Œä¸‹é¢ä»£ç ä¸­set get has deleteé¡¾åå³å¯æ€ä¹‰ï¼ˆä¸‹æ–‡ä¹Ÿä¼šæ¼”ç¤ºï¼‰ã€‚å…¶ä¸­ï¼Œmap.set(obj, &apos;OK&apos;)å°±æ˜¯ç”¨å¯¹è±¡ä½œä¸ºçš„ key ï¼ˆä¸å…‰å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä»»ä½•æ•°æ®ç±»å‹éƒ½å¯ä»¥ï¼‰ï¼Œå¹¶ä¸”åé¢é€šè¿‡map.get(obj)æ­£ç¡®è·å–äº†Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹ï¼š 1ã€sizeï¼šè·å–æˆå‘˜çš„æ•°é‡ 2ã€setï¼šè®¾ç½®æˆå‘˜ key å’Œ value 3ã€getï¼šè·å–æˆå‘˜å±æ€§å€¼ 4ã€hasï¼šåˆ¤æ–­æˆå‘˜æ˜¯å¦å­˜åœ¨ 5ã€deleteï¼šåˆ é™¤æˆå‘˜ 6ã€clearï¼šæ¸…ç©ºæ‰€æœ‰ ```js const map = new Map();map.set(&apos;aaa&apos;, 100);map.set(&apos;bbb&apos;, 200);map.size // 2map.get(&apos;aaa&apos;) // 100map.has(&apos;aaa&apos;) // truemap.delete(&apos;aaa&apos;)map.has(&apos;aaa&apos;) // falsemap.clear() Map å®ä¾‹çš„éå†æ–¹æ³•æœ‰ï¼š 1ã€keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚ 2ã€values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ 3ã€entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚ 4ã€forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ 12345678910111213141516171819202122232425262728const map = new Map();map.set('aaa', 100);map.set('bbb', 200);for (let key of map.keys()) &#123;console.log(key);&#125;// \"aaa\"// \"bbb\"for (let value of map.values()) &#123;console.log(value);&#125;// 100// 200for (let item of map.entries()) &#123;console.log(item[0], item[1]);&#125;// aaa 100// bbb 200// æˆ–è€…for (let [key, value] of map.entries()) &#123;console.log(key, value);&#125;// aaa 100// bbb 200 Promise Promiseæ˜¯ CommonJS æå‡ºæ¥çš„è¿™ä¸€ç§è§„èŒƒï¼Œæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œåœ¨ ES6 å½“ä¸­å·²ç»çº³å…¥è§„èŒƒï¼ŒåŸç”Ÿæ”¯æŒ Promise å¯¹è±¡ï¼Œé ES6 ç¯å¢ƒå¯ä»¥ç”¨ç±»ä¼¼ Bluebirdã€Q è¿™ç±»åº“æ¥æ”¯æŒã€‚ Promise å¯ä»¥å°†å›è°ƒå˜æˆé“¾å¼è°ƒç”¨å†™æ³•ï¼Œæµç¨‹æ›´åŠ æ¸…æ™°ï¼Œä»£ç æ›´åŠ ä¼˜é›…ã€‚ ç®€å•å½’çº³ä¸‹ Promiseï¼šä¸‰ä¸ªçŠ¶æ€ã€ä¸¤ä¸ªè¿‡ç¨‹ã€ä¸€ä¸ªæ–¹æ³•ï¼Œå¿«é€Ÿè®°å¿†æ–¹æ³•ï¼š3-2-1 ä¸‰ä¸ªçŠ¶æ€ï¼špendingã€fulfilledã€rejected ä¸¤ä¸ªè¿‡ç¨‹ï¼š 1ã€pendingâ†’fulfilledï¼ˆresolveï¼‰ 2ã€pendingâ†’rejectedï¼ˆrejectï¼‰ å½“ç„¶è¿˜æœ‰å…¶ä»–æ¦‚å¿µï¼Œå¦‚catchã€ Promise.all/raceï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº† 123456789101112131415161718192021222324252627282930313233343536 new Promise((resolve,reject)=&gt;&#123; $.ajax(&#123; url : \"xxxxx\", type : \"post\" success(res)&#123; resolve(res) &#125;, error(err)&#123; rejectï¼ˆerrï¼‰ &#125; &#125;); &#125;).then(()=&gt;&#123; &#125;,()=&gt;&#123; &#125;) ES6å¸¸ç”¨æ–°ç‰¹æ€§## &lt;a name=\"778mgs\"&gt;&lt;/a&gt;let &amp;&amp; const let å‘½ä»¤ä¹Ÿç”¨äºå˜é‡å£°æ˜ï¼Œä½†æ˜¯ä½œç”¨åŸŸä¸ºå±€éƒ¨constç”¨äºå£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œè®¾å®šåå€¼ä¸ä¼šå†æ”¹å˜## &lt;a name=\"96mmga\"&gt;&lt;/a&gt;ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°æ˜¯ ES6 ä¸­æ–°çš„å‡½æ•°å®šä¹‰å½¢å¼ï¼Œfunction name(arg1, arg2) &#123;...&#125;å¯ä»¥ä½¿ç”¨(arg1, arg2) =&gt; &#123;...&#125;æ¥å®šä¹‰ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š```js// JS æ™®é€šå‡½æ•°var arr = [1, 2, 3]arr.map(function (item) &#123; console.log(index) return item + 1&#125;)// ES6 ç®­å¤´å‡½æ•°const arr = [1, 2, 3]arr.map((item, index) =&gt; &#123; console.log(index) return item + 1&#125;) ç®­å¤´å‡½æ•°å­˜åœ¨çš„æ„ä¹‰ï¼Œç¬¬ä¸€å†™èµ·æ¥æ›´åŠ ç®€æ´ï¼Œç¬¬äºŒå¯ä»¥è§£å†³ ES6 ä¹‹å‰å‡½æ•°æ‰§è¡Œä¸­thisæ˜¯å…¨å±€å˜é‡çš„é—®é¢˜ï¼ˆæ²¡æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼‰ï¼Œçœ‹å¦‚ä¸‹ä»£ç 123456789101112131415function fn() &#123; console.log('real', this) // &#123;a: 100&#125; ï¼Œè¯¥ä½œç”¨åŸŸä¸‹çš„ this çš„çœŸå®çš„å€¼ var arr = [1, 2, 3] // æ™®é€š JS arr.map(function (item) &#123; console.log('js', this) // window ã€‚æ™®é€šå‡½æ•°ï¼Œè¿™é‡Œæ‰“å°å‡ºæ¥çš„æ˜¯å…¨å±€å˜é‡ï¼Œä»¤äººè´¹è§£ return item + 1 &#125;) // ç®­å¤´å‡½æ•° arr.map(item =&gt; &#123; console.log('es6', this) // &#123;a: 100&#125; ã€‚ç®­å¤´å‡½æ•°ï¼Œè¿™é‡Œæ‰“å°çš„å°±æ˜¯çˆ¶ä½œç”¨åŸŸçš„ this return item + 1 &#125;)&#125;fn.call(&#123;a: 100&#125;) è§£æ„èµ‹å€¼ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰12345let [a, b, c] = [1, 2, 3];//ç­‰åŒäºlet a = 1;let b = 2;let c = 3; å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼šè·å–å¯¹è±¡çš„å¤šä¸ªå±æ€§å¹¶ä¸”ä½¿ç”¨ä¸€æ¡è¯­å¥å°†å®ƒä»¬èµ‹ç»™å¤šä¸ªå˜é‡ var { StyleSheet, Text, View } = React; ç­‰åŒäº var StyleSheet = React.StyleSheet; var Text = React.Text; var View = React.Text; 123456789101112## æ¨¡å—åŒ– importå¯¼å…¥æ¨¡å—ã€exportå¯¼å‡ºæ¨¡å—å¦‚æœåªæ˜¯è¾“å‡ºä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼Œä½¿ç”¨export defaultå³å¯ï¼Œä»£ç å¦‚ä¸‹ ```js// åˆ›å»º util1.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚export default &#123; a: 100&#125;// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚import obj from &apos;./util1.js&apos;console.log(obj) å¦‚æœæƒ³è¦è¾“å‡ºè®¸å¤šä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½ç”¨defaultäº†ï¼Œä¸”importæ—¶å€™è¦åŠ {...}ï¼Œä»£ç å¦‚ä¸‹ 123456789101112// åˆ›å»º util2.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚export function fn1() &#123; alert('fn1')&#125;export function fn2() &#123; alert('fn2')&#125;// åˆ›å»º index.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚import &#123; fn1, fn2 &#125; from './util2.js'fn1()fn2() ç±»class class å…¶å®ä¸€ç›´æ˜¯ JS çš„å…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ­£å¼ä½¿ç”¨ï¼Œç›´åˆ° ES6 ã€‚ ES6 çš„ class å°±æ˜¯å–ä»£ä¹‹å‰æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡çš„å½¢å¼ï¼Œä»è¯­æ³•ä¸Šæ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„å†™æ³•ã€‚ä¾‹å¦‚ï¼š JS æ„é€ å‡½æ•°çš„å†™æ³• 1234567891011121314151617181920212223242526 function MathHandle(x, y) &#123; this.x = x; this.y = y; &#125; MathHandle.prototype.add = function () &#123; return this.x + this.y; &#125;; var m = new MathHandle(1, 2); console.log(m.add())ç”¨ ES6 class çš„å†™æ³•```jsclass MathHandle &#123;constructor(x, y) &#123; this.x = x; this.y = y;&#125;add() &#123; return this.x + this.y;&#125;&#125;const m = new MathHandle(1, 2);console.log(m.add()) æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼Œå…¨éƒ½æ˜¯å…³äº class è¯­æ³•çš„ï¼š1231ã€class æ˜¯ä¸€ç§æ–°çš„è¯­æ³•å½¢å¼ï¼Œæ˜¯class Name &#123;...&#125;è¿™ç§å½¢å¼ï¼Œå’Œå‡½æ•°çš„å†™æ³•å®Œå…¨ä¸ä¸€æ ·2ã€ä¸¤è€…å¯¹æ¯”ï¼Œæ„é€ å‡½æ•°å‡½æ•°ä½“çš„å†…å®¹è¦æ”¾åœ¨ class ä¸­çš„constructorå‡½æ•°ä¸­ï¼Œconstructorå³æ„é€ å™¨ï¼Œåˆå§‹åŒ–å®ä¾‹æ—¶é»˜è®¤æ‰§è¡Œ3ã€class ä¸­å‡½æ•°çš„å†™æ³•æ˜¯add() &#123;...&#125;è¿™ç§å½¢å¼ï¼Œå¹¶æ²¡æœ‰functionå…³é”®å­— ä½¿ç”¨ class æ¥å®ç°ç»§æ‰¿å°±æ›´åŠ ç®€å•äº†ï¼Œè‡³å°‘æ¯”æ„é€ å‡½æ•°å®ç°ç»§æ‰¿ç®€å•å¾ˆå¤šã€‚çœ‹ä¸‹é¢ä¾‹å­JS æ„é€ å‡½æ•°å®ç°ç»§æ‰¿123456789101112131415// åŠ¨ç‰©function Animal() &#123; this.eat = function () &#123; console.log('animal eat') &#125;&#125;// ç‹—function Dog() &#123; this.bark = function () &#123; console.log('dog bark') &#125;&#125;Dog.prototype = new Animal()// å“ˆå£«å¥‡var hashiqi = new Dog() ES6 class å®ç°ç»§æ‰¿123456789101112131415161718192021class Animal &#123; constructor(name) &#123; this.name = name &#125; eat() &#123; console.log(`$&#123;this.name&#125; eat`) &#125;&#125;class Dog extends Animal &#123; constructor(name) &#123; super(name) this.name = name &#125; say() &#123; console.log(`$&#123;this.name&#125; say`) &#125;&#125;const dog = new Dog('å“ˆå£«å¥‡')dog.say()dog.eat() æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š121ã€ä½¿ç”¨extendså³å¯å®ç°ç»§æ‰¿ï¼Œæ›´åŠ ç¬¦åˆç»å…¸é¢å‘å¯¹è±¡è¯­è¨€çš„å†™æ³•ï¼Œå¦‚ Java2ã€å­ç±»çš„constructorä¸€å®šè¦æ‰§è¡Œsuper()ï¼Œä»¥è°ƒç”¨çˆ¶ç±»çš„constructor Set å’Œ Map é¢˜ç›®ï¼šES6 ä¸­æ–°å¢çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ Set å’Œ Map éƒ½æ˜¯ ES6 ä¸­æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œæ˜¯å¯¹å½“å‰ JS æ•°ç»„å’Œå¯¹è±¡è¿™ä¸¤ç§é‡è¦æ•°æ®ç»“æ„çš„æ‰©å±•ã€‚ç”±äºæ˜¯æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œç›®å‰å°šæœªè¢«å¤§è§„æ¨¡ä½¿ç”¨ï¼Œä½†æ˜¯ä½œä¸ºå‰ç«¯ç¨‹åºå‘˜ï¼Œæå‰äº†è§£æ˜¯å¿…é¡»åšåˆ°çš„ã€‚å…ˆæ€»ç»“ä¸€ä¸‹ä¸¤è€…æœ€å…³é”®çš„åœ°æ–¹ï¼š1ã€Set ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ•°ç»„å¯ä»¥å…è®¸å…ƒç´ é‡å¤ï¼ŒSet ä¸å…è®¸å…ƒç´ é‡å¤2ã€Map ç±»ä¼¼äºå¯¹è±¡ï¼Œä½†æ™®é€šå¯¹è±¡çš„ key å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œè€Œ Map çš„ key å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ SetSet å®ä¾‹ä¸å…è®¸å…ƒç´ æœ‰é‡å¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ç¤ºä¾‹è¯æ˜ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°ç»„åˆå§‹åŒ–ä¸€ä¸ª Set å®ä¾‹ï¼Œæˆ–è€…é€šè¿‡addæ·»åŠ å…ƒç´ ï¼Œå…ƒç´ ä¸èƒ½é‡å¤ï¼Œé‡å¤çš„ä¼šè¢«å¿½ç•¥ã€‚ 1234567891011// ä¾‹1const set = new Set([1, 2, 3, 4, 4]);console.log(set) // Set(4) &#123;1, 2, 3, 4&#125;// ä¾‹2const set = new Set();[2, 3, 5, 4, 5, 8, 8].forEach(item =&gt; set.add(item));for (let item of set) &#123;console.log(item);&#125;// 2 3 5 4 8 Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æœ‰123451ã€sizeï¼šè·å–å…ƒç´ æ•°é‡ã€‚2ã€add(value)ï¼šæ·»åŠ å…ƒç´ ï¼Œè¿”å› Set å®ä¾‹æœ¬èº«ã€‚3ã€delete(value)ï¼šåˆ é™¤å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚4ã€has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦æ˜¯ Set å®ä¾‹çš„å…ƒç´ ã€‚5ã€clear()ï¼šæ¸…é™¤æ‰€æœ‰å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ 1234567891011121314const s = new Set();s.add(1).add(2).add(2); // æ·»åŠ å…ƒç´ s.size // 2s.has(1) // trues.has(2) // trues.has(3) // falses.delete(2);s.has(2) // falses.clear();console.log(s); // Set(0) &#123;&#125; Set å®ä¾‹çš„éå†ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•12341ã€keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚2ã€values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ä¸è¿‡ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keys()å’Œvalues()è¿”å›ç»“æœä¸€è‡´ã€‚3ã€entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ã€‚4ã€forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ 123456789101112131415161718192021222324252627let set = new Set(['aaa', 'bbb', 'ccc']);for (let item of set.keys()) &#123;console.log(item);&#125;// aaa// bbb// cccfor (let item of set.values()) &#123;console.log(item);&#125;// aaa// bbb// cccfor (let item of set.entries()) &#123;console.log(item);&#125;// [\"aaa\", \"aaa\"]// [\"bbb\", \"bbb\"]// [\"ccc\", \"ccc\"]set.forEach((value, key) =&gt; console.log(key + ' : ' + value))// aaa : aaa// bbb : bbb// ccc : ccc MapMap çš„ç”¨æ³•å’Œæ™®é€šå¯¹è±¡åŸºæœ¬ä¸€è‡´ï¼Œå…ˆçœ‹ä¸€ä¸‹å®ƒèƒ½ç”¨éå­—ç¬¦ä¸²æˆ–è€…æ•°å­—ä½œä¸º key çš„ç‰¹æ€§ã€‚ const map = new Map(); const obj = {p: â€˜Hello Worldâ€™}; map.set(obj, â€˜OKâ€™) map.get(obj) // â€œOKâ€ map.has(obj) // true map.delete(obj) // true map.has(obj) // false 1234567891011121314151617181920212223242526éœ€è¦ä½¿ç”¨new Map()åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ï¼Œä¸‹é¢ä»£ç ä¸­set get has deleteé¡¾åå³å¯æ€ä¹‰ï¼ˆä¸‹æ–‡ä¹Ÿä¼šæ¼”ç¤ºï¼‰ã€‚å…¶ä¸­ï¼Œmap.set(obj, &apos;OK&apos;)å°±æ˜¯ç”¨å¯¹è±¡ä½œä¸ºçš„ key ï¼ˆä¸å…‰å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä»»ä½•æ•°æ®ç±»å‹éƒ½å¯ä»¥ï¼‰ï¼Œå¹¶ä¸”åé¢é€šè¿‡map.get(obj)æ­£ç¡®è·å–äº†Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹ï¼š 1ã€sizeï¼šè·å–æˆå‘˜çš„æ•°é‡ 2ã€setï¼šè®¾ç½®æˆå‘˜ key å’Œ value 3ã€getï¼šè·å–æˆå‘˜å±æ€§å€¼ 4ã€hasï¼šåˆ¤æ–­æˆå‘˜æ˜¯å¦å­˜åœ¨ 5ã€deleteï¼šåˆ é™¤æˆå‘˜ 6ã€clearï¼šæ¸…ç©ºæ‰€æœ‰ ```js const map = new Map();map.set(&apos;aaa&apos;, 100);map.set(&apos;bbb&apos;, 200);map.size // 2map.get(&apos;aaa&apos;) // 100map.has(&apos;aaa&apos;) // truemap.delete(&apos;aaa&apos;)map.has(&apos;aaa&apos;) // falsemap.clear() Map å®ä¾‹çš„éå†æ–¹æ³•æœ‰ï¼š 1ã€keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚ 2ã€values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ 3ã€entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚ 4ã€forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ 12345678910111213141516171819202122232425262728const map = new Map();map.set('aaa', 100);map.set('bbb', 200);for (let key of map.keys()) &#123;console.log(key);&#125;// \"aaa\"// \"bbb\"for (let value of map.values()) &#123;console.log(value);&#125;// 100// 200for (let item of map.entries()) &#123;console.log(item[0], item[1]);&#125;// aaa 100// bbb 200// æˆ–è€…for (let [key, value] of map.entries()) &#123;console.log(key, value);&#125;// aaa 100// bbb 200 Promise Promiseæ˜¯ CommonJS æå‡ºæ¥çš„è¿™ä¸€ç§è§„èŒƒï¼Œæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œåœ¨ ES6 å½“ä¸­å·²ç»çº³å…¥è§„èŒƒï¼ŒåŸç”Ÿæ”¯æŒ Promise å¯¹è±¡ï¼Œé ES6 ç¯å¢ƒå¯ä»¥ç”¨ç±»ä¼¼ Bluebirdã€Q è¿™ç±»åº“æ¥æ”¯æŒã€‚ Promise å¯ä»¥å°†å›è°ƒå˜æˆé“¾å¼è°ƒç”¨å†™æ³•ï¼Œæµç¨‹æ›´åŠ æ¸…æ™°ï¼Œä»£ç æ›´åŠ ä¼˜é›…ã€‚ ç®€å•å½’çº³ä¸‹ Promiseï¼šä¸‰ä¸ªçŠ¶æ€ã€ä¸¤ä¸ªè¿‡ç¨‹ã€ä¸€ä¸ªæ–¹æ³•ï¼Œå¿«é€Ÿè®°å¿†æ–¹æ³•ï¼š3-2-1 ä¸‰ä¸ªçŠ¶æ€ï¼špendingã€fulfilledã€rejected ä¸¤ä¸ªè¿‡ç¨‹ï¼š 1ã€pendingâ†’fulfilledï¼ˆresolveï¼‰ 2ã€pendingâ†’rejectedï¼ˆrejectï¼‰ å½“ç„¶è¿˜æœ‰å…¶ä»–æ¦‚å¿µï¼Œå¦‚catchã€ Promise.all/raceï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº† 1234567891011121314151617181920212223242526272829303132 new Promise((resolve,reject)=&gt;&#123; $.ajax(&#123; url : \"xxxxx\", type : \"post\" success(res)&#123; resolve(res) &#125;, error(err)&#123; rejectï¼ˆerrï¼‰ &#125; &#125;); &#125;).then(()=&gt;&#123; &#125;,()=&gt;&#123; &#125;)# &lt;a name=\"hh0lph\"&gt;&lt;/a&gt;ES7æ–°ç‰¹æ€§`1.Array.prototype.includes``2.Exponentiation Operator(æ±‚å¹‚è¿ç®—)`## &lt;a name=\"g0nhws\"&gt;&lt;/a&gt;Array.prototype.includesArray.prototype.includesç”¨æ³•éƒ½å®¹æ˜“å’Œç®€å•ã€‚å®ƒæ˜¯ä¸€ä¸ªæ›¿ä»£indexOfï¼Œå¼€å‘äººå‘˜ç”¨æ¥æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨å€¼ï¼ŒindexOfæ˜¯ä¸€ç§å°´å°¬çš„ä½¿ç”¨ï¼Œå› ä¸ºå®ƒè¿”å›ä¸€ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®æˆ–è€…-1å½“è¿™æ ·çš„å…ƒç´ ä¸èƒ½è¢«æ‰¾åˆ°çš„æƒ…å†µä¸‹ã€‚æ‰€ä»¥å®ƒè¿”å›ä¸€ä¸ªæ•°å­—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¼€å‘äººå‘˜éœ€è¦å®æ–½é¢å¤–çš„æ£€æŸ¥ã€‚åœ¨ES6ï¼Œè¦æ£€æŸ¥æ˜¯å¦å­˜åœ¨å€¼ä½ éœ€è¦åšä¸€äº›å¦‚ä¸‹å›¾æ‰€ç¤ºå°æŠ€å·§ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰åŒ¹é…åˆ°å€¼ï¼ŒArray.prototype.indexOfè¿”å›-1å˜æˆäº†trueï¼ˆè½¬æ¢æˆtrueï¼‰ï¼Œä½†æ˜¯å½“åŒ¹é…çš„å…ƒç´ ä¸º0ä½ç½®æ—¶å€™ï¼Œè¯¥æ•°ç»„åŒ…å«å…ƒç´ ï¼Œå´å˜æˆäº†falseã€‚```jslet arr = [â€˜reactâ€˜, â€˜angularâ€˜, â€˜vueâ€˜]// WRONGif (arr.indexOf(â€˜reactâ€˜)) &#123; // 0 -&gt; evaluates to false, definitely as we expectedconsole.log(â€˜Can use Reactâ€˜) // this line would never be executed&#125;// Correctif (arr.indexOf(â€˜reactâ€˜) !== -1) &#123;console.log(â€˜Can use Reactâ€˜)&#125; æˆ–è€…ä½¿ç”¨ä¸€ç‚¹ç‚¹hack ä½è¿ç®—ç¬¦ ~ ä½¿ä»£ç æ›´åŠ ç´§å‡‘ä¸€äº›ï¼Œå› ä¸º~ï¼ˆä½å¼‚æˆ–ï¼‰å¯¹ä»»ä½•æ•°å­—ç›¸å½“äº-(a + 1): 123456let arr = [â€˜reactâ€˜, â€˜angularâ€˜, â€˜vueâ€˜]// Correctif (~arr.indexOf(â€˜reactâ€˜)) &#123;console.log(â€˜Can use Reactâ€˜)&#125; åœ¨ES7ä¸­ä½¿ç”¨includesä»£ç å¦‚ä¸‹: let arr = [â€˜reactâ€˜, â€˜angularâ€˜, â€˜vueâ€˜] // Correct if (arr.includes(â€˜reactâ€˜)) { console.log(â€˜Can use Reactâ€˜) } 123456789101112131415161718192021 è¿˜èƒ½åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨includes: ```js let str = â€˜React Quicklyâ€˜ // Correct if (str.toLowerCase().includes(â€˜reactâ€˜)) &#123; // true console.log(â€˜Found &quot;react&quot;â€˜) &#125;é™¤äº†å¢å¼ºäº†å¯è¯»æ€§è¯­ä¹‰åŒ–ï¼Œå®é™…ä¸Šç»™å¼€å‘è€…è¿”å›å¸ƒå°”å€¼ï¼Œè€Œä¸æ˜¯åŒ¹é…çš„ä½ç½®ã€‚includesä¹Ÿå¯ä»¥åœ¨NaN(éæ•°å­—)ä½¿ç”¨ã€‚æœ€å ï¼Œincludesç¬¬äºŒå¯é€‰å‚æ•°fromIndexï¼Œè¿™å¯¹äºä¼˜åŒ–æ˜¯æœ‰å¥½å¤„çš„ï¼Œå› ä¸ºå®ƒå…è®¸ä»ç‰¹å®šä½ç½®å¼€å§‹å¯»æ‰¾åŒ¹é…ã€‚æ›´å¤šä¾‹å­ï¼š console.log([1, 2, 3].includes(2)) // === true) console.log([1, 2, 3].includes(4)) // === false) console.log([1, 2, NaN].includes(NaN)) // === true) console.log([1, 2, -0].includes(+0)) // === true) console.log([1, 2, +0].includes(-0)) // === true) console.log([â€˜aâ€˜, â€˜bâ€˜, â€˜câ€˜].includes(â€˜aâ€˜)) // === true) console.log([â€˜aâ€˜, â€˜bâ€˜, â€˜câ€˜].includes(â€˜aâ€˜, 1)) // === false) æ€»è€Œè¨€ä¹‹ï¼Œincludesåœ¨ä¸€ä¸ªæ•°ç»„æˆ–è€…åˆ—è¡¨ä¸­æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå€¼ï¼Œç»™ä»»ä½•å¼€å‘äººå‘˜å¸¦æ¥ç®€å•æ€§ã€‚ Exponentiation Operator(æ±‚å¹‚è¿ç®—) æ±‚å¹‚è¿ç®—å¤§å¤šæ•°æ˜¯åšä¸€äº›æ•°å­¦è®¡ç®—ï¼Œå¯¹äº3Dï¼ŒVRï¼ŒSVGè¿˜æœ‰æ•°æ®å¯è§†åŒ–éå¸¸æœ‰ç”¨ã€‚åœ¨ES6æˆ–è€…æ—©äº›ç‰ˆæœ¬ï¼Œä¸å¾—ä¸åˆ›å»ºä¸€ä¸ªå¾ªç¯ï¼Œåˆ›å»ºä¸€ä¸ªé€’å½’å‡½æ•°æˆ–è€…ä½¿ç”¨Math.pow,å¦‚æœå¿˜è®°äº†ä»€ä¹ˆæ˜¯æŒ‡æ•°,å½“ä½ æœ‰ç›¸åŒæ•°å­—ï¼ˆåŸºæ•°ï¼‰è‡ªç›¸ç›¸ä¹˜å¤šæ¬¡ï¼ˆæŒ‡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ7çš„3æ¬¡æ–¹æ˜¯777 æ‰€ä»¥åœ¨ES6/2015ESï¼Œä½ èƒ½ä½¿ç”¨Math.powåˆ›å»ºä¸€ä¸ªçŸ­çš„é€’å½’ç®­å¤´å‡½æ•°ï¼š 1234567891011 calculateExponent = (base, exponent) =&gt; base*((--exponent&gt;1)?calculateExponent(base, exponent):base) console.log(calculateExponent(7,12) === Math.pow(7,12)) // true console.log(calculateExponent(2,7) === Math.pow(2,7)) // trueç°åœ¨åœ¨ES7 /ES2016ï¼Œä»¥æ•°å­¦å‘å¯¼çš„å¼€å‘è€…å¯ä»¥ä½¿ç”¨æ›´çŸ­çš„è¯­æ³•:```jslet a = 7 ** 12let b = 2 ** 7console.log(a === Math.pow(7,12)) // trueconsole.log(b === Math.pow(2,7)) // true å¼€å‘è€…è¿˜å¯ä»¥æ“ä½œç»“æœ:123456let a = 7a **= 12let b = 2b **= 7console.log(a === Math.pow(7,12)) // trueconsole.log(b === Math.pow(2,7)) // true ES8æ–°ç‰¹æ€§123451ã€Object.values/Object.entries2ã€String padding(å­—ç¬¦ä¸²å¡«å……)3ã€Object.getOwnPropertyDescriptors4ã€å‡½æ•°å‚æ•°åˆ—è¡¨å’Œè°ƒç”¨ä¸­çš„å°¾é€—å·ï¼ˆTrailing commasï¼‰5ã€å¼‚æ­¥å‡½æ•°ï¼ˆAsync Functionsï¼‰ Object.values/Object.entriesObject.valueså’Œ Object.entriesæ˜¯åœ¨ES2017è§„æ ¼ä¸­ï¼Œå®ƒå’ŒObject.keysç±»ä¼¼ï¼Œè¿”å›æ•°ç»„ç±»å‹ï¼Œå…¶åºå·å’ŒObject.keysåºå·å¯¹åº”ã€‚ç±»ä¼¼pythonä¸­çš„dict.iteritems()ã€‚ Object.values,Object.entrieså’ŒObject.keyså„è‡ªé¡¹è¿”å›æ˜¯æ•°ç»„ï¼Œç›¸å¯¹åº”åŒ…æ‹¬key,valueæˆ–è€…å¯æšä¸¾ç‰¹å®šå¯¹è±¡property/attribute1234let obj = &#123;a: 1, b: 2, c: 3&#125;Object.keys(obj).forEach((key, index)=&gt;&#123;console.log(key, obj[key])&#125;) è€Œä½¿ç”¨ES6/ES2015 ä¸­for/ofç¨å¾®å¥½ç‚¹ï¼š1234let obj = &#123;a: 1, b: 2, c: 3&#125;for (let key of Object.keys(obj)) &#123;console.log(key, obj[key])&#125; Object.valuesè¿”å›å¯¹è±¡è‡ªèº«å¯ä»¥è¿­ä»£å±æ€§å€¼ï¼ˆvaluesï¼‰ä¸ºæ•°ç»„ç±»å‹ã€‚æˆ‘ä»¬æœ€å¥½ä½¿ç”¨Array.prototype.forEachè¿­ä»£å®ƒï¼Œç»“åˆES6çš„ç®­å¤´å‡½æ•°éšå½¢è¿”å›å€¼ï¼š12let obj = &#123;a: 1, b: 2, c: 3&#125;Object.values(obj).forEach(value=&gt;console.log(value)) // 1, 2, 3 String padding(å­—ç¬¦ä¸²å¡«å……)String.prototype.padStart å’Œ String.prototype.padEndåœ¨javascriptå­—ç¬¦æ“ä½œæ˜¯ä¸€ä¸ªä¸é”™çš„ä½“éªŒï¼Œå¸®åŠ©é¿å…ä¾èµ–è€Œå¤–çš„åº“padStart()åœ¨å¼€å§‹éƒ¨ä½å¡«å……ï¼Œè¿”å›ä¸€ä¸ªç»™å‡ºé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¡«å……ç‰©ç»™å®šå­—ç¬¦ä¸²ï¼ŒæŠŠå­—ç¬¦ä¸²å¡«å……åˆ°æœŸæœ›çš„é•¿åº¦ã€‚ä»å­—ç¬¦ä¸²çš„å·¦è¾¹å¼€å§‹ï¼ˆè‡³å°‘å¤§éƒ¨åˆ†è¥¿æ–¹è¯­è¨€ï¼‰ï¼Œä¸€ä¸ªç»å…¸ä¾‹å­æ˜¯ä½¿ç”¨ç©ºæ ¼åˆ›å»ºåˆ—ï¼š 12console.log(â€˜reactâ€˜.padStart(10).length) // \" react\" is 10console.log(â€˜backboneâ€˜.padStart(10).length) // \" backbone\" is 10 Object.getOwnPropertyDescriptorsObject.getOwnPropertyDescriptorså…è®¸åˆ›å»ºçœŸå®çš„å¯¹è±¡æµ…å‰¯æœ¬å¹¶åˆ›å»ºå­ç±»,å®ƒé€šè¿‡ç»™å¼€å‘è€…æè¿°ç¬¦æ¥åšåˆ°è¿™ä¸€ç‚¹.åœ¨Object.create(prototype, object)æ”¾å…¥æè¿°ç¬¦åï¼Œè¿”å›ä¸€ä¸ªçœŸæ­£çš„æµ…æ‹·è´1234Object.create(Object.getPrototypeOf(obj),Object.getOwnPropertyDescriptors(obj)) æˆ–è€…ä½ å¯ä»¥åˆå¹¶ä¸¤ä¸ªå¯¹è±¡targetå’Œsourceå¦‚ä¸‹ï¼š 1234Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)) ä¸¤ç§æè¿°ç¬¦å·ç±»å‹ï¼š121.æ•°æ®æè¿°ç¬¦ï¼ˆData descriptorï¼‰2.å­˜å–å™¨æè¿°ç¬¦ï¼ˆAccessor descriptorï¼‰ å­˜å–æè¿°ç¬¦æœ‰å¿…é¡»å±æ€§ï¼šget æˆ–è€…setæˆ–è€…getå’Œsetä¸¤ä¸ªå°±æ˜¯å¦‚ä½ æ‰€æƒ³çš„getterå’Œsetterå‡½æ•°ï¼Œç„¶åå­˜å–æè¿°ç¬¦è¿˜æœ‰å¯é€‰å±æ€§configurableå’Œenumerable12345678let azatsBooks = &#123; books: ['React Quickly'],get latest () &#123; let numberOfBooks = this.books.length if (numberOfBooks == 0) return undefined return this.books[numberOfBooks - 1]&#125;&#125; å‡½æ•°å‚æ•°åˆ—è¡¨å’Œè°ƒç”¨ä¸­çš„å°¾é€—å·å°¾é€—å·åœ¨å‡½æ•°å®šä¹‰ä¸­åªæ˜¯ä¸€ä¸ªçº¯ç²¹è¯­æ³•å˜åŒ–ï¼Œåœ¨ES5ä¸­ï¼Œå°†ä¼šéæ³•è¯­æ³•ï¼Œåœ¨å‡½æ•°å‚æ•°åé¢åº”è¯¥æ˜¯æ²¡æœ‰é€—å·çš„ï¼š12345678var f = function(a,b,c,d) &#123; // NO COMMA!// ...console.log(d)&#125;f(1,2,3,'this') åœ¨ES8ä¸­ï¼Œè¿™ç§å°¾é€—å·æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š123456789var f = function(a,b,c,d,) &#123; // COMMA? OK!// ...console.log(d)&#125;f(1,2,3,'this') å¼‚æ­¥å‡½æ•°å¼‚æ­¥å‡½æ•°ï¼ˆæˆ–è€…async/awaitï¼‰ç‰¹æ€§æ“ä½œæ˜¯Promiseæœ€é‡è¦çš„åŠŸèƒ½ï¼Œå¼€å‘è€…å®šä¹‰ä¸€ä¸ªasycå‡½æ•°é‡Œé¢ä¸åŒ…å«æˆ–è€…åŒ…å«await åŸºäºPromiseå¼‚æ­¥æ“ä½œåœ¨ES6ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Promiseï¼ŒAxiosåº“å‘GraphQLæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼š123456axios.get(`/q?query=$&#123;query&#125;`).then(response =&gt; response.data).then(data =&gt; &#123; this.props.processfetchedData(data) // Defined somewhere else&#125;).catch(error =&gt; console.log(error)) ä»»ä½•ä¸€ä¸ªPromiseåº“éƒ½èƒ½å…¼å®¹æ–°çš„å¼‚æ­¥å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæ­¥try/catchåšé”™è¯¯å¤„ç† 123456789async fetchData(url) =&gt; &#123;try &#123; const response = await axios.get(`/q?query=$&#123;query&#125;`) const data = response.data this.props.processfetchedData(data)&#125; catch (error) &#123; console.log(error)&#125;&#125; å¼‚æ­¥å‡½æ•°è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€ä»¥æˆ‘ä»¬åƒä¸‹é¢å¯ä»¥ç»§ç»­æ‰§è¡Œæµç¨‹:123456789101112async fetchData(query) =&gt; &#123;try &#123; const response = await axios.get(`/q?query=$&#123;query&#125;`) const data = response.data return data&#125; catch (error) &#123; console.log(error)&#125;&#125;fetchData(query).then(data =&gt; &#123;this.props.processfetchedData(data)&#125;) ä½ å¯ä»¥çœ‹åˆ°è¿™æ®µä»£ç åœ¨(Babel REPL)ç”Ÿæ•ˆã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ªä¾‹å­ä¸­ï¼ŒAxiosåº“è¢«ä»£æ›¿çš„ï¼Œæ˜¯é€šè¿‡æ¨¡æ‹Ÿæ¥åšç›¸åŒåŠŸèƒ½ï¼Œè€ŒHTTPè¯·æ±‚é€šè¿‡setTimoutä»£æ›¿ï¼š123456789101112131415161718192021let axios = &#123; // mocksget: function(x) &#123;return new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#123;data: x&#125;) &#125;, 2000)&#125;)&#125;&#125;let query = 'mangos'async function fetchData(query) &#123;try &#123; const response = await axios.get(`/q?query=$&#123;query&#125;`) const data = response.data return data&#125; catch (error) &#123; console.log(error)&#125;&#125;fetchData(query).then(data =&gt; &#123;console.log(data) // Got data 2s later... Can use data!&#125;) async/await,æˆ‘ä»¬çš„ä»£ç æ‰§è¡Œå¼‚æ­¥çœ‹èµ·æ¥åƒæ‰§è¡ŒåŒæ­¥ä¸€æ ·","tags":[]},{"title":"JS å¯¼å‡ºEXCELæ–‡ä»¶","date":"2018-12-22T07:02:14.000Z","path":"2018/12/22/JS å¯¼å‡ºEXCELæ–‡ä»¶/","text":"tags: [ç»„ä»¶]categories: ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ éœ€æ±‚ï¼šdatatableè¡¨æ ¼ï¼Œæ¯ä¸€è¡Œå¸¦æœ‰checkboxï¼Œå‹¾é€‰checkboxå¯¼å‡ºå½“å‰è¡Œæ‰€æœ‰æ•°æ®ï¼Œå…¨é€‰åˆ™å¯¼å‡ºæ‰€æœ‰é€‰ä¸­è¡Œçš„æ•°æ®å³å®ç°å¯¼å‡ºåˆ—è¡¨é€‰ä¸­è¡Œæ•°æ®çš„åŠŸèƒ½ 1&lt;a class=&quot;download&quot; download=&quot;ç”¨æˆ·åˆ—è¡¨&quot;&gt;å¯¼å‡º&lt;/a&gt; 12345678910111213141516171819202122232425262728293031323334353637383940function exportFile() &#123; var dataArr = [];//å®šä¹‰æ•°ç»„ç”¨æ¥ä¿å­˜æ‰€å‹¾é€‰çš„åˆ—è¡¨å½“å‰è¡Œæ•°æ® // å®šä¹‰è¡¨å¤´ var str = `&lt;tr&gt; &lt;th&gt;æ ·æœ¬åç§°&lt;/th&gt; &lt;th&gt;é—®å·ç¼–ç &lt;/th&gt; &lt;th&gt;æäº¤æ—¶é—´&lt;/th&gt; &lt;/tr&gt;` // éå†åˆ—è¡¨ä¸­æ‰€è´­é€‰ä¸­çš„è¡Œ $(&apos;table&apos;).find(&apos;tr.hover-bg&apos;).each(function() &#123; var Data = new Object(); Data.AreaName = $(this).find(&apos;td:eq(1)&apos;).html(); Data.DataID= $(this).find(&apos;td:eq(2)&apos;).html(); Data.EntryTime= $(this).find(&apos;td:eq(3)&apos;).html(); dataArr.push(Data); &#125;) if($(&apos;table&apos;).find(&apos;tr&apos;).hasClass(&apos;hover-bg&apos;)) &#123; //å¾ªç¯éå†ï¼Œæ¯è¡ŒåŠ å…¥træ ‡ç­¾ï¼Œæ¯ä¸ªå•å…ƒæ ¼åŠ tdæ ‡ç­¾ for (let i = 0; i &lt; dataArr.length; i++) &#123; str += &apos;&lt;tr&gt;&apos;; for (let item in dataArr[i]) &#123; //å¢åŠ \\tä¸ºäº†ä¸è®©è¡¨æ ¼æ˜¾ç¤ºç§‘å­¦è®¡æ•°æ³•æˆ–è€…å…¶ä»–æ ¼å¼ str += `&lt;td&gt;$&#123; dataArr[i][item] + &apos;\\t&apos;&#125;&lt;/td&gt;`; &#125; str += &apos;&lt;/tr&gt;&apos;; &#125; var template = `&lt;html xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot; xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot; xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt; &lt;head&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;&lt;x:ExcelWorkbook&gt;&lt;x:ExcelWorksheets&gt;&lt;x:ExcelWorksheet&gt; &lt;x:Name&gt;&apos;å½•å…¥åˆ—è¡¨.xls&apos;&lt;/x:Name&gt; &lt;x:WorksheetOptions&gt;&lt;x:DisplayGridlines/&gt;&lt;/x:WorksheetOptions&gt;&lt;/x:ExcelWorksheet&gt; &lt;/x:ExcelWorksheets&gt;&lt;/x:ExcelWorkbook&gt;&lt;/xml&gt;&lt;![endif]--&gt; &lt;/head&gt;&lt;body&gt;&lt;table&gt;$&#123;str&#125;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;`; // å®ä¾‹åŒ–ä¸€ä¸ªBlobå¯¹è±¡ï¼Œå…¶æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŒ…å«æ–‡ä»¶å†…å®¹çš„æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯åŒ…å«æ–‡ä»¶ç±»å‹å±æ€§çš„å¯¹è±¡ var blob = new Blob([template], &#123;type: &quot;application/vnd.ms-excel&quot;&#125;); $(&apos;.download&apos;).attr(&apos;href&apos;, URL.createObjectURL(blob)); &#125;&#125;","tags":[]},{"title":"æµè§ˆå™¨æ¸²æŸ“åŸç†","date":"2018-12-22T07:00:25.000Z","path":"2018/12/22/æµè§ˆå™¨æ¸²æŸ“åŸç†/","text":"å‚è€ƒèµ„æºHow Browsers Work","tags":[]},{"title":"React Hooks","date":"2018-12-22T06:58:52.000Z","path":"2018/12/22/React Hooks/","text":"å‰æœŸå‡†å¤‡è¦æŠŠ react å’Œ react-dom æ›´æ–°åˆ° 16.7.0-alpha åŠä»¥ä¸Šï¼Œå¦‚æœé…ç½®äº† ESLintï¼Œè®°å¾—æ·»åŠ å¯¹åº”çš„ Pluginã€‚ï¼ˆå®‰è£…æ’ä»¶èƒ½å¤Ÿå¸®åŠ©ä½ ä¸å¼„é”™æ¯ä¸ªç›’å­å’ŒçŠ¶æ€çš„å¯¹åº”å…³ç³»ï¼Œä¹¦å†™çš„æ—¶å€™ Hooks éœ€è¦ use å¼€å¤´ä¸”æ”¾åœ¨é¡¶å±‚ä½œç”¨åŸŸï¼Œå³ä¸å¯ä»¥åŒ…è£¹ if/switch/when/try ç­‰ï¼‰ React Hooks çš„æœ¬è´¨ Hooks æœ¬è´¨æ˜¯æŠŠé¢å‘ç”Ÿå‘½å‘¨æœŸç¼–ç¨‹å˜æˆäº†é¢å‘ä¸šåŠ¡é€»è¾‘ç¼–ç¨‹ï¼› Hooks ä½¿ç”¨ä¸Šæ˜¯ä¸€ä¸ªé€»è¾‘çŠ¶æ€ç›’å­ï¼Œè¾“å…¥è¾“å‡ºè¡¨ç¤ºçš„æ˜¯ä¸€ç§è”ç³»ï¼› Hooks æ˜¯ React çš„æœªæ¥ï¼Œä½†è¿˜æ˜¯æ— æ³•å®Œå…¨æ›¿ä»£åŸå§‹çš„ Classã€‚ é¢å‘ç”Ÿå‘½å‘¨æœŸç¼–ç¨‹ =ã€‹é¢å‘ä¸šåŠ¡é€»è¾‘ç¼–ç¨‹ == ===ã€‹ ä¸šåŠ¡é€»è¾‘å¤ç”¨è¿™é‡Œè¯´çš„ä¸šåŠ¡é€»è¾‘å¤ç”¨ä¸»è¦æ˜¯éœ€è¦è·¨ç”Ÿå‘½å‘¨æœŸçš„ä¸šåŠ¡é€»è¾‘ã€‚å•å•æŒ‰ç…§ç»„ä»¶å †ç§¯çš„å½¢å¼ç»„ç»‡ä»£ç è™½ç„¶ä¹Ÿå¯ä»¥è¾¾åˆ°å„ç§å¤ç”¨çš„ç›®çš„ï¼Œä½†æ˜¯ä¼šå¯¼è‡´ç»„ä»¶éå¸¸å¤æ‚ï¼Œæ•°æ®æµä¹Ÿä¼šå¾ˆä¹±ã€‚ç»„ä»¶å †ç§¯é€‚åˆ UI å¸ƒå±€ï¼Œä½†æ˜¯ä¸é€‚åˆé€»è¾‘ç»„ç»‡ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨ React å‘å±•è¿‡ç¨‹ä¸­ï¼Œäº§ç”Ÿäº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œ Mixinsåå¤„è¿œè¿œå¤§äºå¸¦æ¥çš„å¥½å¤„ï¼Œå› ä¸ºç°åœ¨å·²ç»ä¸å†æ”¯æŒï¼Œä¸å¤šè¯´ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼šMixins Considered Harmfulã€‚ Class Inheritanceå®˜æ–¹ å¾ˆä¸æ¨èæ­¤åšæ³• High-Order Components (HOC)React é«˜é˜¶ç»„ä»¶ åœ¨å°è£…ä¸šåŠ¡ç»„ä»¶ä¸Šç®€ç›´æ˜¯å±¡è¯•ä¸çˆ½ï¼Œå®ƒçš„å®ç°æ˜¯æŠŠè‡ªå·±ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªç»„ä»¶ï¼Œå†è¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œè¿™æ ·å®ƒå¯ä»¥ç»Ÿä¸€å¤„ç†æ‰ä¸€äº›ä¸šåŠ¡é€»è¾‘å¹¶è¾¾åˆ°å¤ç”¨ç›®çš„ã€‚ æ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªå°±æ˜¯ react-redux é‡Œçš„ connect å‡½æ•°ï¼š ä½†æ˜¯åœ¨è°ƒè¯•çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ä¼šäº§ç”Ÿâ€œç»„ä»¶åµŒå¥—åœ°ç‹±â€ Render PropsRender Props å…¶å®å¾ˆå¸¸è§ï¼Œæ¯”å¦‚ React Context APIï¼š 1234567891011class App extends React.Component &#123; render() &#123; return ( &lt;ThemeProvider&gt; &lt;ThemeContext.Consumer&gt; &#123;val =&gt; &lt;div&gt;&#123;val&#125;&lt;/div&gt;&#125; &lt;/ThemeContext.Consumer&gt; &lt;/ThemeProvider&gt; ) &#125;&#125; å®ƒçš„å®ç°æ€è·¯å¾ˆç®€å•ï¼ŒæŠŠåŸæ¥è¯¥æ”¾ã€Œç»„ä»¶ã€çš„åœ°æ–¹ï¼Œæ¢æˆäº†å›è°ƒï¼Œè¿™æ ·å½“å‰ç»„ä»¶é‡Œå°±å¯ä»¥æ‹¿åˆ°å­ç»„ä»¶çš„çŠ¶æ€å¹¶ä½¿ç”¨ã€‚ ä½†æ˜¯ï¼ŒåŒæ ·è¿™ä¼šäº§ç”Ÿ Wrapper Hell é—®é¢˜ï¼š çŠ¶æ€ç›’å­Hooks åªèƒ½åœ¨å…¶å®ƒ Hooks çš„å‡½æ•°æˆ–è€… React Function ç»„ä»¶é‡Œã€‚ React ç¤¾åŒºä¸€ç›´æ¨å´‡å‡½æ•°å¼ã€çº¯å‡½æ•°ç­‰æ€æƒ³ï¼Œå¼•å…¥ Hooks æ¦‚å¿µåçš„ Functional Component å˜çš„ä¸å†çº¯äº†ï¼ŒuseXxx ä¸å…¶è¯´æ˜¯ä¸€æ¡æ‰§è¡Œè¯­å¥ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ªå£°æ˜ã€‚å£°æ˜è¿™é‡Œæ”¾äº†ä¸€ä¸ªã€ŒçŠ¶æ€ç›’å­ã€ï¼Œç›’å­æœ‰è¾“å…¥å’Œè¾“å‡ºï¼Œå‰©ä¸‹çš„å†…éƒ¨å®ç°å°±ä¸€æ— æ‰€çŸ¥ï¼Œé‡è¦çš„æ˜¯ï¼Œç›’å­æ˜¯æœ‰è®°å¿†çš„ï¼Œä¸‹æ¬¡æ‰§è¡Œåˆ°æ­¤ä½ç½®æ—¶ï¼Œå®ƒæœ‰ä¹‹å‰ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ ç±»æ¯”ã€Œä»£ç ã€å’Œã€Œç¨‹åºã€çš„åŒºåˆ«ï¼Œå‰è€…æ˜¯æ­»çš„ï¼Œåè€…æ˜¯æ´»çš„ã€‚è¡¨è¾¾å¼ c = a + b è¡¨ç¤ºæŠŠ a å’Œ b ç´¯åŠ åçš„å€¼èµ‹å€¼ç»™ cï¼Œä½†æ˜¯å¦‚æœå†™æˆ c := a + b å°±è¡¨ç¤º c çš„å€¼ç”± a å’Œ b ç›¸åŠ å¾—åˆ°ã€‚çœ‹èµ·æ¥è¡¨è¿°å·®ä¸å¤šï¼Œä½†å®é™…ä¸Šï¼Œåè€…éšè—ç€ä¸€ä¸ªæ—¶é—´çš„ç»´åº¦ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯ä¸€ç§è”ç³»ï¼Œè€Œä¸å•å•æ˜¯ä¸ªè¿ç®—ã€‚è¿™åœ¨ RxJS ç­‰åº“ä¸­è¢«å¤§é‡ä½¿ç”¨ã€‚ è¿™ç§å£°æ˜ç›®å‰æ˜¯é€šè¿‡å¾ˆå¼±çš„ use å‰ç¼€æ ‡è¯†çš„ï¼ˆä½†æ˜¯è®¾è®¡ä¸Šä¼šç®€æ´å¾ˆå¤šï¼‰ï¼Œä¸ºäº†ä¸å¼„é”™æ¯ä¸ªç›’å­å’ŒçŠ¶æ€çš„å¯¹åº”å…³ç³»ï¼Œä¹¦å†™çš„æ—¶å€™ Hooks éœ€è¦ use å¼€å¤´ä¸”æ”¾åœ¨é¡¶å±‚ä½œç”¨åŸŸï¼Œå³ä¸å¯ä»¥åŒ…è£¹ if/switch/when/try ç­‰ã€‚å¦‚æœä½ æŒ‰æ–‡ç« å¼€å¤´å¼•å…¥äº†é‚£ä¸ª ESLint Plugin å°±ä¸ç”¨æ‹…å¿ƒä¼šå¼„é”™äº†ã€‚ FragmentWrapper Hellï¼Œæˆ‘ä¸ªäººè§‰å¾—ä½¿ç”¨ Fragment ä¹Ÿå¯ä»¥åŸºæœ¬è§£å†³ã€‚ æ¡ˆä¾‹è®²è§£åŠŸèƒ½éœ€æ±‚æ ¹æ® input çš„è¾“å…¥å€¼æ›´æ”¹ç½‘é¡µçš„ title ä¿¡æ¯ Class Component123456789101112131415161718192021import React from 'react'class ChangeTile extends React.Component &#123; constructor(props) &#123; super(props) this.state = &#123; title = '' &#125; &#125; handleChage(title) &#123; this.setState(&#123; title &#125;) &#125; render() &#123; return ( &lt;div&gt; &lt;input value=&#123;this.state.title&#125; onChange=&#123;this.handleChage(title)&#125; /&gt; &lt;/div&gt; ) &#125;&#125; Hooks å†™æ³•12 åè®°HOC å’Œ Render Props è¿˜æ˜¯æœ‰å­˜åœ¨çš„å¿…è¦ï¼Œä¸€æ–¹é¢æ˜¯æ”¯æŒ React Classï¼Œå¦ä¸€æ–¹é¢ï¼Œå®ƒä»¬ä¸å…‰é€‚ç”¨äºçº¯é€»è¾‘å°è£…ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿé€‚åˆé€»è¾‘ + ç»„ä»¶çš„å°è£…åœºæ™¯ï¼Œè™½ç„¶æ­¤æ—¶ä½¿ç”¨ Hooks ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¼šæ˜¾å¾—å•°å—¦ç‚¹ã€‚ å‚è€ƒèµ„æºå®˜ç½‘æ–‡æ¡£ Making Sense of React Hookshttps://www.yuque.com/es2049/blog","tags":[]},{"title":"æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶","date":"2018-12-22T06:35:16.000Z","path":"2018/12/22/æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– è„šæ‰‹æ¶åŠŸèƒ½éœ€æ±‚ ä»£ç æ£€æµ‹ æ–‡æ¡£å·¥å…· è§„èŒƒçš„é¡¹ç›®ç»„ç»‡ç»“æ„ ES è§„èŒƒä¸æµè§ˆå™¨å…¼å®¹æ€§ä¸ä¸€è‡´ CSS å¼±ç¼–ç¨‹èƒ½åŠ› èµ„æºå®šä½ å›¾ç‰‡å‹ç¼©|base64 å†…åµŒ| CSS Sprites æ¨¡å—ä¾èµ–åˆ†æå’Œå‹ç¼©æ‰“åŒ… è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæé«˜æ•ˆç‡ æ•°æ® mock æœåŠ¡å±‚å°è£… è·¯ç”±é…ç½® react-devtool é…ç½® æ•°æ®çŠ¶æ€ç®¡ç†é…ç½®é€‰å‹ï¼ˆredux|mobix) æ€§èƒ½æå‡ï¼Ÿ(immutable) æ¨èå·¥å…·lernaç®¡ç†å‰ç«¯ multiple packages é¡¹ç›®çš„å·¥å…· å®˜ç½‘ lerna å…¥é—¨æŒ‡å— monorepo æ–°æµªæ½® | introduce lerna æ–‡æ¡£å·¥å…· storybookï¼šé€šè¿‡ JS(JSX) æ–‡ä»¶å†™ examples React Styleguidistï¼šé€šè¿‡ Markdown æ–‡ä»¶å†™ examples docz - markdown ä¸ react çš„ç»“åˆï¼Œååˆ†æ–¹ä¾¿çš„å·¥å…· docsite - å¿«é€Ÿæ­å»ºé™æ€ç«™ç‚¹ï¼Œå¯¹å›½é™…åŒ–æ”¯æŒå¾ˆå¥½ æ¨è npm åŒ… new-componentï¼šè‡ªåŠ¨åˆå§‹åŒ–Reactç»„ä»¶æ‰€éœ€çš„åˆå§‹åŒ–ä»£ç ","tags":[]},{"title":"å‘åŠæŠ¥é”™","date":"2018-12-22T06:28:36.000Z","path":"2018/12/22/å‘åŠæŠ¥é”™/","text":"storybook 3 + babel 7 å¯¼è‡´å‡ºé”™storybook 3 é»˜è®¤ä½¿ç”¨çš„æ˜¯ babel 6å¦‚æœä½ å‡ºç°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥æ±‚åŠ©äº babel-core@7.0.0-bridge.0ï¼Œè¿™ä¸ªåº“å¯ä»¥åšæ¡¥æ¥å·¥ä½œ Canâ€™t resolve xxxxè¿™ä¸ªé—®é¢˜å¾€å¾€æ˜¯æ¨¡å—è§£æé—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½åŸå› ä¸å°‘ï¼Œä½ å¯ä»¥è€ƒè™‘çš„å‡ ä¸ªç‚¹æœ‰ï¼š babel çš„æ¨¡å—é…ç½® webpack é…ç½®ï¼ˆæ¯”å¦‚ resolve.modules è¿™äº›é…ç½®ï¼‰ tsconfig.jsonï¼ˆå¦‚æœä½ ç”¨äº† ts çš„è¯ä¹Ÿè¯·çœ‹ä¸€ä¸‹ ts çš„æ¨¡å—é…ç½®ï¼‰ å†…ç½®æ¨¡å—é‡å¤å®‰è£…ï¼Œæ¨¡å—ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå°†pkgä¸­çš„ä¾èµ–æ¨¡å—åˆ é™¤ï¼Œç„¶ååˆ é™¤æ•´ä¸ªnode_modulesé‡æ–°å®‰è£… è·¯å¾„é—®é¢˜ @myc/components Not Foundå¦‚æœä½ ç”¨ yarn ç›´æ¥åœ¨ storybook ç›®å½•ä¸‹ä¼å›¾å®‰è£…æ–°ä¾èµ–ä¼šå¤±è´¥å› ä¸ºè¿™ä¸ªåŒ…æ˜¯æˆ‘ä»¬æœ¬åœ°æ­£åœ¨å¼€å‘çš„ï¼Œä¸åœ¨ npm ä¸Šï¼Œä½ åº”è¯¥ä½¿ç”¨ lerna çš„ bootstrap å‘½ä»¤æ¥å®‰è£…ä¾èµ–ï¼ˆlerna å®é™…ä¸Šæ˜¯ä»¥é“¾æ¥çš„å½¢å¼å®‰è£…çš„ï¼‰ Failed propType: Invalid prop AAA of type BBB supplied to CCC, expected DDD. Check the render method of EEE.è¯·ç¡®ä¿ä½ ä¼ é€’ç»™ç»„ä»¶çš„å‚æ•°ç±»å‹æ­£ç¡®ã€‚ Unknown option: xxx/package.json.presetsè¿™é‡Œæœ‰ä¸€ç¯‡æ¥è‡ª Stack Overflow çš„å›ç­”å¯ä»¥å‚è€ƒã€‚ Invariant Violation: findComponentRoot(â€¦): Unable to find element.ä½ æˆ–è®¸å¼•å…¥äº† React ä¸¤æ¬¡ã€‚å¦‚æœä½ ä½¿ç”¨ webpackï¼Œè¯·å°† React &amp; ReactDOM è®¾ç½®ä¸º externalã€‚å¦‚æœä½ ä½¿ç”¨å…¶ä»–å·¥å…·ï¼ˆbrowserify ç­‰ï¼‰ï¼Œè¯·é˜…è¯»å®ƒä»¬çš„æ–‡æ¡£å¹¶å°† React &amp; ReactDOM è®¾ç½®ä¸º externalã€‚ Warning: defaultValue is invalid for getFieldDecorator will set value, please use option.initialValue instead.è§£å†³æ–¹æ¡ˆï¼šå¤–åŠ åŠ ä¸€ä¸ªdivantdä¸­setFieldsValueå’ŒdefaultVal react-styleguidist ç‰ˆæœ¬ ä¸ eslint åŒæ—¶å‡çº§ä»¥åå¯¼è‡´æ–‡æ¡£demo import æ–°ç‰¹æ€§æ— æ³•ä½¿ç”¨ é™çº§åå¾—åˆ°è§£å†³ gulp less() è½¬æ¢æŠ¥é”™æ·»åŠ  javascriptEnabled: true å±æ€§ less å˜é‡ä¼šå¯¼è‡´æ ·å¼éš¾ä»¥å®šä½çš„é—®é¢˜æœ€å¥½æœ‰ source-map æ–‡ä»¶","tags":[]},{"title":"å‰åç«¯åˆ†ç¦»","date":"2018-12-22T01:59:50.000Z","path":"2018/12/22/å‰åç«¯åˆ†ç¦»/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– å‰è¨€å‰åç«¯åˆ†ç¦»ä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿæœ¬è´¨ä¸Šæ˜¯ä»€ä¹ˆï¼Ÿå‰åç«¯åˆ†ç¦»è¿åŠ¨å¯¹ web åº”ç”¨çš„æ¶æ„å¸¦æ¥äº†æ€ä¹ˆæ ·çš„å˜åŒ–ï¼Ÿå‰åç«¯åˆ†ç¦»æ€ä¹ˆåˆ†ç¦»ï¼Ÿä¸ºä»€ä¹ˆæ˜¯ Node.js? å‰åç«¯åˆ†ç¦»çš„æœªæ¥æ€æ ·ï¼Ÿ äº’è”ç½‘åˆ†å±‚æ¶æ„ï¼Œä¸ºå•¥è¦å‰åç«¯åˆ†ç¦»ï¼Ÿ Whyä¼ ç»Ÿçš„åæ®µæœåŠ¡æ”¯æ’‘ä¸äº†ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘ã€‚å¹³æ—¶å·¥ä½œä¸­ç”¨åˆ°çš„å·¥å…·é“¾ã€å¼€å‘æ¡†æ¶ã€è§„èŒƒåè®®ã€æµè§ˆå™¨ç­‰åœ¨ä¸æ–­æ¶Œç°ï¼Œè¿™äº›æ–°çš„æŠ€æœ¯åœ¨ç»™å¼€å‘ç¯å¢ƒã€å¼€å‘æµç¨‹æäº†æ›´å¤šæ–°éœ€æ±‚ã€‚Node.js åœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹èƒ½å¤ŸæŠŠè¿™äº›å·¥å…·ä¸²è”èµ·æ¥ã€‚ Howæ¨¡æ¿å±‚çš„åˆ†å·¥æœ€æ—©çš„ Java å¼€å‘é˜¶æ®µéœ€è¦ä¸€ä¸ªåŒ…å«æ‰€æœ‰å†…å®¹çš„ war åŒ…ï¼Œæ•´ä¸ªå‰ç«¯çš„ç¼–æ’ï¼Œåƒ HTML é¡µé¢ã€CSSã€JS å¾ˆå¤šæ—¶å€™åŒ…å«åœ¨ HTML é¡µé¢ï¼Œä¹Ÿä¼šå‡ºç°è„šæœ¬å¤ç”¨ã€æ ·å¼å¤ç”¨æŠ½ç¦»å‡ºæ¥ã€‚æ‰€ä»¥å‰ç«¯å¼€å‘å½“æ—¶æ˜¯å›´ç»•è‘—åçš„ velocity æ¨¡ç‰ˆã€‚è¿™ä¸€å±‚æœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œåç«¯çš„åŒå­¦çœ‹å‰ç«¯èµ„æºåƒçœ‹å¤©ä¹¦ï¼Œå‰ç«¯åŒå­¦çœ‹åç«¯æ¨¡ç‰ˆä¹Ÿåƒæ˜¯çœ‹å¤©ä¹¦ï¼Œèåˆæ•ˆç‡éå¸¸ä½ã€‚ é™æ€èµ„æºç‹¬ç«‹éƒ¨ç½² Web å‰ç«¯ä½“éªŒæœ€å¤§çš„æ”¹è¿›å°±æ˜¯å‰¯å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯èµ„æºéå¸¸åºå¤§ï¼Œä»£ç ä¸å†æ˜¯ç›´æ¥å‘å¸ƒåˆ°çº¿ä¸Šï¼Œè€Œæ˜¯è¦ç¼–è¯‘ï¼Œåšé¢„å¤„ç†ï¼Œå¯èƒ½è¿˜è¦åš CDN çš„åŠ é€Ÿã€‚æ•´ä¸ªåº”ç”¨è¢«åˆ†å‰²æˆä¸¤éƒ¨åˆ†ï¼Œåç«¯æœåŠ¡å‘å¸ƒä¹‹åï¼Œå‰ç«¯æœåŠ¡è¦ç‹¬ç«‹æ›´æ–°ï¼Œè¿™æ ·å°±ç»™åº”ç”¨çš„æ›´æ–°å¸¦æ¥äº†ä¾¿åˆ©ã€‚è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜æ˜¯æ¥å£çš„åè°ƒï¼Œå‰ç«¯çš„éœ€æ±‚å˜æ›´ï¼Œæ•°æ®çš„è¦æ±‚ä¹Ÿä¼šå˜åŒ–ï¼Œéœ€è¦åç«¯å»åè°ƒèµ„æºçš„ç¼–æ’ã€‚å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯æµ‹è¯•ï¼Œå‰ç«¯æŒæœ‰è„šæœ¬ï¼Œæ ·å¼èµ„æºï¼Œè€Œæ¨¡ç‰ˆå´åœ¨åº”ç”¨å±‚ï¼Œåº”ç”¨å±‚çš„å¼€å‘ã€å‘å¸ƒä¹Ÿæ˜¯å¾ˆå¤æ‚çš„ã€‚ ç‹¬ç«‹åº”ç”¨å±‚ï¼ˆBFFï¼‰ Node.js æä¾› mock æ•°æ®å¼€å§‹ï¼Œå‰ç«¯ä»£ç çš„é¢„ç¼–è¯‘ï¼Œèµ„æºç¼–æ’ï¼Œè¿™äº›åŠ¨ä½œéƒ½åˆå¹¶åˆ°ä¸€ä¸ªåº”ç”¨é‡Œé¢ï¼Œå‰ç«¯å½¢æˆ UI åº”ç”¨å±‚ã€‚åœ¨è¿™ä¸€å±‚ï¼Œå‰ç«¯å…·å¤‡äº†æ›´çµæ´»ã€å¼ºå¤§çš„èƒ½åŠ›ï¼Œåœ¨æ•°æ®ç¼–æ’è¿™ä¸€å±‚ï¼ŒNode.js å¯ä»¥åšè½»é‡çš„ç²˜åˆï¼ŒæœåŠ¡ç«¯çš„å¼€å‘ä¹Ÿåœ¨å¾€å¾®æœåŠ¡æ–¹å‘å‘å±•ï¼Œæå‡äº†å¼€å‘æ•ˆç‡ã€‚ åç«¯ç›¸å…³çš„æ¥å£å›é€€åˆ° APIï¼Œæˆ–è€…äº‘ç«¯ã€‚ BFF å±‚ä¸šåŠ¡å±‚çš„éœ€æ±‚å¾ˆå¤šï¼Œåœ¨æµç¨‹æ§åˆ¶ã€æ•°æ®è½¬æ¢ã€æ•°æ®å®‰å…¨ã€åˆ†æå±•ç°ç­‰æ–¹é¢éœ€è¦æœ‰å¤§é‡çš„ç»„ä»¶æ²‰æ·€ã€‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æœ‰ä¼—å¤šç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ã€‚ åœ¨ server å±‚Babeljs å¯ä»¥åšä»£ç è½¬æ¢çš„äº‹æƒ…ï¼ŒBigpipe å¯ä»¥ä¼˜åŒ–æœåŠ¡ç«¯çš„å†…å­˜ï¼Œå¯ä»¥ç¼©å‡æ¸²æŸ“æ—¶é—´ï¼Œæå‡ä½“éªŒä¼˜åŒ–ã€‚åœ¨æ•°æ®æµé‡Œå¯ä»¥æœ‰å¾ˆå¤šçš„ filterï¼Œç»™æ•°æ®é“¾ä¸­æ’å…¥ processorï¼Œæ¥å®šä¹‰å¤„ç†å¾®å°çš„æ•°æ®ã€‚ç”¨æˆ·åœ¨åŸå§‹çš„æ•°æ®åˆ°å®Œæ•´çš„å¯è§†åŒ–å±•ç°ä¸éœ€è¦å†æ­å»ºä¸€ä¸ªäº§å“å»æ”¯æŒï¼Œåªéœ€è¦æ­å‡ ä¸ª filterï¼Œé…å‡ ä¸ªæ•°æ®æºï¼Œæ‹–å‡ ä¸ªç»„ä»¶å°±å¯ä»¥å®Œæˆã€‚ å®šåˆ¶åº”ç”¨æ¡†æ¶é€šè¿‡â€œå®šåˆ¶åº”ç”¨æ¡†æ¶â€è§£å†³å‰ç«¯çš„ç¼–è¯‘ï¼Œå·¥ç¨‹ç®¡ç†ï¼Œæ•°æ® mock ç­‰é—®é¢˜ å¾®åº”ç”¨åˆ†å‰²æŠŠå„è‡ªç‹¬ç«‹çš„æ¨¡å—åº”ç”¨åˆ‡å‰²æˆå¾®åº”ç”¨ï¼Œä¸€ä¸ªå¾®åº”ç”¨è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œä¾¿äºåˆ†å·¥å’Œéš”ç¦»å¤„ç†ã€‚ å…·ä½“åšæ³•æ˜¯å¾®æœåŠ¡æ‹†åˆ†ï¼Œæ­å»ºå¾®åº”ç”¨æœåŠ¡ï¼Œæ‰¿è½½å¤§é‡çš„å°æœåŠ¡ï¼ŒåŒæ—¶ä¹Ÿä¼šå‡ºç°å¾ˆå¤šåŸŸåçš„é—®é¢˜ï¼Œå¾ˆå¤šè®¿é—®å…¥å£ã€‚è¿™é‡Œåšäº†ä¸€äº›å°åˆ›æ–°ï¼Œåœ¨å…¥å£å¯ä»¥å®šä¹‰ç«¯å£ï¼Œsever nameï¼Œè®¿é—® pathï¼Œå½“æŠŠä¸€ä¸ªåœºæ™¯åˆ†æˆ 10 ä¸ªåº”ç”¨å‘å¸ƒï¼Œå‘å¸ƒä¹‹åå†æ ¹æ®ä¸åŒçš„è·¯å¾„æ‹¼æ¥æˆä¸€ä¸ªåº”ç”¨ï¼Œå¯¹ä½“éªŒæ²¡æœ‰å½±å“ã€‚ é™¤äº†è·¯ç”±è‡ªåŠ¨åŒ–è§„åˆ’ä¹‹åï¼Œå¯¹åº”ç”¨çš„å‘å¸ƒåšåˆ°ä¸Šä¸‹å¹³æ»‘ï¼Œä¸ä¼šå½±å“æµé‡ã€‚å‰ç«¯äººå‘˜è‡ªå·±æ‰“åŒ…å‘å¸ƒå°±å¯ä»¥äº†ã€‚ è¿ç»´å·¥ç¨‹åŒ–å½“è¿™äº›åº”ç”¨è¢«åˆ†å‰²çš„å¾ˆç»†è‡´ä¹‹åï¼Œéšä¹‹è€Œæ¥çš„æ˜¯å¦‚ä½•ç®¡ç†è¿™äº›å°åº”ç”¨ã€‚ æ¯”å¦‚æœ‰ä¸¤å°æœºå™¨åšäº’å¤‡ï¼ŒæŠŠæ‰€æœ‰å° App éƒ½å‘å¸ƒåˆ°ä¸Šé¢ä¹‹åï¼Œç”±ä¸€ä¸ªä¸ªå°é¢—ç²’ç»„æˆä¸€ä¸ªå¤§åº”ç”¨ï¼Œçœ‹ä¸Šå»å¾ˆåƒä¸€ä¸ªèœ‚å·¢ï¼Œå› æ­¤å‘½å honeycombï¼Œè¿™äº›èœ‚å·¢ç»„æˆä¸€ä¸ªå¤§èœ‚çªï¼Œå®Œæˆä¸€ä¸ªä¸»åŠŸèƒ½ã€‚åœ¨åº”ç”¨æ¨è¿›è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›åº”ç”¨å‹åŠ›å¤§ï¼Œéœ€è¦æŠŠåº”ç”¨é›†ç¾¤éš”ç¦»å¼€ï¼ŒæŠŠæœ‰ä¸åŒä¸šåŠ¡éœ€æ±‚åœºæ™¯ç¯å¢ƒï¼Œä¾‹å¦‚å¼€å‘ç¯å¢ƒã€é¢„å‘ç¯å¢ƒã€çº¿ä¸Šç¯å¢ƒéš”ç¦»å¼€æ¥ï¼Œä¸åŒç¯å¢ƒé…ç½®çš„é›†ç¾¤èµ„æºå’Œæœºå™¨æ•°é‡éƒ½ä¸ä¸€æ ·ã€‚éšç€ä¸šåŠ¡å‘å±•ï¼Œéš”ç¦»çš„äº‹æƒ…ä¼šäº¤ç»™å®¹å™¨å»æ‰§è¡Œã€‚ å¯†é›†è®¡ç®—é—®é¢˜å¯†é›†è®¡ç®—åˆ†æˆä¸¤å±‚ï¼Œç¬¬ä¸€å±‚ç»¿è‰²éƒ¨åˆ†ä¼šæ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œç¬¬äºŒå±‚æµ…è“è‰²ä¼šå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œå†™å¾ˆå¤šçš„ processorï¼Œæä¾›å¤§é‡çš„è¿›ç¨‹å»æä¾›å¯†é›†è®¡ç®—ã€‚ ä¸»è¦é—®é¢˜åœ¨äº CPU å®¹é‡æ˜¯æ’å®šçš„ï¼Œå½“æœ‰å¾ˆå¤šå¹¶å‘è¯·æ±‚çš„æ—¶å€™ï¼Œå¦‚ä½•ä¿è¯åœ¨æœåŠ¡å±‚å»å¾ˆå¥½çš„åˆ†é…è®¡ç®—ä»»åŠ¡ã€‚æ‹†æˆä¸¤å±‚ä¹‹åï¼Œä¿è¯ç”¨æˆ·è¯·æ±‚ä¸ä¼šè¢« block æ‰ã€‚å¦‚æœç¬¬ä¸€å±‚å¤§é‡çš„å¯†é›†è®¡ç®—ï¼Œä¼šå¯¼è‡´ç”¨æˆ·çš„è¯·æ±‚æˆ–è€…è¿æ¥çš„éœ€æ±‚è¢«æŒ¡ä½ï¼Œæ¥æ”¶ä¸åˆ°å“åº”ï¼Œæ‰€ä»¥è¦å¾€åå †ï¼Œåšæˆé˜Ÿåˆ—ï¼Œå¯æ‰©å®¹çš„å¤§é›†ç¾¤ã€‚æ•´ä¸ªç»“æœåœ¨ Java é‡Œå°±å¯ä»¥ç†è§£ä¸º Java åºå¤§çº¿ç¨‹çš„å¤„ç†è¿‡ç¨‹ã€‚ ç¤¾åŒºé‡Œåœ¨çº¿ç¨‹åº“é‡Œè¿˜æœ‰ä¸€äº›å°è¯•ï¼ŒNapa.js æ˜¯å¾®è½¯å¼€æºçš„çº¿ç¨‹åº“ï¼Œå‰ç«¯åŒæ„çš„éœ€æ±‚å¯ä»¥æ¢ç´¢ä½¿ç”¨ Napa.js è¿™ä¸ªå·¥å…·ã€‚","tags":[]},{"title":"å‰ç«¯ä¸šåŠ¡ä»£ç å·¥å…·åº“","date":"2018-12-22T01:47:14.000Z","path":"2018/12/22/å‰ç«¯ä¸šåŠ¡ä»£ç å·¥å…·åº“/","text":"outils[ [ å‰ç«¯ä¸šåŠ¡ä»£ç å·¥å…·åº“ ç›®çš„ï¼šé«˜æ•ˆç‡å®Œæˆå‰ç«¯ä¸šåŠ¡ä»£ç  ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šç»å¸¸ç”¨åˆ°æ—¥æœŸæ ¼å¼åŒ–ã€urlå‚æ•°è½¬å¯¹è±¡ã€æµè§ˆå™¨ç±»å‹åˆ¤æ–­ã€èŠ‚æµå‡½æ•°ç­‰å¸¸ç”¨å‡½æ•°ï¼Œä¸ºé¿å…ä¸åŒé¡¹ç›®å¤šæ¬¡å¤åˆ¶ç²˜è´´çš„éº»çƒ¦ï¼Œè¿™é‡Œç»Ÿä¸€å°è£…ï¼Œå¹¶å‘å¸ƒåˆ°npmï¼Œä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚å¦‚æœä½ ä¹Ÿæœ‰å¸¸ç”¨çš„ä»£ç ï¼Œæ¬¢è¿ä¸ºæœ¬é¡¹ç›®æäº¤prã€‚ å®‰è£…ä½¿ç”¨ ç›´æ¥ä¸‹è½½minç›®å½•ä¸‹çš„outils.min.jsä½¿ç”¨ï¼Œæ”¯æŒUMDé€šç”¨æ¨¡å—è§„èŒƒ ä½¿ç”¨npmå®‰è£… æµè§ˆå™¨:1234&lt;script src=&quot;outils.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; var OS = outils.getOS()&lt;/script&gt; npm:1$ npm install --save-dev outils webpackã€RequireJSã€SeaJSç­‰ 123// å®Œæ•´å¼•å…¥const outils = require(&apos;outils&apos;)const OS = outils.getOS() æ¨èä½¿ç”¨æ–¹æ³• ä½ çœŸçš„ä¸éœ€è¦å®Œæ•´å¼•å…¥æ‰€æœ‰å‡½æ•°ï¼Œæ‰€ä»¥åªå¼•å…¥éœ€è¦ä½¿ç”¨çš„æ–¹æ³•å³å¯ã€‚123// åªå¼•å…¥éƒ¨åˆ†æ–¹æ³•(&apos;outils/&lt;æ–¹æ³•å&gt;&apos;)const getOS = require(&apos;outils/getOS&apos;)const OS = getOS() APIæ–‡æ¡£ArrayarrayEqual åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ClassaddClass ä¸ºå…ƒç´ æ·»åŠ classhasClass åˆ¤æ–­å…ƒç´ æ˜¯å¦æœ‰æŸä¸ªclassremoveClass ä¸ºå…ƒç´ ç§»é™¤classCookiegetCookie æ ¹æ®nameè¯»å–CookieremoveCookie æ ¹æ®nameåˆ é™¤CookiesetCookie æ·»åŠ CookieDevicegetExplore è·å–æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬å·getOS è·å–æ“ä½œç³»ç»Ÿç±»å‹DomgetScrollTop è·å–æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»offset è·å–ä¸€ä¸ªå…ƒç´ çš„è·ç¦»æ–‡æ¡£(document)çš„ä½ç½®ï¼Œç±»ä¼¼jQä¸­çš„offset()scrollTo åœ¨\\${duration}æ—¶é—´å†…ï¼Œæ»šåŠ¨æ¡å¹³æ»‘æ»šåŠ¨åˆ°\\${to}æŒ‡å®šä½ç½®setScrollTop è®¾ç½®æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»windowResize H5è½¯é”®ç›˜ç¼©å›ã€å¼¹èµ·å›è°ƒFunctiondebounce å‡½æ•°é˜²æŠ–throttle å‡½æ•°èŠ‚æµKeycodegetKeyName æ ¹æ®keycodeè·å¾—é”®åObjectdeepClone æ·±æ‹·è´ï¼Œæ”¯æŒå¸¸è§ç±»å‹isEmptyObject åˆ¤æ–­Objectæ˜¯å¦ä¸ºç©ºRandomrandomColor éšæœºç”Ÿæˆé¢œè‰²randomNum ç”ŸæˆæŒ‡å®šèŒƒå›´éšæœºæ•°RegexpisEmail åˆ¤æ–­æ˜¯å¦ä¸ºé‚®ç®±åœ°å€isIdCard åˆ¤æ–­æ˜¯å¦ä¸ºèº«ä»½è¯å·isPhoneNum åˆ¤æ–­æ˜¯å¦ä¸ºæ‰‹æœºå·isUrl åˆ¤æ–­æ˜¯å¦ä¸ºURLåœ°å€StringdigitUppercase ç°é‡‘é¢è½¬å¤§å†™SupportisSupportWebP åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒwebPæ ¼å¼å›¾ç‰‡TimeformatPassTime æ ¼å¼åŒ–\\${startTime}è·ç°åœ¨çš„å·²è¿‡æ—¶é—´formatRemainTime æ ¼å¼åŒ–ç°åœ¨è·\\${endTime}çš„å‰©ä½™æ—¶é—´UrlparseQueryString urlå‚æ•°è½¬å¯¹è±¡stringfyQueryString å¯¹è±¡åºåˆ—åŒ–","tags":[]},{"title":"å‰ç«¯å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½å›¾è°±","date":"2018-12-21T12:47:27.000Z","path":"2018/12/21/å‰ç«¯å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½å›¾è°±/","text":"tags: [ç»„ä»¶]categories: åº•å±‚åŸç†åŠåŸºç¡€","tags":[]},{"title":"å¦‚ä½•ç®¡ç†å¥½10ä¸‡è¡Œä»£ç çš„å‰ç«¯å•é¡µé¢åº”ç”¨","date":"2018-12-21T12:41:56.000Z","path":"2018/12/21/å¦‚ä½•ç®¡ç†å¥½10ä¸‡è¡Œä»£ç çš„å‰ç«¯å•é¡µé¢åº”ç”¨/","text":"tags: [Hexo]categories: service ToBäº§å“ç‰¹ç‚¹ ä¸šåŠ¡å¤æ‚åº¦é«˜ã€ä¸šåŠ¡ç†è§£é—¨æ§›é«˜ï¼› å‰ç«¯ä»£ç é‡å·¨å¤§ æ¶æ„æ–¹æ¡ˆæ¶æ„çš„ç›®çš„æ˜¯ç®¡ç†å¤æ‚åº¦ï¼Œå°†å¤æ‚é—®é¢˜åˆ†è€Œæ²»ä¹‹ã€æœ‰æ•ˆç®¡ç† é€šè¿‡è·¯ç”±åˆ‡å‰²â€œé¡µé¢çº§â€ç²’åº¦çš„åŠŸèƒ½æ¨¡å— åŒä¸€â€œé¡µé¢â€å†…çš„æ¨¡å—å†åˆ’åˆ† çºµå‘ï¼šé€šè¿‡ä¸šåŠ¡åŠŸèƒ½ï¼ˆå¯æ ¹æ®è§†å›¾æ¨¡å—åˆ¤æ–­ï¼‰åˆ’åˆ† æ¨ªå‘ï¼šé€šè¿‡Model-View-Controllerä¸‰ç§ä¸åŒèŒèƒ½åˆ’åˆ† åˆå¹¶åŒç±»é¡¹ï¼šç»†åˆ†ç²’åº¦ï¼Œå°†å¯å¤ç”¨æ¨¡å—æˆ–ç»„ä»¶æŠ½ç¦»åˆ°å…¬å…±åŒºåŸŸ æ•°æ®æ¨¡å‹ï¼š Domain Model é¢†åŸŸæ¨¡å‹ï¼šè¯¦è§ORMå±‚ App State Modal åº”ç”¨çŠ¶æ€æ¨¡å‹ï¼šè¯¦è§åº”ç”¨çŠ¶æ€æ¨¡å‹ UIç»„ä»¶ï¼š Container Componentï¼š è¯¦è§å®¹å™¨å‹ç»„ä»¶ Presentational Componentï¼šè¯¦è§å±•ç¤ºå‹ç»„ä»¶ å…¬å…±æœåŠ¡ï¼š æ‰€æœ‰çš„HTTPè¯·æ±‚æ”¾åœ¨ä¸€èµ·ç»Ÿä¸€ç®¡ç† æ—¥å¿—æœåŠ¡ã€æœ¬åœ°å­˜å‚¨æœåŠ¡ã€é”™è¯¯ç›‘æ§ã€MockæœåŠ¡ç­‰ç»Ÿä¸€å­˜æ”¾åœ¨å…¬å…±æœåŠ¡å±‚ï¼› è·¨æ¨¡å—é€šä¿¡ åˆå¹¶åŒç±»é¡¹ ORMå±‚ï¼ˆDomain Model Layerï¼‰æŒä¹…åŒ–åˆ°æ•°æ®åº“æˆ–localStorageä¸­ï¼Œå±äºå¯è·¨æ¨¡å—å¤ç”¨çš„å…¬å…±ä¸šåŠ¡æ•°æ®å¦‚ï¼šUsers ç”¨æˆ·ä¿¡æ¯ | Datasets æ•°æ®é›†ä¿¡æ¯ | Reports æŠ¥è¡¨ä¿¡æ¯ æŠ½ç¦»è¯¥å…¬å…±å±‚çš„å¥½å¤„ï¼š è·¨æ¨¡å—æ•°æ®åŒæ­¥é—®é¢˜ä¸å¤å­˜åœ¨ï¼š ä¾‹å¦‚ï¼šä¹‹å‰Userså¯¹è±¡åœ¨Aå’ŒBä¸¤ä¸ªä¸šåŠ¡æ¨¡å—ä¸­å•ç‹¬å­˜å‚¨ï¼ŒAæ¨¡å—å˜æ›´Userså¯¹è±¡åï¼Œéœ€å°†Userså˜æ›´åŒæ­¥åˆ°Bæ¨¡å—ä¸­ï¼Œå¦‚ä¸åŒæ­¥ï¼ŒAã€Bæ¨¡å—åœ¨ç•Œé¢ä¸Šå‘ˆç°çš„Userä¿¡æ¯ä¸ä¸€è‡´ï¼Œä¸‹æ²‰åˆ°é¢†åŸŸæ¨¡å‹å±‚ç»Ÿä¸€ç®¡ç†åï¼Œé—®é¢˜ä¸å¤å­˜åœ¨ï¼› é™¤é¢†åŸŸæ¨¡å‹å¤ç”¨å¤–ï¼Œè¿˜å¯å¤ç”¨é¢†åŸŸæ¨¡å‹ç›¸å…³çš„CRUD Reducerï¼š ä¾‹å¦‚ï¼šä¹‹å‰Userså¯¹è±¡å¯¹åº”çš„Create Read Update Deleteæ–¹æ³•å¯èƒ½åœ¨Aå’ŒBä¸¤ä¸ªä¸šåŠ¡æ¨¡å—å„ç»´æŠ¤ä¸€å¥—ï¼Œä¸‹æ²‰åˆ°é¢†åŸŸæ¨¡å‹å±‚ç»Ÿä¸€ç®¡ç†åï¼Œå‡å°‘äº†ä»£ç é‡å¤é—®é¢˜ï¼› è‡ªç„¶æ‰¿æ‹…äº†éƒ¨åˆ†è·¨æ¨¡å—é€šä¿¡èŒè´£ï¼š ä¹‹å‰æ•°æ®åŒæ­¥ç›¸å…³çš„è·¨æ¨¡å—é€šä¿¡ä»£ç æ²¡æœ‰äº†å­˜åœ¨çš„å¿…è¦æ€§ï¼› åº”ç”¨çŠ¶æ€æ¨¡å‹åº”ç”¨çŠ¶æ€æ¨¡å‹æ˜¯ä¸è§†å›¾ç›¸å…³çš„çŠ¶æ€æ•°æ®ï¼šè¿™äº›æ•°æ®ä¸å…·ä½“çš„è§†å›¾æ¨¡å—æˆ–ä¸šåŠ¡åŠŸèƒ½å¼ºç›¸å…³ï¼Œå»ºè®®å­˜æ”¾åœ¨ä¸šåŠ¡æ¨¡å—çš„Modelä¸­ã€‚å¦‚ï¼š å½“å‰é¡µé¢é€‰ä¸­äº†åˆ—è¡¨çš„ç¬¬nè¡Œ currentSelectedRow: someId çª—å£æ˜¯å¦å¤„äºæ‰“å¼€çŠ¶æ€ isModalShow: false æŸç§è§†å›¾å…ƒç´ æ˜¯å¦åœ¨æ‹–æ‹½ä¸­ isDragging: true å®¹å™¨å‹ç»„ä»¶å®¹å™¨å‹ç»„ä»¶æ˜¯ä¸storeç›´è¿çš„ç»„ä»¶ï¼Œä¸ºå±•ç¤ºå‹ç»„ä»¶æˆ–å…¶å®ƒå®¹å™¨ç»„ä»¶æä¾›æ•°æ®å’Œè¡Œä¸ºï¼Œå°½é‡é¿å…åœ¨å…¶ä¸­åšä¸€äº›ç•Œé¢æ¸²æŸ“ç›¸å…³çš„äº‹æƒ…ã€‚ å±•ç¤ºå‹ç»„ä»¶å±•ç¤ºå‹ç»„ä»¶ç‹¬ç«‹äºåº”ç”¨çš„å…¶å®ƒéƒ¨åˆ†å†…å®¹ï¼Œä¸å…³å¿ƒæ•°æ®çš„åŠ è½½å’Œå˜æ›´ï¼Œä¿æŒèŒè´£å•ä¸€ï¼Œä»…åšè§†å›¾å‘ˆç°å’Œæœ€åŸºæœ¬äº¤äº’è¡Œä¸ºï¼Œé€šè¿‡propsæ¥æ”¶æ•°æ®å’Œå›è°ƒå‡½æ•°è¾“å‡ºç»“æœï¼Œä¿è¯æ¥æ”¶çš„æ•°æ®ä¸ºç»„ä»¶æ•°æ®ä¾èµ–çš„æœ€å°é›†ã€‚ å¦‚æœå±•ç¤ºå‹ç»„ä»¶ç²’åº¦åˆ‡åˆ†èƒ½å¾ˆå¥½çš„éµå¾ªé«˜å†…èšä½è€¦åˆå’ŒèŒè´£å•ä¸€åŸåˆ™çš„è¯ï¼Œå¯ä»¥æ²‰æ·€å‡ºå¾ˆå¤šå¯å¤ç”¨çš„é€šç”¨ä¸šåŠ¡ç»„ä»¶ã€‚ è·¨æ¨¡å—é€šä¿¡æ¨¡å—ç²’åº¦é€æ¸ç»†åŒ–ï¼Œä¼šå¸¦æ¥æ›´å¤šçš„è·¨æ¨¡å—é€šä¿¡è¯‰æ±‚ï¼Œä¸ºé¿å…æ¨¡å—é—´ç›¸äº’è€¦åˆã€ç¡®ä¿æ¶æ„é•¿æœŸå¹²å‡€å¯ç»´æŠ¤ï¼Œå»ºè®®å°†è·¨æ¨¡å—é€šä¿¡çš„é€»è¾‘ä»£ç æ”¾åœ¨çˆ¶æ¨¡å—ä¸­ï¼Œæˆ–è€…åœ¨ä¸€ä¸ªå«åšMediatorå±‚ä¸­å•ç‹¬ç»´æŠ¤ ä¸å…è®¸åœ¨ä¸€ä¸ªæ¨¡å—å†…éƒ¨ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—çš„Dispatchæ–¹æ³•ï¼ˆå†™æ“ä½œã€å˜æ›´å…¶ä»–æ¨¡å—çš„stateï¼‰ ä¸å…è®¸åœ¨ä¸€ä¸ªæ¨¡å—å†…éƒ¨ç›´æ¥è¯»å–å…¶ä»–æ¨¡å—çš„stateæ–¹æ³•ï¼ˆè¯»æ“ä½œï¼‰ æ•°æ®æµç®¡ç†çº¯å‡½æ•°ï¼šå…¥å‚ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè¿”å›å€¼æ’ç­‰éçº¯å‡½æ•°ï¼šå‡½æ•°ä¸­å¦‚æœåŒ…å« Math.randomï¼Œnew Date(), å¼‚æ­¥è¯·æ±‚ç­‰å†…å®¹ï¼Œä¸”å½±å“åˆ°æœ€ç»ˆç»“æœçš„è¿”å›ï¼Œå³ä¸ºéçº¯å‡½æ•° ç›‘å¬Storeå˜æ›´åˆ·æ–°è§†å›¾çš„åŠŸèƒ½æ˜¯ç”±react-reduxå®Œæˆçš„ï¼š &lt;Provider&gt; ç»„ä»¶é€šè¿‡contextå±æ€§å‘åä»£&lt;connect&gt;ç»„ä»¶æä¾›ï¼ˆprovideï¼‰storeå¯¹è±¡ï¼› &lt;connect&gt; æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œä½œç”¨æ˜¯å°†storeä¸viewå±‚ç»„ä»¶è¿æ¥èµ·æ¥ï¼ˆè¿™é‡Œé‡å¤æä¸€å¥ï¼Œreduxå®˜æ–¹å°†&lt;connect&gt;ç›´æ¥è¿æ¥çš„ç»„ä»¶å®šä¹‰ä¸ºcontainer componentï¼‰ï¼Œ&lt;connect&gt;å‘å¼€å‘è€…å¼€æ”¾äº†å‡ ä¸ªå›è°ƒå‡½æ•°é’©å­ï¼ˆmapStateToProps, mapDispatchToPropsâ€¦ï¼‰ç”¨äºè‡ªå®šä¹‰æ³¨å…¥ container component çš„ props çš„å§¿åŠ¿ï¼› react-redux ç›‘å¬ redux store çš„å˜æ›´ï¼Œstore æ”¹å˜åé€šçŸ¥æ¯ä¸€ä¸ª connect ç»„ä»¶åˆ·æ–°è‡ªå·±å’Œåä»£ç»„ä»¶ï¼Œä¸ºäº†å‡å°‘ä¸å¿…è¦çš„åˆ·æ–°æå‡æ€§èƒ½ï¼Œconnect å®ç°äº† shouldComponentUpdate æ–¹æ³•ï¼Œå¦‚æœ props ä¸å˜çš„è¯ï¼Œä¸åˆ·æ–° connect åŒ…è£¹çš„ container componentï¼›","tags":[{"name":"ç»„ä»¶","slug":"components","permalink":"http://lulustyle.net/tags/components/"}]},{"title":"Webpack ä¸­ publicPath è¯¦è§£","date":"2018-12-21T12:39:18.000Z","path":"2018/12/21/Webpack ä¸­ publicPath è¯¦è§£/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– outputoutput.path é»˜è®¤å€¼ï¼šprocess.cwd() åªæ˜¯æŒ‡ç¤ºè¾“å‡ºçš„ç›®å½•ï¼Œå¯¹åº”ä¸€ä¸ªç»å¯¹è·¯å¾„ output: {path: path.resolve(__dirname, &#39;../dist&#39;),} output.publicPath é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸² å¸®åŠ©ä½ ä¸ºé¡¹ç›®ä¸­çš„æ‰€æœ‰èµ„æºæŒ‡å®šä¸€ä¸ªåŸºç¡€è·¯å¾„ï¼Œå®ƒè¢«ç§°ä¸ºå…¬å…±è·¯å¾„(publicPath) æ‰€æœ‰èµ„æºçš„åŸºç¡€è·¯å¾„: é¡¹ç›®ä¸­å¼•ç”¨cssï¼Œjsï¼Œimgç­‰èµ„æºæ—¶å€™çš„ä¸€ä¸ªåŸºç¡€è·¯å¾„,è¦é…åˆå…·ä½“èµ„æºä¸­æŒ‡å®šçš„è·¯å¾„ä½¿ç”¨ é™æ€èµ„æºæœ€ç»ˆè®¿é—®è·¯å¾„ =output.publicPath+ èµ„æºloaderæˆ–æ’ä»¶ç­‰é…ç½®è·¯å¾„ é™æ€èµ„æºæœ€ç»ˆè®¿é—®è·¯å¾„: åœ¨ä½¿ç”¨html-webpack-pluginæ‰“åŒ…åå¾—åˆ°çš„htmlä¸­å¯ä»¥çœ‹åˆ° ç›¸å¯¹è·¯å¾„: ç›¸å¯¹äºbuildä¹‹åçš„index.html(å¦‚æœè®¾ç½®publicPath: &#39;./dist/&#39;ï¼Œåˆ™æ‰“åŒ…åjsçš„å¼•ç”¨è·¯å¾„ä¸º./dist/build.js) å°†publicPathè®¾ç½®æˆ/,åˆ™æ‰“åŒ…åè®¿é—®è·¯å¾„ä¸ºlocalhost:8080/dist/main.jsï¼Œæœ¬åœ°æ— æ³•è®¿é—® ä¸€èˆ¬æƒ…å†µä¸‹publicPathåº”è¯¥ä»¥â€™/â€˜ç»“å°¾ï¼Œè€Œå…¶ä»–loaderæˆ–æ’ä»¶çš„é…ç½®ä¸è¦ä»¥â€™/â€˜å¼€å¤´ 1234567891011121314151617181920212223output.publicPath = '/dist/'// imageoptions: &#123; name: 'img/[name].[ext]?[hash]'&#125;// æœ€ç»ˆå›¾ç‰‡çš„è®¿é—®è·¯å¾„ä¸ºoutput.publicPath + 'img/[name].[ext]?[hash]' = '/dist/img/[name].[ext]?[hash]'// js output.filenameoutput: &#123; filename: '[name].js'&#125;// æœ€ç»ˆjsçš„è®¿é—®è·¯å¾„ä¸ºoutput.publicPath + '[name].js' = '/dist/[name].js'// extract-text-webpack-plugin cssnew ExtractTextPlugin(&#123; filename: 'style.[chunkhash].css'&#125;)// æœ€ç»ˆcssçš„è®¿é—®è·¯å¾„ä¸ºoutput.publicPath + 'style.[chunkhash].css' = '/dist/style.[chunkhash].css' webpack-dev-serverä¸­çš„publicPath åœ¨å¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬å€Ÿç”¨devServerå¯åŠ¨ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨è¿›è¡Œå¼€å‘ï¼Œè¿™é‡Œä¹Ÿä¼šé…ç½®ä¸€ä¸ªpublicPath webpack-dev-serverä¸­çš„publicPathè·¯å¾„ä¸‹çš„æ‰“åŒ…æ–‡ä»¶å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®ã€‚è€Œé™æ€èµ„æºä»ç„¶ä½¿ç”¨output.publicPath webpack-dev-serveræ‰“åŒ…çš„å†…å®¹æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œè¿™äº›æ‰“åŒ…åçš„èµ„æºå¯¹å¤–çš„çš„æ ¹ç›®å½•å°±æ˜¯publicPath é€šè¿‡è®¿é—® http://localhost:8080/webpack-dev-serverå¯ä»¥å¾—åˆ°devServerå¯åŠ¨åçš„èµ„æºè®¿é—®è·¯å¾„ï¼Œç‚¹å‡»é™æ€èµ„æºå¯ä»¥çœ‹åˆ°é™æ€èµ„æºçš„è®¿é—®è·¯å¾„ä¸º http://localhost:8080${publicPath}index.html 123456// å‡è®¾devServerçš„publicPathä¸ºconst publicPath = &apos;/dist/&apos;// åˆ™å¯åŠ¨devServeråindex.htmlçš„ä½ç½®ä¸ºconst htmlPath = `$&#123;pablicPath&#125;index.html`// åŒ…çš„ä½ç½®cosnt mainJsPath = `$&#123;pablicPath&#125;main.js` ä»¥ä¸Šå¯ä»¥ç›´æ¥é€šè¿‡http://lcoalhost:8080/dist/main.jsè®¿é—®åˆ° html-webpack-pluginä¸­çš„ä¼šå—åˆ°è·¯å¾„å½±å“çš„å±æ€§template ä½œç”¨ï¼šç”¨äºå®šä¹‰æ¨¡ç‰ˆæ–‡ä»¶çš„è·¯å¾„ æºç ï¼šthis.options.template = this.getFullTemplatePath(this.options.template, compiler.context); å› æ­¤templateåªæœ‰å®šä¹‰åœ¨webpackçš„contextä¸‹æ‰ä¼šè¢«è¯†åˆ«ï¼Œwebpack contextçš„é»˜è®¤å€¼ä¸ºprocess.cwd()ï¼Œå³è¿è¡Œ node å‘½ä»¤æ—¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ filename ä½œç”¨ï¼šè¾“å‡ºçš„HTMLæ–‡ä»¶åï¼Œé»˜è®¤ä¸ºindex.htmlï¼Œå¯ä»¥ç›´æ¥é…ç½®å¸¦æœ‰å­ç›®å½• æºç ï¼šthis.options.filename = path.relative(compiler.options.output.path, filename); æ‰€ä»¥filenameçš„è·¯å¾„æ˜¯ç›¸å¯¹äºoutput.pathçš„ï¼Œè€Œåœ¨webpack-dev-serverä¸­ï¼Œåˆ™æ˜¯ç›¸å¯¹äºwebpack-dev-serveré…ç½®çš„publicPathã€‚ å¦‚æœwebpack-dev-serverçš„publicPathå’Œoutput.publicPathä¸ä¸€è‡´ï¼Œåœ¨ä½¿ç”¨html-webpack-pluginå¯èƒ½ä¼šå¯¼è‡´å¼•ç”¨é™æ€èµ„æºå¤±è´¥ï¼Œå› ä¸ºåœ¨devServerä¸­ä»ç„¶ä»¥output.publicPathå¼•ç”¨é™æ€èµ„æºï¼Œå’Œwebpack-dev-serverçš„æä¾›çš„èµ„æºè®¿é—®è·¯å¾„ä¸ä¸€è‡´ï¼Œä»è€Œæ— æ³•æ­£å¸¸è®¿é—®ã€‚ æœ‰ä¸€ç§æƒ…å†µé™¤å¤–ï¼Œå°±æ˜¯output.publicPathæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè¿™æ—¶å€™å¯ä»¥è®¿é—®æœ¬åœ°èµ„æº æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹éƒ½è¦ä¿è¯devServerä¸­çš„publicPathä¸output.publicPathä¿æŒä¸€è‡´ã€‚ è·¯å¾„æ–œæ é…ç½®ä¸­/ä»£è¡¨urlæ ¹è·¯å¾„ï¼šï¼ˆä¾‹å¦‚http://localhost:8080/dist/js/test.jsä¸­çš„http://localhost:8080/ï¼‰ devServer devServer.contentBase å‘Šè¯‰æœåŠ¡å™¨ä»å“ªé‡Œæä¾›å†…å®¹ã€‚åªæœ‰åœ¨ä½ æƒ³è¦æä¾›é™æ€æ–‡ä»¶æ—¶æ‰éœ€è¦ã€‚ devServer.publicPath å°†ç”¨äºç¡®å®šåº”è¯¥ä»å“ªé‡Œæä¾› bundleï¼Œå¹¶ä¸”æ­¤é€‰é¡¹ä¼˜å…ˆã€‚ nodeä¸­çš„è·¯å¾„æ–‡ä»¶ç»“æ„ï¼š123456app/ -lib/ -common.js -model -task.js -test.js task.js 123456var path = require('path');console.log(__dirname); // console.log(__filename);console.log(process.cwd());console.log(path.resolve('./')); åœ¨ model ç›®å½•ä¸‹è¿è¡Œ node task.js å¾—åˆ°çš„è¾“å‡ºæ˜¯ï¼š 1234/Users/guo/Sites/learn/app/model/Users/guo/Sites/learn/app/model/task.js/Users/guo/Sites/learn/app/model/Users/guo/Sites/learn/app/model åœ¨ app ç›®å½•ä¸‹è¿è¡Œ node model/task.jsï¼Œå¾—åˆ°çš„è¾“å‡ºæ˜¯ï¼š 1234/Users/guo/Sites/learn/app/model/Users/guo/Sites/learn/app/model/task.js/Users/guo/Sites/learn/app/Users/guo/Sites/learn/app ç»å¯¹è·¯å¾„ __dirname: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js æ‰€åœ¨æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ __filename: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js çš„ç»å¯¹è·¯å¾„ process.cwd(): æ€»æ˜¯è¿”å›è¿è¡Œ node å‘½ä»¤æ—¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ ç›¸å¯¹è·¯å¾„ ./ : åœ¨ require() ä¸­ä½¿ç”¨æ˜¯è·Ÿ __dirname çš„æ•ˆæœç›¸åŒï¼Œä¸ä¼šå› ä¸ºå¯åŠ¨è„šæœ¬çš„ç›®å½•ä¸ä¸€æ ·è€Œæ”¹å˜ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹è·Ÿ process.cwd() æ•ˆæœç›¸åŒï¼Œæ˜¯ç›¸å¯¹äºå¯åŠ¨è„šæœ¬æ‰€åœ¨ç›®å½•çš„è·¯å¾„ã€‚ ../ requireçš„è·¯å¾„å¿…é¡»æ˜¯ç›¸å¯¹äºå½“å‰æ‰§è¡Œæ–‡ä»¶çš„,åªæœ‰åœ¨ require() æ—¶æ‰ä½¿ç”¨ç›¸å¯¹è·¯å¾„(./, ../) çš„å†™æ³•ï¼Œå…¶ä»–åœ°æ–¹ä¸€å¾‹ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå¦‚ä¸‹ï¼š 1234// å½“å‰ç›®å½•ä¸‹path.dirname(__filename) + '/test.js';// ç›¸é‚»ç›®å½•ä¸‹path.resolve(__dirname, '../lib/common.js');","tags":[]},{"title":"è‡ªå·±å†™ cli æé«˜å·¥ä½œæ•ˆç‡","date":"2018-12-21T07:06:44.000Z","path":"2018/12/21/è‡ªå·±å†™ cli æé«˜å·¥ä½œæ•ˆç‡/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– cli å·¥å…·éœ€è¦æ»¡è¶³çš„éœ€æ±‚ è·å¾—ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶ä¸”æ ¹æ®ç›¸åº”çš„è¾“å…¥ï¼Œå¯ä»¥å®šåˆ¶ç¼–ç¨‹ç›¸åº”æ‰§è¡Œé€»è¾‘ æ¨¡æ¿ä»£ç æœ‰ä¸¤ç§å®ç°æ€è·¯ï¼Œä¸€æ˜¯é‡‡ç”¨ä»£ç ç”Ÿæˆï¼ŒäºŒæ˜¯åˆ†ç¦»é™æ€èµ„æºæ¨¡æ¿ ä½¿ç”¨åŒ…ç®¡ç†å·¥å…· é¡¹ç›®éœ€æ±‚ è‡ªåŠ¨åˆ›å»ºç»„ä»¶éœ€è¦çš„ç›®å½• è‡ªåŠ¨æ·»åŠ æ¨¡ç‰ˆä»£ç  æ·»åŠ ç»„ä»¶ js å’Œ css ä»£ç  æ¨èåŒ…commandercommander.js commanderæ˜¯ç›®å‰å¾ˆæˆç†Ÿçš„Nodeå‘½ä»¤è¡Œäº¤äº’æ¥å£å®ç°å·¥å…·ï¼Œä½¿ç”¨è¯¥å·¥å…·å¯ä»¥å¾ˆä¾¿æ·å¾ˆå¿«é€Ÿåœ°å®ç°ç¬¬ä¸€ç‚¹éœ€æ±‚ git-clonegit-cloneæ˜¯ä¸€ä¸ªå¾ˆè½»é‡çš„Nodeç¼–å†™çš„git cloneå°è£…ï¼Œå¯ä»¥å¾ˆä¾¿æ·å¾ˆå¿«é€Ÿåœ°ä»githubä¸Šå…‹éš†æ‰§è¡Œé¡¹ç›®æ¨¡æ¿ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†é¡¹ç›®æ¨¡æ¿é™æ€å­˜å‚¨åœ¨githubä¸Šï¼Œæ¯å½“æ‰§è¡Œcliå‘½ä»¤æ—¶ï¼Œå°†å…¶ä¸‹è½½ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾ˆè½»æ¾åœ°å¾—åˆ°äº†é¡¹ç›®ä»£ç æ¨¡æ¿ã€‚å¦å¤–ï¼Œå½“éœ€è¦æ”¹å˜é¡¹ç›®æ¨¡æ¿ä»£ç æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹githubä¸Šçš„é¡¹ç›®ä»£ç å°±å¯ä»¥ï¼Œcliå·¥å…·æ— éœ€ä¿®æ”¹ shelljsshelljsåŒæ ·æ˜¯ä¸€ä¸ªå¾ˆè½»é‡çš„Nodeç¼–å†™çš„ç³»ç»Ÿå‘½ä»¤å°è£…ï¼Œå¯ä»¥å¾ˆä¾¿æ·å¾ˆå¿«é€Ÿåœ°åœ¨Nodeä»£ç ä¸­ä½¿ç”¨ç³»ç»Ÿå‘½ä»¤ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå› ä¸ºä»githubä¸Šä¸‹è½½çš„é¡¹ç›®ä»£ç ä¼šå¸¦æœ‰.gitæ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨rmå‘½ä»¤å°†å…¶åˆ é™¤ chalkç”¨äºé«˜äº®ç»ˆç«¯æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ requestå‘é€httpè¯·æ±‚çš„å·¥å…· åˆå§‹åŒ–é¡¹ç›®1234mkdir rc-newcd rc-newnpm init -yyarn add react åˆ›å»ºæ¨¡æ¿æ–‡ä»¶React æ–°å»ºç»„ä»¶çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š ç±»ç»„ä»¶ï¼šclass.jsx å‡½æ•°ç»„ä»¶: functional.jsx çº¯ç»„ä»¶: pure-class.jsx 12345mkdir src cd srcmkdir templatecd templatetouch class.jsx functional.jsx pure-class.jsx 1234567891011// class.jsximport React, &#123; Component &#125; from 'react';// COMPONENT_NAME æ˜¯å ä½ç¬¦class COMPONENT_NAME extends Component &#123; render() &#123; return &lt;div /&gt;; &#125;&#125;export default COMPONENT_NAME; 12345678import React from 'react';const COMPONENT_NAME = () =&gt; &#123; return &lt;div /&gt;;&#125;;export default COMPONENT_NAME; 12345678910import React, &#123; PureComponent &#125; from 'react';class COMPONENT_NAME extends PureComponent &#123; render() &#123; return &lt;div /&gt;; &#125;&#125;export default COMPONENT_NAME; å‘½ä»¤è¡Œå·¥å…·1ã€package.json è®¾ç½®å…¥å£æ–‡ä»¶123\"bin\": &#123; \"rc-new\": \"./src/index.js\" &#125;, 2ã€åœ¨ bin/index.js é¡¶éƒ¨å£°æ˜æ­¤æ–‡ä»¶éœ€è¦è°ƒç”¨ Node.js æ‰§è¡Œ1#!usr/bin/env/ node 3ã€å‘½ä»¤è¡Œäº¤äº’æ¨¡å— commander.js1yarn add chalk commander prettier 1const program = require('commander') æ‰§è¡Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿›å…¥å½“å‰å¼€å‘æ–‡ä»¶å¤¹,è¾“å…¥å‘½ä»¤bin/index.jsï¼Œå³å¯ä»¥è¾“å‡ºâ€œmy first cliâ€ æˆ‘ä»¬å¦‚ä½•åƒå‘å¸ƒåä¸€æ ·ï¼Œç›´æ¥è¾“node-cliå‘½ä»¤å°±å¯ä»¥è°ƒç”¨æˆ‘ä»¬çš„ä¸»æ–‡ä»¶å‘¢ï¼Ÿ åœ¨å¼€å‘ç›®å½•æ‰§è¡Œsudo npm linkå°†æ¨¡å—é“¾æ¥åˆ°å…¨å±€ï¼Œå¦‚æƒ³å»æ‰ linkï¼Œæ‰§è¡Œsudo npm unlink","tags":[]},{"title":"webpack To V4 from V3","date":"2018-12-19T10:11:47.000Z","path":"2018/12/19/webpack To V4 from V3/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– Node.jsNode.js &gt;= V6 Cliwebpack-cli éœ€è¦å•ç‹¬å®‰è£… æ’ä»¶è®¸å¤šæ’ä»¶éœ€è¦æ›´æ–°åˆ°æœ€æ–°çš„å¯å…¼å®¹ç‰ˆæœ¬ modeæ–°ç‰¹æ€§ç”¨æ¥åŒºåˆ†ç¯å¢ƒ1234module.exports = &#123; // ... mode: 'production',&#125; æˆ–è€…é€šè¿‡å‘½ä»¤è¡ŒCliå‘½ä»¤ï¼š--mode production/--mode development å·²ç§»é™¤|åˆ†ç¦»çš„æ’ä»¶prod æ¨¡å¼ç§»é™¤çš„æ’ä»¶123456789module.exports = &#123; // ... plugins: [- new NoEmitOnErrorsPlugin(),- new ModuleConcatenationPlugin(),- new DefinePlugin(&#123; \"process.env.NODE_ENV\": JSON.stringify(\"production\") &#125;)- new UglifyJsPlugin() ],&#125; dev æ¨¡å¼ç§»é™¤çš„æ’ä»¶123456module.exports = &#123; // ... plugins: [- new NamedModulesPlugin() ],&#125; å·²ç»åˆ†ç¦»çš„æ’ä»¶1234567module.exports = &#123; // ... plugins: [- new NoErrorsPlugin(),- new NewWatchingPlugin() ],&#125; å†è§ CommonsChunkPluginæå–å…¬å…±ä»£ç  webpack4.0 ä¸å†ä½¿ç”¨CommonsChunkPluginï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å†…ç½®çš„ optimization.splitChunks ï¼Œé»˜è®¤çš„é…ç½®æˆ–è®¸å¯ä»¥å®Œå…¨æ»¡è¶³ä½ çš„éœ€æ±‚ 1ã€commonchunké…ç½®é¡¹è¢«å½»åº•å»æ‰ï¼Œä¹‹å‰éœ€è¦é€šè¿‡é…ç½®ä¸¤æ¬¡ new webpack.optimize.CommonsChunkPlugin æ¥åˆ†åˆ«è·å– vendor å’Œ manifest çš„é€šç”¨chunkæ–¹å¼å·²ç»åšäº†æ•´åˆï¼Œ ç›´æ¥åœ¨optimizationä¸­é…ç½® runtimeChunk å’Œ splitChunks å³å¯ ï¼Œæå–åŠŸèƒ½ä¹Ÿæ›´ä¸ºå¼ºå¤§2ã€runtimeChunk å¯ä»¥é…ç½®æˆ trueï¼Œsingle æˆ–è€…å¯¹è±¡ï¼Œç”¨è‡ªåŠ¨è®¡ç®—å½“å‰æ„å»ºçš„ä¸€äº›åŸºç¡€chunkä¿¡æ¯ï¼Œç±»ä¼¼ä¹‹å‰ç‰ˆæœ¬ä¸­çš„ manifest ä¿¡æ¯è·å–æ–¹å¼ã€‚3ã€webpack.optimize.UglifyJsPlugin ç°åœ¨ä¹Ÿä¸éœ€è¦äº†ï¼Œåªéœ€è¦ä½¿ç”¨ optimization.minimize ä¸º true å°±è¡Œï¼Œproduction modeä¸‹é¢è‡ªåŠ¨ä¸º trueï¼Œå½“ç„¶å¦‚æœæƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„å‹ç¼©æ’ä»¶ä¹Ÿå¯ä»¥åœ¨ optimization.minimizer çš„æ•°ç»„åˆ—è¡¨ä¸­è¿›è¡Œé…ç½® 1234567891011121314151617181920212223242526module.exports = &#123; //... optimization: &#123; splitChunks: &#123; chunks: 'async', minSize: 30000, maxSize: 0, minChunks: 1, maxAsyncRequests: 5, maxInitialRequests: 3, automaticNameDelimiter: '~', name: true, cacheGroups: &#123; vendors: &#123; test: /[\\\\/]node_modules[\\\\/]/, priority: -10 &#125;, default: &#123; minChunks: 2, priority: -20, reuseExistingChunk: true &#125; &#125; &#125; &#125;&#125;; å†è§ extract-text-webpack-pluginæå– JS ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ webpack4.0 ä¸å†ä½¿ç”¨ extract-text-webpack-pluginï¼Œå–è€Œä»£ä¹‹çš„æ˜¯mini-css-extract-plugin 123456789101112131415161718192021222324252627// webpack.dev.jsconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");const devMode = process.env.NODE_ENV !== 'production'module.exports = &#123; plugins: [ new MiniCssExtractPlugin(&#123; // Options similar to the same options in webpackOptions.output // both options are optional filename: devMode ? '[name].css' : '[name].[hash].css', chunkFilename: devMode ? '[id].css' : '[id].[hash].css', &#125;) ], module: &#123; rules: [ &#123; test: /\\.(le|c)ss$/, use: [ devMode ? 'style-loader' : MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader', 'less-loader', ], &#125; ] &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435// webpack.prod.jsconst UglifyJsPlugin = require(\"uglifyjs-webpack-plugin\");const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");const OptimizeCSSAssetsPlugin = require(\"optimize-css-assets-webpack-plugin\");module.exports = &#123; optimization: &#123; minimizer: [ new UglifyJsPlugin(&#123; cache: true, parallel: true, // å¤šçº¿ç¨‹ sourceMap: true // set to true if you want JS source maps &#125;), new OptimizeCSSAssetsPlugin(&#123;&#125;) ] &#125;, plugins: [ new MiniCssExtractPlugin(&#123; filename: \"[name].css\", chunkFilename: \"[id].css\" &#125;) ], module: &#123; rules: [ &#123; test: /\\.(sa|sc|c)ss$/, use: [ MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader', 'less-loader', ], &#125; ] &#125;&#125; import() and CommonJSå½“é€šè¿‡ import() å¯¼å…¥ non-esm.js çš„ç»“æœæ—¶ï¼Œç°åœ¨ä½ éœ€è¦é€šè¿‡ default å±æ€§æ¥è·å– module.exports çš„å€¼ 123456# non-esm.jsmodule.exports = &#123; sayHello: () =&gt; &#123; console.log('hello world'); &#125;&#125;; 123456# example.jscfunction sayHello() &#123; import('./non-esm.js').then(module =&gt; &#123; module.default.sayHello(); &#125;);&#125; json and loaderså½“ç”¨è‡ªå®šä¹‰çš„loaderæ¥è½¬æ¢ .json æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ·»åŠ  module.rules.type1234567891011module.exports = &#123; // ... rules: [ &#123; test: /config\\.json$/, loader: 'special-loader',+ type: 'javascript/auto', options: &#123;...&#125; &#125; ]&#125;; å¦‚æœä½¿ç”¨ json-loader ï¼Œå¯ä»¥ç§»é™¤ 123456789module.exports = &#123; // ... rules: [ &#123;- test: /\\.json$/,- loader: 'json-loader' &#125; ]&#125;; module.loadersmodule.loaders å·²ç§»é™¤ï¼Œè¢« module.rules å–ä»£ å‚è€ƒèµ„æºæ›´å¤šæ’ä»¶è¯·è§ https://webpack.js.org/plugins/ æŠ¥é”™ä¿¡æ¯","tags":[]},{"title":"VScode æ’ä»¶å·¥å…·é›†ï¼Œä¸æ±‚å…¨ä½†æ±‚å¥½","date":"2018-12-18T07:36:06.000Z","path":"2018/12/18/VScode æ’ä»¶å·¥å…·é›†ï¼Œä¸æ±‚å…¨ä½†æ±‚å¥½/","text":"æ›´å¤šæ’ä»¶å¯ä»¥åˆ°å®˜ç½‘è‡ªè¡Œæ¢ç´¢ æ ¹æ®è°ƒæŸ¥å‘ç°ï¼ŒVScode å’Œ sublime æ˜¯å‰ç«¯å¼€å‘è€…æ¯”è¾ƒå–œæ¬¢çš„ IDE ã€‚â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨â€ï¼Œæˆ‘æ˜¯ä¸€ä¸ªçˆ±æŠ˜è…¾çš„å·¥å…·æ§ï¼Œåˆšå¼€å§‹ç”¨ VScode çš„æ—¶å€™ï¼Œè£…äº†ä¸€å †çš„æ’ä»¶ï¼Œå¯¼è‡´åªè¦å¼€å¯ VScode å†æ¥ä¸Šå¤§å±ï¼Œæˆ‘çš„ Mac å°±ä¼šå¼ºçƒˆçš„åæŠ—ï¼Œé£æ‰‡ä¸€ç›´å‘¼å•¸ï¼ŒğŸ˜³ğŸ˜³â€¦.åæ¥å°±å¼€å¯å¸è½½æ¨¡å¼ï¼Œå¼€å§‹ä¸€ç›´å¸ï¼Œæœ€ç»ˆä¿ç•™ä¸€äº›å°è€Œç¾ï¼Œä½¿ç”¨ç‡é«˜çš„æ’ä»¶ï¼Œæ•´ç†ä¸€ä»½ä»¥ä¾¿ä¸å¤‡ä¹‹éœ€ã€‚ è€Œå¯¹äºä¸€ä¸ªå›¢é˜Ÿè€Œè¨€ï¼Œå¤§å®¶ç”¨åŒä¸€å¥—å¿«æ·é”®ï¼ŒåŒä¸€ä¸ªIDEï¼ŒåŒä¸€å¥—æ’ä»¶ï¼Œé‚£ä¹ˆç»“å¯¹ç¼–ç¨‹å°†ä¼šæ˜¯ä¸€ä»¶ç‰¹åˆ«å¹¸ç¦çš„äº‹æƒ…ã€‚å’Œå¸…å“¥å“¥ä¸€èµ·ç¼–ç¨‹è¿˜æ˜¯å¯ä»¥å­¦åˆ°å¾ˆå¤šä¸œè¥¿çš„ï¼Œå˜»å˜»ï½ï½ ä¸€ã€ä»£ç å¿«æ·é”®åœ¨ VScode çš„é¦–é¡µå¯ä»¥è®¾ç½®é€šç”¨å¿«æ·é”®ï¼Œå› ä¸ºå¹³å¸¸ç”¨sublimeæ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å¹²è„†åˆå¹¶æˆä¸€å¥—ã€‚ äºŒã€ä»£ç æç¤ºPath Intellisenseè‡ªåŠ¨è·¯å¾„è¡¥å…¨ Document thisjs çš„æ³¨é‡Šæ¨¡æ¿ ï¼ˆæ³¨æ„ï¼šæ–°ç‰ˆçš„ vscode å·²ç»åŸç”Ÿæ”¯æŒ,åœ¨ function ä¸Šè¾“å…¥ /** tab ï¼‰ ä¸‰ã€ä»£ç æ ¼å¼ESlintä»£ç è§„èŒƒï¼Œå¯¹ä¸ç¬¦åˆè¦æ±‚çš„ä»£ç æˆ–è€…æœ‰è¯­æ³•é”™è¯¯çš„JSä»£ç è¿›è¡Œæç¤ºï¼Œå¯ä»¥è‡ªå®šåˆ¶æç¤ºè§„åˆ™ HTMLHinthtmlä»£ç æ£€æµ‹ beautifyæ ¼å¼åŒ–ä»£ç çš„å·¥å…· å››ã€ä»£ç å¯è§†åŒ–æ”¹å–„colorizeå¯è§†åŒ–é¢œè‰²å“¦ï¼Œåšç»„ä»¶æ¶‰åŠå¾ˆå¤šä¸åŒçš„ä¸»é¢˜ï¼Œä¸ªäººè¿˜æ˜¯è›®ç¨€é¥­çš„ RegExp Preview and Editorè¿™ä¸ªå°±å‰å®³äº†.å¯ä»¥å®Œç¾çš„å±•ç¤ºä½ å†™çš„æ­£åˆ™,å›¾å½¢åŒ–ç»™ä½ çœ‹ä½ å†™æ­£åˆ™çš„å½¢æˆ Better Commentsæœ€å¥½ç”¨çš„æ³¨é‡ŠåŒºåŸŸé«˜äº®,å¯¹äºTODOè¿™äº›æ”¯æŒä¹Ÿå¾ˆå¥½ BreadCrumb in StatusBar åä¸½ä¸½çš„åˆ†å‰²çº¿ï¼Œä»¥ä¸‹æ’ä»¶æ ¹æ®æ¡†æ¶è¯­è¨€é€‰æ‹©ï¼Œç”¨ä»€ä¹ˆè£…ä»€ä¹ˆï¼Œä¸ç”¨å°±ä¸è¦è£…äº†ï¼Œæµªè´¹å†…å­˜ äº”ã€React æ’ä»¶ES7 React/Redux/GraphQL/React-Native snippetsæ¶µç›–çš„ä»£ç ç‰‡æ®µè´¼ä¸°å¯Œï¼ŒReact ç›¸å…³ä»£ç æç¤ºæœ‰è¿™ä¸ªå°±å¤Ÿäº† Useful React Snippetså½“ç„¶å¦‚æœä½ åªç”¨React,é‚£ç”¨è¿™ä¸ªä»£ç æç¤ºå§ï¼Œç®¡å¤Ÿäº† CSS Blocksæ”¯æŒ css æ¨¡å—åŒ–çš„æ™ºèƒ½æç¤ºï¼Œè·³è½¬ï¼Œå¢™è£‚æ¨è styled-components-snippetsstyled-components çš„ä»£ç ç‰‡æ®µ å…­ã€Vue æ’ä»¶veturè¯­æ³•é«˜äº®ã€æ™ºèƒ½æ„ŸçŸ¥ã€Emmet ç­‰ VueHelpersnippet ä»£ç ç‰‡æ®µ Vue VSCode Snippetså¾ˆå…¨é¢çš„vueä»£ç ç‰‡æ®µ ä¸ƒã€Nodeeggjsè›‹æ¡†çš„ç›¸å…³å¸®åŠ©æ’ä»¶,ä»£ç ç‰‡æ®µ,æ™ºèƒ½æç¤ºç­‰ egg-jump-definitionè›‹æ¡†çš„å‡½æ•°è·³è½¬ï¼šCmd+4 å…«ã€å¾®ä¿¡å°ç¨‹åºmpvue snippetsmpvueçš„ä¸€äº›ä»£ç ç‰‡æ®µ,ä»¥åŠéƒ¨åˆ†åŸç”Ÿå°ç¨‹åºçš„ä»£ç æç¤º minappç”¨VS Codeå†™å°ç¨‹åºå¿…å¤‡çš„æ’ä»¶,é‡Œé¢æœ‰ä¼—å¤šå®ç”¨çš„ç‰¹æ€§é›†æˆ ä¹ã€Markdown æ’ä»¶Markdown All in OneMarkdown çš„æç¤ºæ’ä»¶ç”¨è¿™ä¸€ä¸ªè¶³ä»¥ï¼Œé›†æˆäº†è¯­æ³•å¿«æ·é”®ã€Mathã€é¢„è§ˆç­‰ï¼Œå¾ˆå®ç”¨ markdownlintå¯¹ markdown çš„è¯­æ³•æ ¼å¼è§„èŒƒè¿›è¡Œä»£ç æç¤º åã€ä»£ç å®¡æŸ¥CodeMetricså¯ä»¥è®¡ç®—TS/JSå†…ä»£ç çš„å¤æ‚åº¦(æ¯”å¦‚å‡½æ•°è¿™äº›),è¿™äº›ä¸ä»£ç è´¨é‡å’Œæ€§èƒ½æ˜¯æŒ‚é’©çš„ Import Costå°±æ˜¯ä½ importä¸€ä¸ªä¸œè¥¿çš„æ—¶å€™,å¯ä»¥è®¡ç®—æ”¹å¼•å…¥æ¨¡å—çš„å¤§å°! Git Lensæš‚æ—¶æ²¡æœ‰å‘ç°æ¯”è¿™ä¸ªçœ‹gitè®°å½•æ›´ä¸ºè¯¦ç»†äº† åä¸€ã€å…¶ä»–ä¸‹é¢çš„æ’ä»¶å¯æœ‰å¯æ— ï¼Œå¦‚æœ‰ç›¸åº”åŠŸèƒ½çš„éœ€æ±‚ï¼Œå´ä¹Ÿæ˜¯éå¸¸æ£’çš„æ’ä»¶ fileheaderé¡¶éƒ¨æ³¨é‡Šæ¨¡æ¿ï¼Œå¯å®šä¹‰ä½œè€…ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œå¹¶ä¼šè‡ªåŠ¨æ›´æ–°æœ€åä¿®æ”¹æ—¶é—´ ctrl+alt+i Paste JSON as CodeJSON æ ¼å¼è½¬æ¢æˆå…¶ä»–çš„è¯­è¨€æ ¼å¼ Node.js Modules Intellisenseå¯¹äº node_module çš„æ™ºèƒ½æç¤º npm-import-package-versionæ˜¾ç¤ºå¯¼å…¥çš„ npm åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ File Tree Viewæä¾›å‡ ä¸ªå¸¸è§ç¼–ç¨‹è¯­è¨€çš„å‡½æ•°æˆ–çŠ¶æ€çš„æ ‘é›†åˆå±•ç¤º,å¯ä»¥å¿«é€Ÿç‚¹å‡»è·³è½¬!! NPM-Scriptsåœ¨ä¾§è¾¹æ å¯è§†åŒ–æ‰§è¡Œ npm å‘½ä»¤(é¡¹ç›®å†…çš„package.json), å°å·§å®ç”¨ :emojisense: åäºŒã€ä»£ç ç‰‡æ®µä¸¤ç§æ–¹å¼å®šä¹‰ä»£ç ç‰‡æ®µ èœå•æ -&gt;æ–‡ä»¶-&gt;é¦–é€‰é¡¹-&gt;ç”¨æˆ·ä»£ç ç‰‡æ®µ ctrl+shift + p =&gt; snippet toRem: åªæ˜¯ä¸€ä¸ªå•çº¯çš„æè¿° prefix: æ˜¯è§¦å‘snippetçš„ç®€å†™ body: æ˜¯å±•å¼€çš„ä»£ç ç‰‡æ®µ \\$1,\\$2ï¼šè¡¨ç¤ºå ä½ç¬¦ï¼Œç”¨äºç”¨æˆ·å±•å¼€ä»£ç ç‰‡æ®µæ‰€éœ€è¦æ›¿æ¢çš„ï¼Œä¹Ÿå¯ä»¥å†™æˆ\\${1:label}é”®å€¼å¯¹çš„æ–¹å¼ description: ç”¨æˆ·ä½ åœ¨è¾“å‡ºsnippetä¹‹å‰ï¼Œæ–¹ä¾¿è‡ªå·±è¯†åˆ«çš„æ³¨é‡Šï¼Œè€Œä¸ç”¨å¼ºè¡Œè®°å¿†é‚£äº›ç®€å†™çš„","tags":[]},{"title":"package.json çš„è§£è¯»","date":"2018-12-17T07:09:31.000Z","path":"2018/12/17/package.json çš„è§£è¯»/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– å®˜æ–¹å­—æ®µjson å’Œ JS å¯¹è±¡çš„åŒºåˆ«package.jsonï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼Œè€Œä¸èƒ½å†™å…¥JSå¯¹è±¡ã€‚æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦ææ‡‚çš„æ˜¯JSONå’ŒJSå¯¹è±¡çš„åŒºåˆ«ï¼š åŒºåˆ« Json Javascriptå¯¹è±¡ å«ä¹‰ ä»…ä»…æ˜¯ä¸€ç§æ•°æ®æ ¼å¼ è¡¨ç¤ºç±»çš„å®ä¾‹ ä¼ è¾“ å¯ä»¥è·¨å¹³å°æ•°æ®ä¼ è¾“ï¼Œé€Ÿåº¦å¿« ä¸èƒ½ä¼ è¾“ è¡¨ç° 1ã€é”®å€¼å¯¹æ–¹å¼ï¼Œé”®å¿…é¡»åŠ åŒå¼•å· 2ã€å€¼ä¸èƒ½æ˜¯\bæ–¹æ³•å‡½æ•°ï¼Œä¸èƒ½æ˜¯undefined|NaN 1ã€é”®å€¼å¯¹æ–¹å¼ï¼Œé”®ä¸åŠ å¼•å· 2ã€å€¼å¯ä»¥æ˜¯å‡½æ•°ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€æ•°å­—ã€booleanç­‰ ç›¸äº’è½¬æ¢ Jsonè½¬åŒ–ä¸ºJSå¯¹è±¡ï¼š 1ã€JSON.parse(jsonstring); 2ã€json=eval(â€œ(â€œ+jsonstring+â€)â€) JSå¯¹è±¡è½¬æ¢ä¸ºJSON: JSON.stringify(json) ã€æ³¨æ„ã€‘ åœ¨JSONä¸­å±æ€§åä¸€å®šè¦åŠ ä¸ŠåŒå¼•å· name å­—æ®µnameå­—æ®µçš„é™åˆ¶ nameå­—æ®µå¿…é¡»å°äº214å­—ç¬¦ï¼ˆè¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è®°çš„ï½ï¼‰ nameå­—æ®µä¸èƒ½åŒ…å«æœ‰â€œ.â€ç¬¦å·å’Œä¸‹åˆ’çº¿ï¼ˆè¿™ä¸ªè¦è®°ä¸€ä¸‹å“¦ï½ï¼‰ nameå­—æ®µä¸èƒ½åŒ…å«æœ‰å¤§å†™å­—æ¯ï¼ˆè¿™ä¸ªè¦è®°ä¸€ä¸‹å“¦ï½ï¼‰ nameå­—æ®µä¸èƒ½å«æœ‰éURLå®‰å…¨çš„å­—ç¬¦ï¼Œå› ä¸ºå®ƒå°†å½“å‘å¸ƒçš„æ—¶å€™ï¼Œå®ƒå°†ä½œä¸ºä½ çš„åŒ…çš„ç›¸å…³ä¿¡æ¯è¢«å†™å…¥URLä¸­ é‚£ä¹ˆï¼Œæœ‰å“ªäº›ç®—æ˜¯éURLå®‰å…¨çš„å­—ç¬¦å‘¢ï¼Ÿå’±ä»¬çœ‹è¡¨è¯´è¯ï¼š version å­—æ®µnpmå¯¹versionå®šä¹‰çš„è§„åˆ™è¦æ±‚å¯¹äºâ€versionâ€:â€x.y.zâ€1.ä¿®å¤bug,å°æ”¹åŠ¨ï¼Œå¢åŠ z2.å¢åŠ äº†æ–°ç‰¹æ€§ï¼Œä½†ä»èƒ½å‘åå…¼å®¹ï¼Œå¢åŠ y3.æœ‰å¾ˆå¤§çš„æ”¹åŠ¨ï¼Œæ— æ³•å‘åå…¼å®¹,å¢åŠ x ä¾‹å¦‚ï¼šæˆ‘åŸæœ¬çš„é¡¹ç›®æ˜¯1.0.0ç‰ˆæœ¬çš„è¯è‹¥æ˜¯1ä¸­æƒ…å†µï¼Œå˜ä¸º1.0.1è‹¥æ˜¯2ä¸­æƒ…å†µï¼Œå˜ä¸º1.1.0è‹¥æ˜¯3ä¸­æƒ…å†µï¼Œå˜ä¸º2.0.0 npm æœ‰è‡ªå·±çš„æ£€éªŒversionçš„æ¨¡å—â€”â€”node-semvernpmæœ‰è‡ªå·±çš„ä¸€å¥—æ£€éªŒversionæ­£ç¡®æ€§çš„æ¨¡å—ï¼Œå®ƒå«åš node-semverï¼Œæ˜¯ä¸€å¼€å§‹å°±è·Ÿéšç€npmä¸€èµ·è¢«æ‰“åŒ…å®‰è£…çš„ã€‚å½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå·±å®‰è£…å»åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚ä½¿ç”¨çš„ä¾‹å­åƒè¿™æ ·ï¼šå…ˆnpm install â€“save semverç„¶å: 123const semver = require('semver')semver.valid('1.2.3') // '1.2.3'semver.valid('a.b.c') // null keywords å’Œ description å­—æ®µå­—æ®µè¦æ±‚ï¼šdescriptionï¼šå­—ç¬¦ä¸²keywordsï¼šå­—ç¬¦ä¸²æ•°ç»„ ç®€å•åœ°è¯´ï¼Œè¿™ä¸¤ä¸ªä¸œä¸œæ˜¯npmæœç´¢ç³»ç»Ÿä¸­çš„æœç´¢æ¡ä»¶ï¼Œæ‰€ä»¥ã€‚å¦‚æœä½ è¯•å›¾å‘å¸ƒçš„æ˜¯ä¸€ä¸ªå¼€æºæ’ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—æ®µä½ åº”è¯¥é‡è§† license å­—æ®µè¿™æ˜¯ä½ æŒ‡å®šçš„é¡¹ç›®çš„è®¸å¯è¯ï¼Œå®ƒå‘Šè¯‰ä»–äººä»–ä»¬æ˜¯å¦æœ‰æƒåˆ©ä½¿ç”¨ä½ çš„åŒ…ï¼Œä»¥åŠï¼Œåœ¨ä½¿ç”¨ä½ çš„åŒ…çš„æ—¶å€™ä»–ä»¬åº”è¯¥å—åˆ°æ€æ ·çš„é™åˆ¶ å­—æ®µè¦æ±‚ï¼šå•ä¸ªlicenseï¼šç›´æ¥å†™å…¥åç§° 1&#123; \"license\" : \"BSD-3-Clause\" &#125; å¤šä¸ªlicenseï¼šåœ¨ä¸€å¯¹åœ†æ‹¬å·å†…å†™å…¥licenseåç§°ï¼Œä¸”åœ¨å¤šä¸ªlicenseå†…ç”¨ANDç­‰è¿æ¥ 1&#123; \"license\" : \"(ISC AND GPL-3.0)\" &#125; SPDX licenseè¡¨è¾¾å¼çš„è¯­æ³•è§„åˆ™ 2.0ç‰ˆæœ¬ author å­—æ®µè¦æ±‚ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸‰ä¸ªå±æ€§ï¼šnameå±æ€§(å¿…å¡«)emailå±æ€§ï¼ˆé€‰å¡«ï¼‰URLå±æ€§ï¼ˆé€‰å¡«ï¼‰ 1234&#123; \"name\" : \"Barney Rubble\", \"email\" : \"b@rubble.com\", \"url\" : \"http://barnyrubble.tumblr.com/\"&#125; main å­—æ®µè¿™ä¸ªæ˜¯ä½ é¡¹ç›®çš„å…¥å£æ–‡ä»¶ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå½“åˆ«äººå®‰è£…äº†ä½ å‘å¸ƒçš„æ¨¡å—æ—¶ï¼Œrequireä½ çš„æ¨¡å—çš„æ—¶å€™å–å¾—çš„å°±æ˜¯ä½ mainå­—æ®µè§„å®šçš„å…¥å£æ–‡ä»¶çš„è¾“å‡ºã€‚ ä¾‹å¦‚ä½ å†™å…¥äº† { â€œmainâ€:â€XXX.jsâ€}ï¼Œè€Œä»–äººé€šè¿‡npm install â€˜ä½ çš„æ¨¡å—åç§°â€™ . å®‰è£…äº†ä½ çš„æ¨¡å—åï¼Œä»–é€šè¿‡ var X = require(â€˜ä½ çš„æ¨¡å—åç§°â€™)å–å¾—çš„å°±æ˜¯ä½ åœ¨XXX.jsçš„è¾“å‡º script å­—æ®µå†™è¿›scriptsçš„å‘½ä»¤(command),å¯ä»¥é€šè¿‡npm run æˆ–è€…npm è¿è¡Œå¯¹åº”çš„shellæŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼š{â€œscriptsâ€: { â€œstartâ€: â€œnode main.jsâ€} } å¯ä»¥è®©ä½ åœ¨ç»ˆç«¯è¾“å…¥npm startçš„æ—¶å€™ï¼Œç­‰åŒäºè¿è¡Œäº†node main.js ä»€ä¹ˆæ—¶å€™è¦åŠ â€œrunâ€,ä»€ä¹ˆæ—¶å€™å¯ä»¥ä¸ç”¨åŠ â€œrunâ€å‘¢ï¼Ÿä¸€ä¸ªè®©æˆ‘ä»¬å¯èƒ½æœ‰äº›å›°æ‰°çš„é—®é¢˜æ˜¯ï¼Œé€šè¿‡scriptå­—æ®µå†…çš„npmå‘½ä»¤è¿è¡Œè„šæœ¬æ—¶ï¼Œæœ‰æ—¶å€™è¦åŠ â€œrunâ€ï¼Œæœ‰æ—¶å€™åˆä¸è¦åŠ &quot;run&quot;,å³æœ‰æ—¶å€™æ˜¯å¯ä»¥ç›´æ¥ç”¨npm &lt;command&gt;ï¼›è€Œæœ‰æ—¶å€™åˆè¦ç”¨npm run &lt;command&gt; æ‰èƒ½è¿è¡Œè„šæœ¬ï¼Œè¿™è¯¥å¦‚ä½•åŒºåˆ†å‘¢ï¼Ÿ é¦–å…ˆè¦æä¸€ä¸‹çš„æ˜¯ï¼Œrunçš„åŸåæ˜¯run-scriptï¼Œæ˜¯ä¸€æ®µè„šæœ¬ï¼Œè€Œrunæ˜¯å®ƒçš„ä¸€ä¸ªåˆ«åï¼ˆaliasï¼‰ 1.å½“run[-script]è¢« test, start, restart, and stopè¿™å››ä¸ªè‡ªå¸¦çš„å‘½ä»¤æ‰€ä½¿ç”¨æ—¶ï¼Œå®ƒå¯ä»¥è¢«çœç•¥ï¼ˆæˆ–è€…è¯´ä¸éœ€è¦åŠ â€œrunâ€å°±å¯ä»¥ç›´æ¥è°ƒç”¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹³æ—¶æœ€å¸¸è¾“å…¥çš„npm startå®é™…ä¸Šç›¸å½“äºnpm run startï¼Œåªä¸è¿‡æ˜¯ä¸ºäº†æ–¹ä¾¿çœç•¥äº†runè€Œå·² åŸæ–‡ï¼šrun[-script] is used by the test, start, restart, and stop commands, but can be called directly 2.å½“ä½ åœ¨package.jsonçš„scriptå­—æ®µä¸­å®šä¹‰çš„æ˜¯é™¤äº†1ä¸­çš„4ä¸ªå‘½ä»¤å¤–çš„å‘½ä»¤çš„æ—¶å€™ï¼Œä½ å°±ä¸èƒ½çœç•¥â€œrunâ€äº†ä¾‹å¦‚ä½ å®šä¹‰ 123\"scripts\": &#123; \"build\": \"XXX.js\"&#125; çš„æ—¶å€™ï¼Œä½ è¿è¡ŒXXX.jså°±åªèƒ½é€šè¿‡npm run buildå»è¿è¡Œäº† npm ä¸ºscriptå­—æ®µä¸­çš„è„šæœ¬è·¯å¾„éƒ½åŠ ä¸Šäº†node_moudles/.binå‰ç¼€npmä¸ºscriptå­—æ®µä¸­çš„è„šæœ¬è·¯å¾„éƒ½åŠ ä¸Šäº†node_moudles/.binå‰ç¼€ï¼Œè¿™æ„å‘³ç€ï¼šä½ åœ¨è¯•å›¾è¿è¡Œæœ¬åœ°å®‰è£…çš„ä¾èµ–åœ¨ node_modules/.bin ä¸­çš„è„šæœ¬çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥node_modules/.binè¿™ä¸ªå‰ç¼€ã€‚ä¾‹å¦‚ï¼šæˆ‘åˆšnpm install webpackäº†ï¼Œè€Œåœ¨æˆ‘çš„é¡¹ç›®ä¸‹çš„node_modulesç›®å½•çš„.binå­ç›®å½•ä¸‹ï¼šå°±å¤šäº†ä¸€ä¸ªå«åšwebpackçš„è„šæœ¬ æœ¬æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬çš„å‘½ä»¤åº”è¯¥æ˜¯ï¼šnode_modules/.bin webpackä½†ç”±äºnpmå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬åŠ äº†node_modules/.binå‰ç¼€äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å†™æˆï¼š 1\"scripts\": &#123;\"start\": \"webpack\"&#125; è€Œä¸ç”¨å†™æˆï¼š 1\"scripts\": &#123;\"start\": \"node_modules/.bin webpack\"&#125; åŸæ–‡ï¼šnpm run adds node_modules/.bin to the PATH provided to scripts. Any binaries provided by locally-installed dependencies can be used without the node_modules/.bin prefix npm startæ˜¯æœ‰é»˜è®¤å€¼çš„ï¼Œé»˜è®¤ä¸ºï¼šnode server.js better-npm-run çš„å®‰è£…ä¸betterScriptå­—æ®µçš„ä½¿ç”¨è¿™ä¸ªæ˜¯package.jsonæ–‡æ¡£ä»‹ç»é‡Œæ‰€æ²¡æœ‰çš„ï¼Œä½†è¿™é‡Œæˆ‘æƒ³ç‰¹åˆ«è®²ä¸€ä¸‹ï¼š å…ˆé€šè¿‡npm install better-npm-runå®‰è£…å¥½åŒ…ï¼Œç„¶åä½ å°±å¯ä»¥åœ¨ä½ çš„package.jsoné‡Œé¢ä½¿ç”¨ä¸€ä¸ªæ–°çš„å­—æ®µâ€”â€” â€œbetterScriptsâ€å­—æ®µ æ•…åæ€æ„ï¼Œå®ƒå’Œâ€scriptsâ€å­—æ®µå¾ˆåƒï¼Œé‚£ä¹ˆä¸¤è€…é—´æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿå’±è¿˜æ˜¯ç”¨ä»£ç è¯´è¯å§ï¼Œå®ƒå¯ä»¥æŠŠ 123\"scripts\": &#123; \"test\": \"NODE_ENV=production karma start\"&#125; å˜æˆï¼š 1234567891011\"scripts\": &#123; \"test\": \"better-npm-run test\"&#125;,\"betterScripts\": &#123; \"test\": &#123; \"command\": \"karma start\", \"env\": &#123; \"NODE_ENV\": \"test\" &#125; &#125;&#125; ç®€å•åœ°è¯´ï¼Œå°±æ˜¯å½“è¿è¡Œâ€scriptsâ€å­—æ®µä¸­çš„å‘½ä»¤çš„æ—¶å€™ï¼Œå®ƒä¼šè¿›ä¸€æ­¥å»è¿è¡Œ â€œbetterScriptsâ€ä¸­å¯¹åº”çš„å‘½ä»¤ï¼Œå¹¶é€šè¿‡â€envâ€å¯¹è±¡æ§åˆ¶è¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚NODE_ENVã€‚ å¥½å¤„æ˜¯è®©ä½ çš„ä»£ç çš„å¯è¯»æ€§æ›´å¼ºä¸€äº› å¦å¤–æä¸€ä¸‹NODE_ENVçš„ä½œç”¨ï¼šç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆé»˜è®¤å€¼ä¸ºdevelopmentï¼‰ã€‚é€šè¿‡æ£€æŸ¥è¿™ä¸ªå€¼å¯ä»¥åˆ†åˆ«å¯¹å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸‹åšä¸åŒçš„å¤„ç† ä¾‹å¦‚åœ¨æœåŠ¡ç«¯ä»£ç ä¸­é€šè¿‡æ£€æŸ¥æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒï¼ˆdevelopmentï¼‰å†³å®šæ˜¯å¦å¯åŠ¨ä»£ç çƒ­é‡è½½åŠŸèƒ½ ï¼ˆçƒ­é‡è½½åªæ˜¯ä¸ºäº†åœ¨å¼€å‘ç¯å¢ƒã€developmenã€‘æé«˜ç”Ÿäº§æ•ˆç‡ç”¨ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒã€productionã€‘æ²¡ç”¨ï¼‰ 123456if (process.env.NODE_ENV === 'development') &#123;// çœç•¥è¯¸å¤šå†…å®¹app.use(require('webpack-hot-middleware')(compiler, &#123; path: '/__webpack_hmr'&#125;))&#125; dependencies å­—æ®µå’Œ devDependencies å­—æ®µdependencieså­—æ®µå’ŒdevDependencieså­—æ®µåˆ†åˆ«ä»£è¡¨ç”Ÿäº§ç¯å¢ƒä¾èµ–å’Œå¼€å‘ç¯å¢ƒä¾èµ– ä¸ä¸¤ä¸ªå­—æ®µç›¸å…³çš„npm installçš„å‘½ä»¤npm install æ¨¡å— â€“save å®‰è£…å¥½åå†™å…¥package.jsonçš„dependenciesä¸­ï¼ˆç”Ÿäº§ç¯å¢ƒä¾èµ–ï¼‰npm install æ¨¡å— â€“save-dev å®‰è£…å¥½åå†™å…¥package.jsonçš„devDepenciesä¸­ï¼ˆå¼€å‘ç¯å¢ƒä¾èµ–ï¼‰ æ€ä¹ˆåŒºåˆ†åˆ°åº•å®‰è£…åŒ…çš„æ—¶å€™æ”¾åœ¨dependenciesä¸­è¿˜æ˜¯devDepenciesä¸­å‘¢ï¼Ÿ å¾ˆç®€å•1.ä¸€èˆ¬ä½ å»githubæˆ–è€…npmç¤¾åŒºé‡Œé¢ç›¸å…³åŒ…çš„ä»‹ç»åé¢éƒ½ä¼šå¸¦æœ‰â€“save æˆ–è€…â€“save-dev çš„å‚æ•°çš„ï¼Œè¿™æ—¶å€™æŠŠå‘½ä»¤ç›´æ¥å¤åˆ¶è¿‡æ¥è¿è¡Œå°±OKäº†ï¼Œä¸ç”¨ç®¡é‚£ä¹ˆå¤š 2.å¦‚æœæ²¡æœ‰1ä¸­çš„ä»‹ç»ï¼Œé‚£ä¹ˆè¯·æ€è€ƒï¼Œè¿™ä¸ªåŒ…åˆ°åº•æ˜¯çº¯ç²¹ä¸ºäº†å¼€å‘æ–¹ä¾¿ä½¿ç”¨å‘¢ï¼Ÿè¿˜æ˜¯è¦æ”¾åˆ°ä¸Šçº¿åAPPçš„ä»£ç ä¸­å‘¢ï¼Ÿå‰è€…åˆ™ä¸ºdevDepenciesï¼Œåè€…åˆ™ä¸ºdependencies ã€æ³¨æ„ã€‘ï¼šåœ¨å›¢é˜Ÿåä½œä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„æƒ…æ™¯æ˜¯ä»–äººä»githubä¸Šcloneä½ çš„é¡¹ç›®ï¼Œç„¶åé€šè¿‡npm installå®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œï¼ˆåˆšä»githubä¸Šcloneä¸‹æ¥æ˜¯æ²¡æœ‰node_modulesçš„ï¼Œéœ€è¦å®‰è£…ï¼‰é‚£ä¹ˆæ ¹æ®ä»€ä¹ˆä¿¡æ¯å®‰è£…ä¾èµ–å‘¢ï¼Ÿå°±æ˜¯ä½ çš„package.jsonä¸­çš„dependencieså’ŒdevDepenciesã€‚æ‰€ä»¥ï¼Œåœ¨æœ¬åœ°å®‰è£…çš„åŒæ—¶ï¼Œå°†ä¾èµ–åŒ…çš„ä¿¡æ¯ï¼ˆè¦æ±‚çš„åç§°å’Œç‰ˆæœ¬ï¼‰å†™å…¥package.jsonä¸­æ˜¯å¾ˆé‡è¦çš„ï¼ prepublishOnly å­—æ®µ1\"prepublishOnly\": \"npm run build\" è¿™æ ·æ¯æ¬¡æ‰§è¡Œnpm publishå‰éƒ½ä¼šå…ˆæ‰§è¡Œnpm run build peerDependencies å­—æ®µåŒç‰ˆæœ¬ä¾èµ– éå®˜æ–¹å­—æ®µyarn ç›¸å…³å­—æ®µyarn : ç±»ä¼¼ npm çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼Œä½† yarn ç¼“å­˜äº†æ¯ä¸ªä¸‹è½½è¿‡çš„åŒ…ï¼Œæ‰€ä»¥å†æ¬¡ä½¿ç”¨æ—¶æ— éœ€é‡å¤ä¸‹è½½ï¼ŒåŒæ—¶åˆ©ç”¨å¹¶è¡Œä¸‹è½½ä»¥æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ç‡ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦æ›´å¿«ã€‚ flat123&#123; \"flat\": true&#125; å¦‚æœä½ çš„åŒ…åªå…è®¸ç»™å®šä¾èµ–çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œä½ æƒ³å¼ºåˆ¶å’Œå‘½ä»¤è¡Œä¸Š yarn install â€“flat ç›¸åŒçš„è¡Œä¸ºï¼ŒæŠŠè¿™ä¸ªå€¼è®¾ä¸º trueã€‚ è¯¦ç»†å‚è€ƒ yarn - flat.. resolutions12345678&#123; \"resolutions\": &#123; \"transitive-package-1\": \"0.0.29\", \"transitive-package-2\": \"file:./local-forks/transitive-package-2\", \"dependencies-package-1/transitive-package-3\": \"^2.1.1\" &#125; &#125; å…è®¸ä½ è¦†ç›–ç‰¹å®šåµŒå¥—ä¾èµ–é¡¹çš„ç‰ˆæœ¬ã€‚æœ‰å…³å®Œæ•´è§„èŒƒï¼Œè¯·å‚è§é€‰æ‹©æ€§ç‰ˆæœ¬è§£æ RFCã€‚ è¯¦ç»†å‚è€ƒ yarn - resolutions. unpkg ç›¸å…³å­—æ®µunpkg: è®© npm ä¸Šæ‰€æœ‰çš„æ–‡ä»¶éƒ½å¼€å¯ cdn æœåŠ¡ã€‚ unpkg 1234# jquery&#123;\"unpkg\": \"dist/jquery.js\"&#125; æ­£å¸¸æƒ…å†µä¸‹ï¼Œè®¿é—® jquery çš„å‘å¸ƒæ–‡ä»¶é€šè¿‡ https://unpkg.com/jquery@3.3.1/dist/jquery.jsï¼Œå½“ä½ ä½¿ç”¨çœç•¥çš„ url https://unpkg.com/jquery æ—¶ï¼Œä¾¿ä¼šæŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼è·å–æ–‡ä»¶ï¼š [latestVersion] æŒ‡æœ€æ–°ç‰ˆæœ¬å·ï¼Œpkg æŒ‡ package.json å®šä¹‰äº† unpkg å±æ€§æ—¶ https://unpkg.com/jquery@[latestVersion]/[pkg.unpkg] æœªå®šä¹‰ unpkg å±æ€§æ—¶ï¼Œå°†å›é€€åˆ° main å±æ€§ https://unpkg.com/jquery@[latestVersion]/[pkg.main]è¯¦ç»†å‚è€ƒ https://unpkg.com. TypeScript ç›¸å…³å­—æ®µTypeScript: JavaScript çš„è¶…é›†types, typings1234&#123; \"main\": \"./lib/main.js\", \"types\": \"./lib/main.d.ts\"&#125; å°±åƒ main å­—æ®µä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªé’ˆå¯¹ TypeScript çš„å…¥å£æ–‡ä»¶ã€‚ è¯¦ç»†å‚è€ƒ TypeScript documentation. browserslist ç›¸å…³å­—æ®µbrowserslist: è®¾ç½®é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æƒ…å†µã€‚browserslist 123456&#123;\"browserslist\": [\"&gt; 1%\",\"last 2 versions\"]&#125; æ”¯æŒçš„å·¥å…·ï¼š AutoprefixerBabelpostcss-preset-enveslint-plugin-compatstylelint-no-unsupported-browser-featurespostcss-normalizeè¯¦ç»†å‚è€ƒ browserslist. å‘è¡Œæ‰“åŒ…ç›¸å…³å­—æ®µç‚¹å‡» Setting up multi-platform npm packages æŸ¥çœ‹ç›¸å…³ä»‹ç»ã€‚ module1234&#123;\"main\": \"./lib/main.js\",\"module\": \"./lib/main.m.js\"&#125; å°±åƒ main å­—æ®µä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªé’ˆå¯¹ es6 æ¨¡å—åŠè¯­æ³•çš„å…¥å£æ–‡ä»¶ã€‚æ„å»ºå·¥å…·åœ¨æ„å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°äº†è¿™ä¸ªå­—æ®µï¼Œä¼šé¦–å…ˆä½¿ç”¨è¿™ä¸ªå­—æ®µæŒ‡å‘çš„æ–‡ä»¶ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œåˆ™å›é€€åˆ° main å­—æ®µæŒ‡å‘çš„æ–‡ä»¶ã€‚ æ”¯æŒçš„å·¥å…·ï¼š rollupwebpackè¯¦ç»†å‚è€ƒ rollup - pkg.module. browser1234&#123; &quot;main&quot;: &quot;./lib/main.js&quot;, &quot;browser&quot;: &quot;./lib/main.b.js&quot;&#125; æŒ‡å®šè¯¥æ¨¡å—ä¾›æµè§ˆå™¨ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœè¿™ä¸ªå­—æ®µæœªå®šä¹‰ï¼Œåˆ™å›é€€åˆ° main å­—æ®µæŒ‡å‘çš„æ–‡ä»¶ã€‚ æ”¯æŒçš„å·¥å…·ï¼š rollupwebpackbrowserifyè¯¦ç»†å‚è€ƒ babel-plugin-module-resolver. esnext12345&#123;&quot;main&quot;: &quot;main.js&quot;,&quot;esnext&quot;: &quot;main-esnext.js&quot;&#125; 1234567&#123; \"main\": \"main.js\", \"esnext\": &#123; \"main\": \"main-esnext.js\", \"browser\": \"browser-specific-main-esnext.js\" &#125;&#125; ä½¿ç”¨ es æ¨¡å—åŒ–è§„èŒƒï¼Œstage 4 ç‰¹æ€§çš„æºä»£ç ã€‚è¯¦ç»†å‚è€ƒ Transpiling dependencies with Babel, Delivering untranspiled source code via npm. es20151234&#123; \"main\": \"main.js\", \"es2015\": \"main-es2015.js\"&#125; Angular å®šä¹‰çš„æœªè½¬ç çš„ es6 æºç ã€‚è¯¦ç»†å‚è€ƒ https://docs.google.com/document/d/1CZC2rcpxffTDfRDs6p1cfbmKNLA6x5O-NtkJglDaBVs/edit#. esmè¯¦ç»†å‚è€ƒ adjusted proposal: ES module â€œesmâ€: true package.json flag. react-native ç›¸å…³å­—æ®µreact-native: ä½¿ç”¨ react ç»„ä»¶æŠ€æœ¯å†™åŸç”ŸAPPã€‚ react-native1234&#123; \"main\": \"./lib/main.js\", \"react-native\": \"./lib/main.react-native.js\"&#125; æŒ‡å®šè¯¥æ¨¡å—ä¾› react-native ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœè¿™ä¸ªå­—æ®µæœªå®šä¹‰ï¼Œåˆ™å›é€€åˆ° main å­—æ®µæŒ‡å‘çš„æ–‡ä»¶ã€‚ æºä»£ç æŸ¥çœ‹. webpack ç›¸å…³å­—æ®µsideEffects123&#123; \"sideEffects\": true|false&#125; å£°æ˜è¯¥æ¨¡å—æ˜¯å¦åŒ…å« sideEffectsï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œä»è€Œå¯ä»¥ä¸º tree-shaking æä¾›æ›´å¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚è¯¦ç»†å‚è€ƒ sideEffects example, proposal for marking functions as pure, eslint-plugin-tree-shaking. microbundle ç›¸å…³å­—æ®µmicrobundle: åŸºäº rollup é›¶é…ç½®å¿«é€Ÿæ‰“åŒ…å·¥å…·ã€‚ source123&#123; \"source\"ï¼š \"src/index.js\"&#125; æºæ–‡ä»¶å…¥å£æ–‡ä»¶ã€‚ è¯¦ç»†å‚è€ƒ Specifying builds in package.json. umd:main1234&#123; \"umd:main\"ï¼š \"dist/main.umd.js\"&#125; umd æ¨¡å¼ bundle æ–‡ä»¶ã€‚è¯¦ç»†å‚è€ƒ Specifying builds in package.json. parcel ç›¸å…³å­—æ®µparcel: é›¶é…ç½®æ‰“åŒ…å·¥å…·ã€‚ sourceæŸ¥çœ‹ parcel-bundler/parcel#1652. babel ç›¸å…³å­—æ®µbabel: es6 -&gt; es5 è½¬ç å™¨ã€‚ babelé…ç½® babelã€‚ eslint ç›¸å…³å­—æ®µeslint: js ä»£ç æ£€æŸ¥ä¸ä¼˜åŒ–ã€‚ eslintConfigé…ç½® eslintã€‚ jest ç›¸å…³å­—æ®µjest: js æµ‹è¯•åº“ã€‚ jest12345&#123; \"jest\": &#123; \"verbose\": true &#125;&#125; é…ç½® jestã€‚è¯¦ç»†å‚è€ƒ jest docs. stylelint ç›¸å…³å­—æ®µstylelint: style ä»£ç æ£€æŸ¥ä¸ä¼˜åŒ–ã€‚ stylelinté…ç½® stylelintã€‚ è¯¦ç»†å‚è€ƒ New configuration loader. ava ç›¸å…³å­—æ®µava: js æµ‹è¯•åº“ã€‚ ava12345&#123; \"ava\": &#123; \"require\": [ \"@std/esm\" ] &#125;&#125; é…ç½® avaã€‚è¯¦ç»†å‚è€ƒ ava configuration. nyc ç›¸å…³å­—æ®µnyc: istanbul.js å‘½ä»¤è¡Œã€‚ nyc123456&#123; \"nyc\": &#123; \"extension\": [\".js\", \".mjs\"], \"require\": [\"@std/esm\"] &#125;&#125; é…ç½® nycã€‚è¯¦ç»†å‚è€ƒ nyc docs. CommonJS ä¿ç•™å­—æ®µä¿ç•™å­—æ®µ: build, default, email, external, files, imports, maintainer, paths, platform, require, summary, test, using, downloads, uid. ä¸å¯ç”¨å­—æ®µ: id, type, ä»¥ _ å’Œ \\$ å¼€å¤´çš„å­—æ®µã€‚ Standard JS ç›¸å…³å­—æ®µStandard JS: js ä»£ç æ£€æŸ¥ä¸ä¼˜åŒ–ã€‚ standard123456789101112&#123; \"standard\": &#123; \"parser\": \"babel-eslint\", \"ignore\": [ \"**/out/\", \"/lib/select2/\", \"/lib/ckeditor/\", \"tmp.js\" ] &#125;&#125; é…ç½® standard.è¯¦ç»†å‚è€ƒ https://standardjs.com/. å…¶ä»–styleå£°æ˜å½“å‰æ¨¡å—åŒ…å« style éƒ¨åˆ†ï¼Œå¹¶æŒ‡å®šå…¥å£æ–‡ä»¶ã€‚ æ”¯æŒçš„å·¥å…·ï¼š parcelifynpm-lessrework-npmnpm-cssè¯¦ç»†å‚è€ƒ Package.json â€œstyleâ€ Attribute, istf-spec. lessä¸ style ä¸€æ ·ï¼Œä½†æ˜¯æ˜¯ less æ–‡ä»¶ã€‚ æ”¯æŒçš„å·¥å…·ï¼š npm-less æ›´å¤šå‚è€ƒ package.json fields explained å‚è€ƒèµ„æºpackage.json éå®˜æ–¹å­—æ®µé›†åˆå®˜æ–¹å­—æ®µæ–‡æ¡£ï¼šhttps://docs.npmjs.com/files/package.json","tags":[]},{"title":"Dbox å†…éƒ¨å¼€æºç»„ä»¶èƒŒåçš„æ•…äº‹","date":"2018-12-13T07:22:56.000Z","path":"2018/12/13/Dbox å†…éƒ¨å¼€æºç»„ä»¶èƒŒåçš„æ•…äº‹/","text":"download: å‰ç«¯æŠ€æœ¯é€‰å‹ä¼š - IF-RCM â˜.pdf å‰è¨€å·²æœ‰ç»„ä»¶ OR è‡ªé€ ç»„ä»¶ï¼Ÿï¼Ÿï¼ŸåŸºç¡€å’Œçµæ´» VS å®šåˆ¶åŒ–å’Œæ•ˆç‡ å‚ç›´è¡Œä¸šé¢†åŸŸä¸“ä¸šæ€§ç»„ä»¶ å¼ºä¸»é¢˜é£æ ¼ç»„ä»¶ å¼ºäº¤äº’ç»„ä»¶ ç”šè‡³æ˜¯åŒæ¬¾ç»„ä»¶ï¼Œä¸åŒé…ç½® 123&gt; ç»„ä»¶ -&gt; é€šç”¨ç»„ä»¶ -&gt; é€šç”¨ç»„ä»¶åº“ &gt; |-&gt; ä¸šåŠ¡ç»„ä»¶ -&gt; ä¸šåŠ¡ç»„ä»¶åº“ -&gt; è¡Œä¸šæŸ±(n) -&gt; ç»„ä»¶å¹³å° -&gt; ç‰©æ–™å¸‚åœº&gt; è‡ªé€ ç»„ä»¶æˆ‘ä»¬å¾—åˆ°äº†ä»€ä¹ˆ è§„èŒƒ =ã€‹ ä½“ç³» äº§å“åŠŸèƒ½è¿­ä»£ æŠ€æœ¯å˜æ›´(UI è®¾è®¡å±‚å¯ä»¥ä¸å˜) äººäº‹å˜åŠ¨ã€äººæ‰æµå¤± æ²Ÿé€š(è·¨éƒ¨é—¨çš„å…±é€šè¯­è¨€) å®¢æˆ·éœ€æ±‚å¤šæ ·æ€§ æ•ˆèƒ½ å›¢é˜Ÿæˆé•¿ èµ°å‡ºå»çš„å¯èƒ½ ä»€ä¹ˆæ ·çš„äº§å“éœ€è¦ç»„ä»¶èµ‹èƒ½ é‡æå¤§åŠŸèƒ½å¤æ‚ äº§å“é¡¹ç›®å˜åŠ¨é¢‘ç¹ï¼Œå¹¶å‘å¾ˆå¤š äº§å“é—´å¾€å¾€æœ‰è¾ƒé«˜çš„å…³è”æ€§ äº§å“é—´å­˜åœ¨å…±æ€§ ä½¿ç”¨è€…å…·å¤‡å¾ˆå¼ºçš„ä¸“ä¸šæ€§ å¼€æ”¾çš„è¶‹åŠ¿ è®¾è®¡ä½“ç³»ç»„ä»¶çº¬åº¦ AtomsåŸå­ã€‚ ä¸ºç½‘é¡µæ„æˆçš„åŸºæœ¬å…ƒç´ ã€‚ä¾‹å¦‚æŒ‰é’®ï¼Œä¹Ÿå¯ä»¥ä¸ºæŠ½è±¡çš„æ¦‚å¿µï¼Œä¾‹å¦‚å­—ä½“ã€è‰²è°ƒç­‰ã€‚ Moleculesåˆ†å­ã€‚ ç”±åŸå­æ„æˆçš„ç®€å•UIç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œè¡¨å•æ ‡ç­¾ï¼Œæœç´¢æ¡†å’ŒæŒ‰é’®å…±åŒæ‰“é€ äº†ä¸€ä¸ªæœç´¢è¡¨å•åˆ†å­ã€‚ Organismsç»„ç»‡ã€‚ ç”±åŸå­åŠåˆ†å­ç»„æˆçš„ç›¸å¯¹å¤æ‚çš„UIæ„æˆç‰©ã€‚ Templatesæ¨¡ç‰ˆã€‚ å°†ä»¥ä¸Šå…ƒç´ è¿›è¡Œæ’ç‰ˆï¼Œæ˜¾ç¤ºè®¾è®¡çš„åº•å±‚å†…å®¹ç»“æ„ã€‚ Pagesé¡µé¢ã€‚ å°†å®é™…å†…å®¹ï¼ˆå›¾ç‰‡ã€æ–‡ç« ç­‰ï¼‰å¥—ä»¶åœ¨ç‰¹å®šæ¨¡æ¿ï¼Œé¡µé¢æ˜¯æ¨¡æ¿çš„å…·ä½“å®ä¾‹ ç»Ÿä¸€çš„è§†è§‰é£æ ¼å’Œäº¤äº’è§„èŒƒX ç»„ä»¶åœ¨ A ä¸šåŠ¡åœºæ™¯æ˜¯ä¸€ä¸ªäº¤äº’ï¼Œåœ¨ B ä¸šåŠ¡åœºæ™¯æ˜¯å¦ä¸€ä¸ª UI é£æ ¼ï¼Œè¿™æ ·å°±æ— æ³•å¯¹ X è¿›è¡ŒæŠ½è±¡ï¼Œæå¤§çš„å¢åŠ äº†ç»„ä»¶çš„æ„å»ºæˆæœ¬ã€‚æ‰€ä»¥ï¼Œè®¾è®¡ç»„ä»¶ä¹‹åˆï¼Œé¦–å…ˆéœ€è¦æŠ½è±¡å’Œçº¦å®šä¸€å¥—ç»Ÿä¸€çš„è§†è§‰é£æ ¼å’Œäº¤äº’è§„èŒƒã€‚ è¶³å¤Ÿçš„å¯æ‰©å±•æ€§ç»„ä»¶åœ¨è½åœ°åˆ°å®é™…é¡¹ç›®ä¸­æ—¶ï¼Œæœ‰å„ç§ä¸åŒçš„éœ€æ±‚ï¼Œé»˜è®¤çš„å®šåˆ¶åŒ–å¹¶ä¸èƒ½é€‚ç”¨äºä»»ä½•çš„åœºæ™¯ï¼Œåªæœ‰å…·å¤‡è‰¯å¥½æ‹“å±•æ€§çš„ç»„ä»¶æ‰èƒ½åº”ç”¨åˆ°ä¸åŒçš„ä¸šåŠ¡çº¿ï¼Œä»¥â€œä¸å˜åº”ä¸‡å˜â€ ä¸€å®šçš„å¯æ§æ€§ç»„ä»¶å°è£…æœ‰ä¸€å®šçš„ä¸ç¡®å®šæ€§ï¼Œæ›´å¤šæ—¶å€™æ˜¯åœ¨åšå‡ ä¸ªæ–¹é¢çš„æƒè¡¡ï¼Œå¹¶ä¸”åœ¨ä¸šåŠ¡ä¸æ–­å˜åŒ–ä¸­ï¼Œå¯èƒ½è¿˜ä¼šé¢ä¸´ä¸€äº›è°ƒæ•´å’Œé‡æ„ã€‚å°†ä¸ç¡®å®šæ€§æ§åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…ã€‚ ç»„ä»¶é€‚ç”¨æ€§æ£€éªŒæºäºä¸šåŠ¡ï¼Œå½’äºä¸šåŠ¡ã€‚ç¡®ä¿äº§å‡ºå¯ä»¥å¿«é€Ÿçš„åœ¨å®é™…åœºæ™¯ä¸­å¾—åˆ°éªŒè¯ï¼Œå¿«é€Ÿè¯•é”™ã€‚ é€šè¿‡å¼€æºçš„æ–¹å¼è·å–æ›´å¤šçš„åé¦ˆ é€šè¿‡å†…éƒ¨é¡¹ç›®è½åœ°è¿­ä»£ç»„ä»¶API äº§å‡ºç‰© äº§å“å’ŒæŠ€æœ¯ç»“åˆæœ€ä¸ºç´§å¯†çš„éƒ¨åˆ† æœ€ä¸ºç¨³å®šåŠå¤ç”¨ç¨‹åº¦æœ€é«˜çš„éƒ¨åˆ† ä¸€ä»½æ–‡æ¡£å¤šäººä½¿ç”¨ å¼€å‘è€…è¯´æ˜ è®¾è®¡ä½“ç³»è§„èŒƒ ä»£ç ç‰‡æ®µã€å·¥å…·å‡½æ•° åŸ¹è®­æ–‡æ¡£ ç¤¾åŒºåŒ–ï¼šçµæ´»çš„æ²Ÿé€šæœºåˆ¶ å‰ç«¯ä½“ç³»ä»£ç è§„èŒƒ å¼€å‘è€…è¯´æ˜ ä»£ç  review å·¥å…·æ£€éªŒ é›†æˆäº† eslintã€stylelintã€git hook çš„å‰ç«¯ä»£ç æ£€æŸ¥å·¥å…·ã€‚ åˆå§‹åŒ– eslint/stylelint é…ç½®æ–‡ä»¶ å®‰è£… eslint/stylelint åŠå…¶ä¾èµ–åˆ°å½“å‰é¡¹ç›®çš„ node_modules é‡Œ æŒ‚è½½ git é’©å­ï¼Œåœ¨æäº¤ä»£ç æ—¶è¿›è¡Œå¼ºåˆ¶æ ¡éªŒ ç»„ä»¶è®¾è®¡æ€è·¯åœ¨UIå±‚é¢è§†è§‰ä¸Šçš„ç»„ä»¶æ˜¯ä¸€ç§äº§å“å½¢å¼ï¼Œç•Œé™æ˜¯â€œè§†è§‰å¯åˆ†â€ï¼Œä½†æ˜¯åœ¨ä»£ç å±‚é¢ï¼Œä¹Ÿä¼šå­˜åœ¨â€œé€»è¾‘å¯åˆ†â€ï¼Œæ‰€ä»¥å¼€å‘è€…å¼€å¼€å‘å‰åº”å¯¹ä¸šåŠ¡åœºæ™¯è¿›è¡Œåˆ†æï¼ŒæŠŠæ§ä»£ç å±‚çš„ç»„ä»¶ç²’åº¦ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æŠ½ç¦»ç»„ä»¶ ä¸èƒ½ç‹­éš˜åœ°è®¤ä¸ºåªæ˜¯ä¸ºäº†å¤ç”¨ï¼ˆåŒ…æ‹¬å¯¹äºæ¨¡å—åŒ–çš„ç†è§£ï¼‰ï¼Œè®¤ä¸ºåªæœ‰ä¸€ä¸ªåœ°æ–¹ç”¨å°±æ²¡å¿…è¦æŠ½å–å°è£…ä¸ºç»„ä»¶ ç»„ä»¶åŒ–æ˜¯å¯¹å®ç°çš„__åˆ†å±‚__ï¼Œæ˜¯æ›´æœ‰æ•ˆåœ°ä»£ç ç»„åˆæ–¹å¼ ç»„ä»¶åŒ–æ˜¯å¯¹èµ„æºçš„é‡ç»„å’Œä¼˜åŒ–ï¼Œä»è€Œä½¿é¡¹ç›®__èµ„æºç®¡ç†__æ›´åˆç† ç»„ä»¶åŒ–æœ‰åˆ©äº__å•å…ƒæµ‹è¯•__ ç»„ä»¶åŒ–å¯¹__é‡æ„__è¾ƒå‹å¥½ ç»„ä»¶å°è£…åŸåˆ™é«˜å¤ç”¨æ€§ + å°‘ç»„ä»¶ + å¤§ç»„ä»¶ é«˜å¤ç”¨æ€§ï¼šå¯¹é¡¹ç›®ä¸­æ‰€æœ‰Webé¡µé¢çš„ç»“æ„æœ‰æ¸…æ™°çš„æŠŠæ¡ï¼Œèƒ½å‡†ç¡®æå–æ ·å¼æˆ–åŠŸèƒ½é›·åŒçš„æ¨¡å—å¹¶å°†å…¶å°è£…æˆç»„ä»¶ å°‘ç»„ä»¶ï¼šå½“æ·±å±‚æ¬¡çš„æˆå‘˜æ— éœ€ç»„ä»¶åŒ–æ—¶ï¼Œå¯ç›´æ¥å°†å¤–å±‚çš„çˆ¶å…ƒç´ ç»„ä»¶åŒ–ä»¥å‡å°‘ç»„ä»¶çš„æ•°é‡ï¼Œè¯¥åŸåˆ™æ˜¯åŸºäºå¼€å‘æ•ˆç‡è€ƒè™‘çš„ å¤§ç»„ä»¶ï¼šåº”æ›´å¤šçš„å°†é›¶æ•£ç»„ä»¶æ‹¼è£…æˆæ›´å¤§çš„ç»„ä»¶ï¼Œå¯ä»¥ç®€åŒ–ç»„ä»¶çš„è°ƒç”¨ï¼Œæå‡å›¢é˜Ÿå¼€å‘æ•ˆç‡ å®¹å™¨ç»„ä»¶ + å±•ç¤ºç»„ä»¶ å®¹å™¨ç»„ä»¶ï¼šå¤„ç†æ•°æ®ã€é€»è¾‘ï¼ˆæ•°æ®æ ¼å¼åŒ–ï¼‰ï¼›å¯¹æ¥åç«¯APIï¼Œæ ¼å¼æ”¹å˜åˆ™æ”¹å˜è¯¥ç»„ä»¶ å±•ç¤ºç»„ä»¶ï¼šå¤„ç†æ ·å¼ï¼›å¯¹æ¥è§†è§‰è®¾è®¡åŠç”¨æˆ·ä½“éªŒï¼Œè¿™äº›ç»„ä»¶ä¸å…³æ³¨è‡ªå·±ä½•æ—¶ä½•å¤„è¢«æ¸²æŸ“ Functional Componentsåº”è¯¥æœ€å¤§é™åº¦çš„ç¼–å†™å’Œä½¿ç”¨ Functional Components : æ— çŠ¶æ€ã€æ— æ–¹æ³•ã€çº¯ç»„ä»¶ æ•°æ®æ¨¡å‹åŸåˆ™ï¼šå¯¹æ•°æ®åˆ‡åˆ†æ—¶ï¼Œpropsçš„ä¼˜å…ˆçº§è¦é«˜äºstateï¼Œå°½å¯èƒ½ä¿è¯ç»„ä»¶çš„æ— çŠ¶æ€åŒ–ï¼Œç®€åŒ–ç»„ä»¶çš„äº¤äº’é€»è¾‘ å…±äº«æ•°æ®ï¼ˆå›ºå®šæ•°æ®ï¼‰ï¼špropså¯¹è±¡ï¼ˆå•å‘æµåŠ¨æ€§|æ˜¾ç¤ºä¼ é€’æ€§|åªè¯»æ€§ï¼‰ &amp;&amp; store ç§æœ‰æ•°æ®ï¼ˆåŠ¨æ€æ•°æ®ï¼‰ï¼šstateå¯¹è±¡ éœ€è¦åå¤ç¢ç£¨çš„é—®é¢˜Q1ï¼šè¿™ä¸ªç»„ä»¶å¯å¦ï¼ˆæœ‰å¿…è¦ï¼‰å†åˆ†ï¼Ÿ ç»„ä»¶åˆ’åˆ†çš„ä¾æ®é€šå¸¸æ˜¯ ä¸šåŠ¡é€»è¾‘ åŠŸèƒ½ï¼Œè¦è€ƒè™‘å„ç»„ä»¶ä¹‹é—´çš„å…³ç³»æ˜¯å¦æ˜ç¡®ï¼ˆå¦‚ç»„ä»¶æ ‘æ–¹å¼ç®¡ç†ç»„ä»¶é—´ä¾èµ–å…³ç³»ï¼Œå…„å¼Ÿç»„ä»¶ä¸å¯è§ï¼‰ï¼Œä»¥åŠç»„ä»¶çš„å¯å¤ç”¨åº¦ã€‚åˆ’åˆ†ç²’åº¦çš„å¤§å°éœ€è¦æ ¹æ®å®é™…æƒ…å†µæƒè¡¡ï¼Œå¤ªå°ä¼šæå‡ç»´æŠ¤æˆæœ¬ï¼Œå¤ªå¤§åˆä¸å¤Ÿçµæ´»å’Œé«˜å¤ç”¨æ€§ã€‚ æ¯ä¸€ä¸ªç»„ä»¶éƒ½åº”è¯¥æœ‰å…¶ç‹¬ç‰¹çš„åˆ’åˆ†ç›®çš„çš„ï¼Œæœ‰çš„æ˜¯ä¸ºäº†å¤ç”¨å®ç°ï¼Œæœ‰çš„æ˜¯ä¸ºäº†å°è£…å¤æ‚åº¦æ¸…æ™°ä¸šåŠ¡å®ç°ã€‚ Q2ï¼šè¿™ä¸ªç»„ä»¶çš„ä¾èµ–æ˜¯å¦å¯å†ç¼©å‡ï¼Ÿ ç¼©å‡ç»„ä»¶ä¾èµ–å¯ä»¥æé«˜ç»„ä»¶çš„å¯å¤ç”¨åº¦ï¼Œå¸¸ç”¨çš„æ–¹æ³•æ˜¯IoCï¼ˆä¾èµ–æ³¨å…¥ï¼‰ï¼Œå¯¹å¤–å¼±ç±»å‹ä¾èµ–ã€‚ Q3ï¼šè¿™ä¸ªç»„ä»¶æ˜¯å¦å¯¹å…¶å®ƒç»„ä»¶é€ æˆä¾µå…¥ï¼Ÿ ä¸€ä¸ªç»„ä»¶çš„å°è£…æ€§ä¸å¤Ÿï¼Œæˆ–è€…è‡ªèº«è¶Šç•Œæ“ä½œï¼Œå°±å¯èƒ½å¯¹è‡ªèº«ä¹‹å¤–é€ æˆäº†ä¾µå…¥ï¼Œè¿™ç§æƒ…å†µåº”è¯¥å°½é‡é¿å…ï¼Œç¡®ä¿ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸèƒ½å¤Ÿå¯¹å…¶å½±å“è¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†ï¼ˆå¦‚destroyåä¸ç•™ç—•è¿¹ï¼‰ã€‚è¾ƒå¸¸è§çš„ä¸€ç§æƒ…å†µæ˜¯ï¼šç»„ä»¶è¿è¡Œæ—¶å¯¹windowå¯¹è±¡æ·»åŠ resizeç›‘å¬äº‹ä»¶ä»¥å®ç°ç»„ä»¶å“åº”è§†çª—å°ºå¯¸å˜åŒ–äº‹ä»¶ï¼Œè¿™ç§éœ€æ±‚çš„æ›´å¥½æ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼šç»„ä»¶æä¾›åˆ·æ–°æ–¹æ³•ï¼Œç”±çˆ¶ç»„ä»¶å®ç°è°ƒç”¨ï¼ˆæœ€ç»ˆç”±æ ¹ç»„ä»¶ç»Ÿä¸€å¤„ç†ï¼‰ã€‚ æ¬¡ä¼˜çš„æ–¹æ¡ˆæ˜¯ï¼Œå½“ç»„ä»¶destroyå‰æ¸…ç†æ¢å¤ã€‚ ä¸€ä¸ªç»„ä»¶ä¸åº”å¯¹å…¶å®ƒå…„å¼Ÿç»„ä»¶é€ æˆç›´æ¥å½±å“ã€‚ Q4ï¼šè¿™ä¸ªç»„ä»¶å¯å¦å¤ç”¨äºå…¶å®ƒç±»ä¼¼åœºæ™¯ä¸­ï¼Ÿ éœ€è¦è€ƒè™‘éœ€è¦é€‚ç”¨çš„ä¸åŒåœºæ™¯ï¼Œåœ¨ç»„ä»¶æ¥å£è®¾è®¡æ—¶è¿›è¡Œå¿…è¦çš„å…¼å®¹ Q5ï¼šè¿™ä¸ªç»„ä»¶å½“åˆ«äººç”¨æ—¶ï¼Œä¼šæ€ä¹ˆæƒ³ï¼Ÿ æ¥å£è®¾è®¡ç¬¦åˆè§„èŒƒå’Œå¤§ä¼—ä¹ æƒ¯ï¼Œå°½é‡è®©åˆ«äººç”¨èµ·æ¥ç®€å•æ˜“ä¸Šæ‰‹ï¼Œæ˜“ä¸Šæ‰‹æ˜¯æŒ‡æ›´ç¬¦åˆç›´è§‰ã€‚å‡å¦‚ä¸šåŠ¡éœ€è¦ä¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œæ˜¯å¦æ–¹ä¾¿æ¸…é™¤ï¼Ÿ å„ç»„ä»¶ä¹‹é—´ä»¥ç»„åˆçš„å…³ç³»äº’ç›¸é…åˆï¼Œä¹Ÿæ˜¯å¯¹åŠŸèƒ½éœ€æ±‚çš„æ¨¡å—åŒ–æŠ½è±¡ï¼Œå½“éœ€æ±‚å˜åŒ–æ—¶å¯ä»¥å°†å®ç°ä»¥æ¨¡å—ç²’åº¦è¿›è¡Œè°ƒæ•´ã€‚ å¼€å‘æµç¨‹ ç»„ä»¶åˆå§‹åŒ–: è‡ªåŠ¨åˆ›å»ºç»„ä»¶éœ€è¦çš„ç›®å½•å’Œæ¨¡ç‰ˆä»£ç  ç»„ä»¶ Coding ç»„ä»¶ Demo ç»„ä»¶æ–‡æ¡£ ç»„ä»¶æµ‹è¯• å¼€å‘è€…è‡ªæµ‹ UI åŠ API å¼€å‘è€…äº’æµ‹API UI äººè‚‰æµ‹è¯• å¼€å‘è€…å•å…ƒæµ‹è¯• æµ‹è¯•æµç¨‹å¼€å‘è€…è‡ªæµ‹ UI åŠ APIå¼€å‘è€…æ ¹æ®UIè®¾è®¡ç¨¿å¼€å‘å®Œæˆåï¼Œè‡ªå·±æ ¹æ®UIè¦æ±‚åŠæ–‡æ¡£åˆ†åœºæ™¯æ ¹æ®æ–‡æ¡£ç”Ÿäº§å·¥å…·çš„ playground å®Œæˆè‡ªæµ‹ã€‚ âš ï¸æç«¯æ•°æ®æµ‹è¯• æ•°æ®ä¸ºç©ºæ—¶ æ•°æ®æ¥å£è°ƒç”¨é”™è¯¯æ—¶ è¯·æ±‚å‚æ•°æç«¯æƒ…å†µ æ•°æ®ç‰¹åˆ«å°æ—¶ æ•°æ®ç‰¹åˆ«å¤§æ—¶ ä¸ºnullï¼ŒNaNï¼Œundefine å¼€å‘è€…äº’æµ‹ APIå¼€å‘è€…å›¢é˜Ÿå†…éƒ¨é€šè¿‡ç»“å¯¹ç¼–ç¨‹çš„æ–¹å¼å®Œæˆç»„ä»¶çš„APIäº’æµ‹ã€‚ å¼€å‘è€…å•å…ƒæµ‹è¯• React ç”Ÿæ€åœˆä¼šæ¨èä½¿ç”¨ jest + enzyme é…å¥—å·¥å…· Jestæ˜¯ Facebook å¼€å‘çš„ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œå®ƒé›†æˆäº†æµ‹è¯•æ‰§è¡Œå™¨ã€æ–­è¨€åº“ã€spyã€mockã€snapshotå’Œæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šç­‰åŠŸèƒ½ã€‚React é¡¹ç›®æœ¬èº«ä¹Ÿæ˜¯ä½¿ç”¨ Jest è¿›è¡Œå•æµ‹çš„ï¼Œå› æ­¤å®ƒä»¬ä¿©çš„å¥‘åˆåº¦ç›¸å½“é«˜ã€‚ä½†æ˜¯ä½¿ç”¨ jest åš UI æµ‹è¯•æœ‰å±€é™æ€§ï¼Œåªèƒ½æµ‹è¯•åŸºæœ¬çš„ dom ç»“æ„ å’Œ æ ·å¼ï¼Œä¸€äº›é€»è¾‘äº¤äº’æ— æ³•æµ‹åˆ°ï¼Œåªèƒ½è¦†ç›–å¤§éƒ¨åˆ†çš„æƒ…å†µã€‚ Enzymeæ˜¯ç”± airbnb å¼€å‘çš„ React å•æµ‹å·¥å…·ã€‚å®ƒæ‰©å±•äº† React çš„ TestUtils å¹¶é€šè¿‡æ”¯æŒç±»ä¼¼ jQuery çš„ find è¯­æ³•å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹ renderå‡ºæ¥çš„ç»“æœåšå„ç§æ–­è¨€ã€‚ UI äººè‚‰æµ‹è¯•å¼€å‘å›¢é˜Ÿæµ‹è¯•æµç¨‹å…¨éƒ¨èµ°å®Œåï¼Œæäº¤åˆ°UIè®¾è®¡è€…æµ‹è¯•æµç¨‹ï¼Œå®Œæˆç»„ä»¶UIå±‚é¢åœºæ™¯ã€è§†è§‰ã€äº¤äº’çš„è¯„å®¡ã€‚ å‘åŒ…æµç¨‹ç»„ä»¶å‘åŒ…åªæœ‰æ‹¥æœ‰å‘åŒ…æƒé™çš„äººæ‰èƒ½æ“ä½œï¼ŒDbox æ˜¯ä»¥ç»„ä»¶åº“ä¸ºå•ä½å‘åŒ…çš„ï¼Œä½¿ç”¨å‘½ä»¤ yarn publish å‘åŒ…ï¼Œåœ¨å‘åŒ…ä¹‹å‰ä¼šè·‘ç»„ä»¶æµ‹è¯•ï¼Œåªæœ‰æµ‹è¯•é€šè¿‡ä»¥åæ‰èƒ½å‘åŒ…ã€‚ ç»´æŠ¤æµç¨‹ç»„ä»¶æ—¥å¸¸ç»´æŠ¤å æ•´ä¸ªç»„ä»¶åº“ç”Ÿå‘½å‘¨æœŸçš„å¾ˆå¤§ä¸€éƒ¨åˆ†ï¼Œç»„ä»¶åº“åšèµ·æ¥äº†ä»¥åï¼Œç»„ä»¶åŠŸèƒ½åç»­ä¼šä¸æ–­è¿­ä»£ï¼Œä¹Ÿè®¸æ˜¯ bug fixï¼Œä¹Ÿå¯èƒ½æ˜¯ new featureã€‚ PR / issue çš„å¤„ç†ï¼šPRè§„èŒƒ å‘åŒ… ç®¡ç† changelog é¡¹ç›®è½åœ° UIç»„ä»¶ è„šæ‰‹æ¶ ä½¿ç”¨æ–‡æ¡£ é¡¹ç›®å®˜ç½‘åŠç¤¾åŒº å‘½ä»¤è¡Œ æ¥å£æ•°æ® mock å·¥å…· æ„å»ºå·¥å…·æ ˆ ä¸šåŠ¡ç»„ä»¶: åœ¨ä¸šåŠ¡ç»„ä»¶åº“ä¸­ï¼Œä¸å¿…é‚£ä¹ˆçµæ´»ï¼Œæ”¯æŒä¸šåŠ¡éœ€è¦çš„å±æ€§é…ç½®å³å¯ã€‚å¯ä»¥å°è£…ä¸šåŠ¡ç›¸å…³çš„ä»£ç è¿›å»ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå½±å“å…¶ä»–ä¸šåŠ¡çº¿ï¼Œæ›´é«˜çš„å°è£…ç¨‹åº¦å’Œä¸šåŠ¡å±æ€§ä¼šè®©è¯¥ä¸šåŠ¡çº¿çš„å¼€å‘ä½“éªŒå’Œæ•ˆç‡æå‡ä¸€ä¸ªé‡çº§ æ•°æ®ä¸ŠæŠ¥ ç›‘æ§ä½“ç³»(é”™è¯¯ç›‘æ§ã€æ€§èƒ½ç›‘æ§ã€ä¸šåŠ¡ç›‘æ§ã€æœåŠ¡ç›‘æ§) æŒç»­é›†æˆ: éƒ¨ç½²æµç¨‹å’Œéƒ¨ç½²å¹³å° è‡ªåŠ¨åŒ–æµ‹è¯• åè®°ç»„ä»¶åŒ–è¿™æ¡è·¯ä¸Šï¼Œæˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šäº‹æƒ…è¦åš å‚è€ƒèµ„æº æ•™ä½ ç”¨Sketch Librariesæ„å»ºç»„ä»¶åº“/è®¾è®¡ä½“ç³» - ä¼˜è®¾-UISDC é‡æ–°è®¾è®¡ React ç»„ä»¶åº“ http://sangka-z.com/react-in-patterns-cn/chapter-11/ https://blog.csdn.net/liangklfang/article/details/74025364 https://github.com/penouc/blog/issues/7 React ç»„ä»¶è®¾è®¡æ¨¡å¼åŸºç¡€ https://juejin.im/post/5a73d6435188257a6a789d0d è°ˆè°ˆ Vue ä¸šåŠ¡ç»„ä»¶ https://juejin.im/entry/5a97b8bc518825555b2e1845","tags":[{"name":"components","slug":"components","permalink":"http://lulustyle.net/tags/components/"}]},{"title":"å¤§å±ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ","date":"2018-12-13T04:36:21.000Z","path":"2018/12/13/å¤§å±ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ/","text":"tags: [ç»„ä»¶]categories: ä¸šåŠ¡åœºæ™¯è§£å†³æ–¹æ¡ˆ æ— è®ºæ˜¯åœ¨ç§‘å¹»ç”µå½±è¿˜æ˜¯åœ¨çœŸå®ä¸–ç•Œé‡Œï¼Œå¯è§†åŒ–å¤§å±éƒ½æ˜¯éå¸¸å¸¸è§çš„ä¸€ç§è¡¨ç°æ‰‹æ³•ã€‚ä¹‹å‰åœ¨å¸‚å±€çœ‹åˆ°äº†å¤§å±æ˜¯ç”±å¤šä¸ªå±å¹•ç»„æˆï¼Œçœ‹èµ·æ¥æœ‰ä¸¤å±‚æ¥¼é‚£ä¹ˆé«˜ã€‚ æŠ€æœ¯æ ˆï¼šecharts + css3 + vw + vh + remå› ä¸ºè¿ç”¨äº†å¤§é‡css3 æ–°ç‰¹æ€§ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨ googleæµè§ˆå™¨ï¼ŒæŠ•å¤§å±ã€‚ å¯è§†åŒ–å¤§å±çš„ç‰¹æ€§å¯è§†åŒ–å¤§å±ï¼Œå½’æ ¹åˆ°åº•è¿˜æ˜¯è¿ç”¨çš„å¯è§†åŒ–æŠ€æœ¯ï¼Œåªä¸è¿‡å±•ç°çš„å±å¹•æ¯”èµ·ç¬”è®°æœ¬å’Œæ˜¾ç¤ºå™¨å¤§äº†å¾ˆå¤šã€‚ç›¸æ¯”äºä¼ ç»Ÿçš„æ¡Œé¢çº§å¯è§†åŒ–è¿ç”¨ï¼Œå¤§å±å¯è§†åŒ–çš„ç‰¹æ€§æœ‰: å±å¹•å·¨å¤§ï¼Œç”¨æˆ·é€šå¸¸ç¦»å±å¹•æ¯”è¾ƒè¿œï¼Œæ–‡å­—è¡¨è¾¾å‡ºæ¥çš„ä¿¡æ¯éœ€è¦è¶³å¤Ÿæ¸…æ¥šï¼Œé€šå¸¸è¦åœ¨å­—ä½“å’Œé¢œè‰²ä¸Šåšæ–‡ç« ã€‚ å¼±åŒ–äº¤äº’ï¼ŒåŸºäºé”®ç›˜å’Œé¼ æ ‡çš„äº¤äº’æ–¹å¼å¾ˆå°‘ï¼Œæ›´å¤šæ—¶å€™ç³»ç»Ÿè‡ªå·±åšå‡ºå“åº”ï¼Œè€Œä¸æ˜¯è®©äººå·¥ä»‹å…¥ã€‚ è§†è§‰å†²å‡»åŠ›å¼ºï¼Œè®¾è®¡ä¸€èˆ¬éƒ½æ˜¯ä»¥æ·±è‰²ä¸ºåº•è‰²ï¼Œä¸€æ¥ç§‘æŠ€æ„Ÿåè¶³ï¼ŒäºŒæ¥å¯ä»¥é…åˆçªå‡ºçš„ä¸»ä½“åŠ¨ç”»å’Œå¼ºè®¾è®¡æ„Ÿçš„å…ƒç´ ã€‚ åœºæ™¯åŒ–ï¼Œä¸€å—å¤§å±é€šå¸¸ç”¨æ¥å±•ç¤ºä¸€ç±»åœºæ™¯ï¼Œåœºæ™¯ä¸»è¦ç”±å›¾è¡¨æ„æˆï¼Œåå°ç®¡ç†ç³»ç»Ÿé‚£å¥—è¡¨å•é€šå¸¸ä¸ä¼šå‡ºç°åœ¨å¤§å±ã€‚ åŠ¨ç”»æ›´é‡è¦äº†ï¼Œç”¨åŠ¨ç”»è¡¨ç°å‡ºæ¥çš„æ•°æ®ï¼Œé€šå¸¸æ˜¯å¤§å±é¡¹ç›®ä¸­æœ€è¿·äººçš„åœ°æ–¹ã€‚è¯´åŠ¨ç”»æ˜¯å¤§å±é¡¹ç›®çš„çµé­‚ä¹Ÿä¸ä¸ºè¿‡ã€‚ å¤§å±çš„è‡ªåŠ¨å¸ƒå±€å’Œå®½é«˜è‡ªé€‚åº”å¯è§†åŒ–å¤§å±çš„å¸ƒå±€éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå‡†å¤‡ä½¿ç”¨çº¯css3çš„vwã€vhå®ç°è‡ªé€‚åº”ã€‚ è§†å£åœ¨CSSæ ‡å‡†æ–‡æ¡£ä¸­ï¼Œè§†å£viewportè¢«ç§°ä¸ºåˆå§‹åŒ…å«å—ã€‚è¿™ä¸ªåˆå§‹åŒ…å«å—æ˜¯æ‰€æœ‰CSSç™¾åˆ†æ¯”å®½åº¦æ¨ç®—çš„æ ¹æºï¼Œå®ƒç»™CSSå¸ƒå±€é™åˆ¶äº†ä¸€ä¸ªæœ€å¤§å®½åº¦ã€‚ æ¡Œé¢ç«¯ï¼šè§†å£çš„å®½åº¦å’Œæµè§ˆå™¨çª—å£çš„å®½åº¦ä¸€è‡´ ç§»åŠ¨ç«¯ ï¼šè§†å£åˆ†ä¸ºå¸ƒå±€è§†å£(layout viewport)ã€è§†è§‰è§†å£(visual viewport)å’Œç†æƒ³è§†å£(ideal viewport) å¯è§†åŒ–å¤§å±å±äºæ¡Œé¢ è§†å£å•ä½æ ¹æ®CSS3è§„èŒƒï¼Œè§†å£å•ä½ä¸»è¦åŒ…æ‹¬4ä¸ªï¼š vw : 1vw ç­‰äºè§†å£å®½åº¦çš„1% vh : 1vh ç­‰äºè§†å£é«˜åº¦çš„1% vmin : é€‰å– vw å’Œ vh ä¸­æœ€å°çš„é‚£ä¸ª vmax : é€‰å– vw å’Œ vh ä¸­æœ€å¤§çš„é‚£ä¸ªè§†å£å•ä½åŒºåˆ«äº%å•ä½ï¼Œè§†å£å•ä½æ˜¯ä¾èµ–äºè§†å£çš„å°ºå¯¸ï¼Œæ ¹æ®è§†å£å°ºå¯¸çš„ç™¾åˆ†æ¯”æ¥å®šä¹‰çš„ï¼›è€Œ%å•ä½åˆ™æ˜¯ä¾èµ–äºå…ƒç´ çš„ç¥–å…ˆå…ƒç´ ã€‚ç”¨è§†å£å•ä½åº¦é‡ï¼Œè§†å£å®½åº¦ä¸º100vwï¼Œé«˜åº¦ä¸º100vhï¼Œç›¸å½“äºå°†å®½é«˜åˆ†åˆ«åˆ†æˆäº†100ä»½ã€‚åˆ©ç”¨è§†å£å•ä½é€‚é…é¡µé¢ vwã€vhæ˜¯åŸºäºè§†å£çš„å¸ƒå±€æ–¹æ¡ˆ remå¸ƒå±€-è§£å†³å­—ä½“é€‚é…ï¼ˆremå¸ƒå±€åŸç†ï¼šæ ¹æ®CSSçš„åª’ä½“æŸ¥è¯¢åŠŸèƒ½ï¼Œæ›´æ”¹htmlæ ¹å­—ä½“å¤§å°ï¼Œå®ç°å­—ä½“å¤§å°éšå±å¹•å°ºå¯¸å˜åŒ–ã€‚ï¼‰ ä½¿ç”¨vw+vh+remçš„å¸ƒå±€ä¹‹å¤–ï¼Œå¯ä»¥å†åŠ ä¸ŠelementUIçš„æ …æ ¼å¸ƒå±€ï¼Œå¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚ åä½œ é€‰æ‹©ä¸€ç§å°ºå¯¸ä½œä¸ºè®¾è®¡å’Œå¼€å‘åŸºå‡† å®šä¹‰ä¸€å¥—é€‚é…è§„åˆ™ï¼Œè‡ªåŠ¨é€‚é…å‰©ä¸‹çš„ä¸¤ç§å°ºå¯¸(å…¶å®ä¸ä»…è¿™ä¸¤ç§ï¼Œä½ æ‡‚çš„) ç‰¹æ®Šé€‚é…æ•ˆæœç»™å‡ºè®¾è®¡æ•ˆæœ å‚è€ƒèµ„æºç»ˆç«¯è®¾å¤‡å‚æ•°)","tags":[]},{"title":"webpack å‰ç«¯å·¥ç¨‹åŒ–","date":"2018-12-12T13:37:03.000Z","path":"2018/12/12/webpack å‰ç«¯å·¥ç¨‹åŒ–/","text":"tags: [ç»„ä»¶]categories: å‰ç«¯å·¥ç¨‹åŒ– ä¸€ã€webpack å¸¸ç”¨ Loader1ã€åŠ è½½æ–‡ä»¶ raw-loaderï¼šæŠŠæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹åŠ è½½åˆ°ä»£ç ä¸­å»ï¼Œåœ¨ 3-20åŠ è½½SVG ä¸­æœ‰ä»‹ç»ã€‚ file-loaderï¼šæŠŠæ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹ URL å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶ï¼Œåœ¨ 3-19åŠ è½½å›¾ç‰‡ã€3-20åŠ è½½ SVGã€4-9 CDN åŠ é€Ÿ ä¸­æœ‰ä»‹ç»ã€‚ url-loaderï¼šå’Œ file-loader ç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ä»¥ base64 çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­å»ï¼Œåœ¨ 3-19åŠ è½½å›¾ç‰‡ã€3-20åŠ è½½ SVG ä¸­æœ‰ä»‹ç»ã€‚ source-map-loaderï¼šåŠ è½½é¢å¤–çš„ Source Map æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•ï¼Œåœ¨ 3-21åŠ è½½ Source Map ä¸­æœ‰ä»‹ç»ã€‚ svg-inline-loaderï¼šæŠŠå‹ç¼©åçš„ SVG å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­ï¼Œåœ¨ 3-20åŠ è½½ SVG ä¸­æœ‰ä»‹ç»ã€‚ node-loaderï¼šåŠ è½½ Node.js åŸç”Ÿæ¨¡å— .node æ–‡ä»¶ã€‚ image-loaderï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶ã€‚ json-loaderï¼šåŠ è½½ JSON æ–‡ä»¶ã€‚ yaml-loaderï¼šåŠ è½½ YAML æ–‡ä»¶ã€‚ 2ã€ç¼–è¯‘æ¨¡ç‰ˆ pug-loaderï¼šæŠŠ Pug æ¨¡ç‰ˆè½¬æ¢æˆ JavaScript å‡½æ•°è¿”å›ã€‚ handlebars-loaderï¼šæŠŠ Handlebars æ¨¡ç‰ˆç¼–è¯‘æˆå‡½æ•°è¿”å›ã€‚ ejs-loaderï¼šæŠŠ EJS æ¨¡ç‰ˆç¼–è¯‘æˆå‡½æ•°è¿”å›ã€‚ haml-loaderï¼šæŠŠ HAML ä»£ç è½¬æ¢æˆ HTMLã€‚ markdown-loaderï¼šæŠŠ Markdown æ–‡ä»¶è½¬æ¢æˆ HTMLã€‚ 3ã€è½¬æ¢è„šæœ¬è¯­è¨€ babel-loaderï¼šæŠŠ ES6 è½¬æ¢æˆ ES5ï¼Œåœ¨3-1ä½¿ç”¨ ES6 è¯­è¨€ä¸­æœ‰ä»‹ç»ã€‚ ts-loaderï¼šæŠŠ TypeScript è½¬æ¢æˆ JavaScriptï¼Œåœ¨3-2ä½¿ç”¨ TypeScript è¯­è¨€ä¸­æœ‰é‡åˆ°ã€‚ awesome-typescript-loaderï¼šæŠŠ TypeScript è½¬æ¢æˆ JavaScriptï¼Œæ€§èƒ½è¦æ¯” ts-loader å¥½ã€‚ coffee-loaderï¼šæŠŠ CoffeeScript è½¬æ¢æˆ JavaScriptã€‚ 4ã€è½¬æ¢æ ·å¼æ–‡ä»¶ css-loaderï¼šåŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§ã€‚ style-loaderï¼šæŠŠ CSS ä»£ç æ³¨å…¥åˆ° JavaScript ä¸­ï¼Œé€šè¿‡ DOM æ“ä½œå»åŠ è½½ CSSã€‚ sass-loaderï¼šæŠŠ SCSS/SASS ä»£ç è½¬æ¢æˆ CSSï¼Œåœ¨3-4ä½¿ç”¨ SCSS è¯­è¨€ä¸­æœ‰ä»‹ç»ã€‚ postcss-loaderï¼šæ‰©å±• CSS è¯­æ³•ï¼Œä½¿ç”¨ä¸‹ä¸€ä»£ CSSï¼Œåœ¨3-5ä½¿ç”¨ PostCSSä¸­æœ‰ä»‹ç»ã€‚ less-loaderï¼šæŠŠ Less ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚ stylus-loaderï¼šæŠŠ Stylus ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚ 5ã€æ£€æŸ¥ä»£ç  eslint-loaderï¼šé€šè¿‡ ESLint æ£€æŸ¥ JavaScript ä»£ç ï¼Œåœ¨ 3-16æ£€æŸ¥ä»£ç ä¸­æœ‰ä»‹ç»ã€‚ tslint-loaderï¼šé€šè¿‡ TSLint æ£€æŸ¥ TypeScript ä»£ç ã€‚ mocha-loaderï¼šåŠ è½½ Mocha æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚ coverjs-loaderï¼šè®¡ç®—æµ‹è¯•è¦†ç›–ç‡ã€‚ 6ã€å…¶å®ƒ vue-loaderï¼šåŠ è½½ Vue.js å•æ–‡ä»¶ç»„ä»¶ï¼Œåœ¨3-7ä½¿ç”¨ Vue æ¡†æ¶ä¸­æœ‰ä»‹ç»ã€‚ i18n-loaderï¼šåŠ è½½å¤šè¯­è¨€ç‰ˆæœ¬ï¼Œæ”¯æŒå›½é™…åŒ–ã€‚ ignore-loaderï¼šå¿½ç•¥æ‰éƒ¨åˆ†æ–‡ä»¶ï¼Œåœ¨3-11æ„å»ºåŒæ„åº”ç”¨ä¸­æœ‰ä»‹ç»ã€‚ ui-component-loaderï¼šæŒ‰éœ€åŠ è½½ UI ç»„ä»¶åº“ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨ antd UI ç»„ä»¶åº“æ—¶ï¼Œä¸ä¼šå› ä¸ºåªç”¨åˆ°äº† Button ç»„ä»¶è€Œæ‰“åŒ…è¿›æ‰€æœ‰çš„ç»„ä»¶ã€‚ äºŒã€webpack å¸¸ç”¨ Plugin1ã€ä¿®æ”¹è¡Œä¸ºdefine-pluginhttps://webpack.js.org/plugins/define-plugin/å®šä¹‰ç¯å¢ƒå˜é‡ context-replacement-pluginhttps://webpack.js.org/plugins/context-replacement-plugin/ä¿®æ”¹ require è¯­å¥åœ¨å¯»æ‰¾æ–‡ä»¶æ—¶çš„é»˜è®¤è¡Œä¸º ignore-pluginhttps://webpack.js.org/plugins/ignore-plugin/ç”¨äºå¿½ç•¥éƒ¨åˆ†æ–‡ä»¶ 2ã€ä¼˜åŒ–commons-chunk-plugin(V4.0ç§»é™¤ï¼ŒSplitChunksPluginå–ä»£)https://webpack.js.org/plugins/commons-chunk-plugin/æå–å…¬å…±ä»£ç ,é¿å…webpackç”Ÿæˆé‡å¤å¼•å…¥çš„æ¨¡å—ä»£ç ï¼Œå¼•å…¥æ¨¡å—ä»£ç åªç”Ÿæˆä¸€éã€‚æ³¨æ„è¯¥æ’ä»¶å’ŒDLLçš„åŠŸèƒ½ä¸ä¸€æ · æå–å…¬å…±ä»£ç å¯¹äºå¤šé¡µé¢åº”ç”¨è€Œè¨€ï¼Œæå–å…¬å…±ä»£ç ï¼š å‡å°‘ç½‘ç»œä¼ è¾“æµé‡ï¼Œé™ä½æœåŠ¡å™¨æˆæœ¬ è™½ç„¶ç”¨æˆ·ç¬¬ä¸€æ¬¡æ‰“å¼€ç½‘ç«™çš„é€Ÿåº¦å¾—ä¸åˆ°ä¼˜åŒ–ï¼Œä½†ä¹‹åè®¿é—®å…¶ä»–é¡µé¢çš„é€Ÿåº¦å°†å¤§å¤§æé«˜ extract-text-webpack-plugin(V4.0ç§»é™¤ï¼Œmini-css-extract-pluginå–ä»£)https://github.com/webpack-contrib/extract-text-webpack-pluginæå– JS ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ prepack-webpack-pluginhttps://github.com/gajus/prepack-webpack-pluginé€šè¿‡ Facebook çš„ Prepack ä¼˜åŒ–è¾“å‡ºçš„ JS ä»£ç çš„æ€§èƒ½ï¼šç¼–è¯‘ä»£ç æ—¶æå‰å°†è®¡ç®—ç»“æœæ”¾åˆ°ç¼–è¯‘åçš„ä»£ç ä¸­ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶æ‰å»æ±‚å€¼ é€šè¿‡ Babel å°† JS æºç è§£ææˆ ASTï¼Œä»¥æ›´ç»†ç²’åº¦åˆ†ææºç  å®ç°äº†ä¸€ä¸ª JS è§£é‡Šå™¨ï¼Œç”¨äºæ‰§è¡Œæºç ã€‚å€ŸåŠ©è¿™ä¸ªè§£é‡Šå™¨ï¼Œprepack æ‰èƒ½ç†è§£æºç å…·ä½“æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œå¹¶å°†æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç»“æœè¿”å›åˆ°è¾“å‡ºä¸­ ä¸èƒ½è¯†åˆ« DOM API å’Œ éƒ¨åˆ† Node.js API ä»£ç åœ¨ä¼˜åŒ–åæ€§èƒ½å¯èƒ½æ›´å·® ä»£ç åœ¨ä¼˜åŒ–åï¼Œæ–‡ä»¶çš„å°ºå¯¸å¯èƒ½å¤§å¤§å¢åŠ  ç°åœ¨ç”¨äºçº¿ä¸Šç¯å¢ƒè¿˜ä¸ºæ—¶è¿‡æ—©uglifyjs-webpack-pluginhttps://github.com/webpack-contrib/uglifyjs-webpack-pluginé€šè¿‡ UglifyJS å‹ç¼© ES6 ä»£ç ï¼›V4.0 å®ä¾‹ä¸æ”¾åˆ° Plugin ä¸­äº†ï¼Œæ”¾åˆ° optimization.minimizer ä¸­å»äº†å‚æ•°ï¼š sourceMap: é»˜è®¤ä¸ç”Ÿæˆ beautifyï¼šæ˜¯å¦è¾“å‡ºå¯è¯»æ€§è¾ƒå¼ºçš„ä»£ç ï¼Œå³ä¿ç•™ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ã€‚é»˜è®¤true comments: æ˜¯å¦ä¿ç•™ä»£ç ä¸­çš„æ³¨é‡Šã€‚é»˜è®¤ true compress.warning: æ˜¯å¦åœ¨ uglifyJS åˆ é™¤æ²¡ç”¨çš„ä»£ç æ—¶è¾“å‡ºè­¦å‘Šä¿¡æ¯ã€‚é»˜è®¤ true drop_console: æ˜¯å¦åˆ é™¤ä»£ç ä¸­çš„æ‰€æœ‰ console è¯­å¥ã€‚é»˜è®¤ false collapse_vars: æ˜¯å¦å†…åµŒå·²å®šä¹‰ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡ã€‚é»˜è®¤trueã€‚ reduce_vars: æ˜¯å¦æå–å‡ºç°äº†å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼ webpack-parallel-uglify-pluginhttps://github.com/gdborton/webpack-parallel-uglify-pluginå¤šçº¿ç¨‹æ‰§è¡Œ UglifyJS ä»£ç å‹ç¼©ï¼Œæå‡æ„å»ºçš„é€Ÿåº¦ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä½¿ç”¨æ—¶å³ä¸å®ç”¨ UglifyJS ï¼Œç›´æ¥ç”¨ ParalleUglifyPluginï¼Œä½†æ˜¯å˜æˆäº†å¹¶è¡Œæ‰§è¡Œ å‚æ•°ï¼š test: ç”¨æ­£åˆ™åŒ¹é…å“ªäº›æ–‡ä»¶éœ€è¦è¢«å‹ç¼©ï¼Œé»˜è®¤ä¸º/.js\\$/ include: ç”¨æ­£åˆ™å‘½ä¸­éœ€è¦è¢«å‹ç¼©çš„æ–‡ä»¶ï¼Œé»˜è®¤ä¸º[] exclude: ç”¨æ­£åˆ™å‘½ä¸­ä¸éœ€è¦è¢«å‹ç¼©çš„æ–‡ä»¶ï¼Œé»˜è®¤ä¸º[] cacheDir: ç”¨äºé…ç½®ç¼“å­˜å­˜æ”¾çš„ç›®å½•è·¯å¾„ï¼Œç¼“å­˜å‹ç¼©åçš„ç»“æœï¼Œä¸‹æ¬¡é‡åˆ°ä¸€æ ·çš„è¾“å…¥æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–å‹ç¼©åçš„ç»“æœå¹¶è¿”å›ã€‚é»˜è®¤ä¸ç¼“å­˜ workerCount: å¼€å¯å‡ ä¸ªå­è¿›ç¨‹å»å¹¶å‘æ‰§è¡Œå‹ç¼©ã€‚é»˜è®¤ä¸ºå½“å‰è¿è¡Œçš„ CPU æ ¸æ•° -1 sourceMap: ä¼šå¯¼è‡´å‹ç¼©è¿‡ç¨‹å˜æ…¢ uglifyJS: ä¼ é€’ç»™ uglifyJS çš„å‚æ•° uglifyES: ä¼ é€’ç»™ uglifyES çš„å‚æ•° 12345678910111213141516171819202122232425262728const path = require('path')const DefinePlugin = require('webpack/lib/DefinePlugin')const ParalleUglifyPlugin = require('webpack-parallel-uglify-plugin')module.exports = &#123; plugins: [ // ä½¿ç”¨ ParalleUglifyPlugin å¹¶è¡Œå‹ç¼©è¾“å‡ºçš„ JS ä»£ç  new ParalleUglifyPlugin(&#123; // ä¼ é€’ç»™ UglifyJS çš„å‚æ•° uglifyJS: &#123; output: &#123; // æœ€ç´§å‡‘çš„è¾“å‡º beautify: false, // åˆ é™¤æ‰€æœ‰æ³¨é‡Š comments: false, &#125;, compress: &#123; // åœ¨UglifyJS åˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ—¶ä¸è¾“å‡ºè­¦å‘Š warnings: false, // åˆ é™¤æ‰€æœ‰çš„consoleè¯­å¥ï¼Œå¯ä»¥å…¼å®¹IEæµè§ˆå™¨ drop_console: true, &#125; &#125; &#125;) ]&#125; imagemin-webpack-pluginhttps://www.npmjs.com/package/imagemin-webpack-pluginå‹ç¼©å›¾ç‰‡æ–‡ä»¶ webpack-spritesmithhttps://www.npmjs.com/package/webpack-spritesmithåˆ¶ä½œé›ªç¢§å›¾ ModuleConcatenationPluginhttps://webpack.js.org/plugins/module-concatenation-plugin/å¼€å¯ WebpackScopeHoisting åŠŸèƒ½ dll-pluginhttps://webpack.js.org/plugins/dll-plugin/å€ŸåŠ© DLL çš„æ€æƒ³å¤§å¹…åº¦æå‡æ„å»ºé€Ÿåº¦DLLï¼šåŠ¨æ€é“¾æ¥åº“ï¼Œåœ¨ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­å¯ä»¥åŒ…å«ä¸ºå…¶ä»–æ¨¡å—è°ƒç”¨çš„å‡½æ•°å’Œæ•°æ® å°†ç½‘é¡µä¾èµ–çš„åŸºç¡€æ¨¡å—æŠ½ç¦»å‡ºæ¥ï¼Œæ‰“åŒ…åˆ°ä¸€ä¸ªä¸ªå•ç‹¬çš„åŠ¨æ€é“¾æ¥åº“ä¸­ã€‚åœ¨ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­å¯ä»¥åŒ…å«å¤šä¸ªæ¨¡å— å½“éœ€è¦å¯¼å…¥çš„æ¨¡å—å­˜åœ¨äºæŸä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­æ—¶ï¼Œè¿™ä¸ªæ¨¡å—ä¸èƒ½è¢«å†æ¬¡æ‰“åŒ…ï¼Œè€Œæ˜¯å»åŠ¨æ€é“¾æ¥åº“ä¸­è·å– é¡µé¢ä¾èµ–çš„æ‰€æœ‰åŠ¨æ€é“¾æ¥åº“éƒ½éœ€è¦è¢«åŠ è½½åŒ…å«å¤§é‡å¤ç”¨æ¨¡å—çš„åŠ¨æ€é“¾æ¥åº“åªéœ€è¢«ç¼–è¯‘ä¸€æ¬¡ï¼Œåœ¨ä¹‹åçš„æ„å»ºè¿‡ç¨‹ä¸­è¢«åŠ¨æ€é“¾æ¥åº“åŒ…å«çš„æ¨¡å—å°†ä¸ä¼šé‡æ–°ç¼–è¯‘ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨åŠ¨æ€é“¾æ¥åº“ä¸­çš„ä»£ç ã€‚åªè¦ä¸å‡çº§è¿™äº›æ¨¡å—çš„ç‰ˆæœ¬ï¼ŒåŠ¨æ€é“¾æ¥åº“å°±ä¸ç”¨é‡æ–°ç¼–è¯‘ .dllï¼š åŒ…å«äº†å¤§é‡æ¨¡å—çš„ä»£ç ï¼Œè¿™äº›æ¨¡å—è¢«å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç”¨æ•°ç»„çš„ç´¢å¼•å·ä½œä¸ºIDï¼Œå¹¶ä¸”é€šè¿‡ _dll_react å˜é‡å°†è‡ªå·±æš´éœ²åœ¨å…¨å±€ä¸­ï¼Œå³å¯ä»¥é€šè¿‡ window._dll_react è®¿é—®åˆ°å…¶ä¸­åŒ…å«çš„æ¨¡å— manifest.json: ç”¨äºæè¿°åœ¨åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶ä¸­åŒ…å«å“ªäº›æ¨¡å—ï¼Œä»¥åŠæ¯ä¸ªæ¨¡å—çš„è·¯å¾„å’Œ IDDllReferencePlugin ç”¨äºåœ¨ä¸»è¦çš„é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ DllPlugin æ’ä»¶æ‰“åŒ…å¥½çš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶1234567891011module.exports = &#123; plugins: [ // è¿™é‡Œçš„è·¯å¾„è¦å’Œ webpack.dll.config.js é‡Œé¢çš„å¯¹åº”ã€‚ new webpack.DllReferencePlugin(&#123; // éœ€è¦å’Œwebpack.dll.config.jsä¸­é…ç½®çš„contextä¿æŒä¸€è‡´ï¼Œç”¨æ¥æŒ‡å¯¼webpackåŒ¹é…manifestä¸­åº“çš„è·¯å¾„ context: __dirname, // ç”¨æ¥å¼•å…¥webpack.dll.config.jsä¸­è¾“å‡ºçš„manifestæ–‡ä»¶ manifest: path.resolve(__dirname, './dist/dll/vendors-manifest.json') &#125;), ]&#125; DllPlugin ç”¨äºæ‰“åŒ…å‡ºä¸€ä¸ªä¸ªå•ç‹¬çš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶123456789101112module.exports = &#123; plugins: [ new webpack.DllPlugin(&#123; // manifestæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„,[name]çš„éƒ¨åˆ†ç”±entryçš„åå­—æ›¿æ¢ path: path.join(__dirname, 'dist/dll/[name]-manifest.json'), // è¿™é‡Œå¿…é¡»åŒ¹é…ä¸Šé¢çš„output.libraryä¸­çš„å€¼,dllæš´éœ²çš„å¯¹è±¡å name: library, // è§£æåŒ…è·¯å¾„çš„ä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªè¦è·Ÿé…ç½®çš„dll userä¸€è‡´ context: __dirname &#125;), ]&#125; hot-module-replacement-pluginhttps://webpack.js.org/plugins/hot-module-replacement-plugin/å¼€å¯æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½ å…¶ä»–æ’ä»¶serviceworker-webpack-pluginhttps://github.com/oliviertassinari/serviceworker-webpack-pluginä¸ºç½‘é¡µåº”ç”¨å¢åŠ ç¦»çº¿ç¼“å­˜åŠŸèƒ½ stylelint-webpack-pluginhttps://github.com/JaKXz/stylelint-webpack-pluginå°†stylelinté›†æˆåˆ°é¡¹ç›®ä¸­ i18n-webpack-pluginhttps://github.com/webpack-contrib/i18n-webpack-pluginä½¿ç½‘é¡µæ”¯æŒå›½é™…åŒ– provide-pluginhttps://webpack.js.org/plugins/provide-plugin/ä»ç¯å¢ƒä¸­æä¾›çš„å…¨å±€å˜é‡ä¸­åŠ è½½æ¨¡å—ï¼Œè€Œä¸ç”¨å¯¼å…¥å¯¹åº”çš„æ–‡ä»¶ web-webpack-pluginhttps://github.com/gwuhaolin/web-webpack-pluginå¯æ–¹ä¾¿åœ°ä¸ºå•é¡µåº”ç”¨è¾“å‡ºHTMLï¼Œæ¯” html-webpack-plugin å¥½ç”¨ ä¸‰ã€ä¼˜åŒ–ç¼©å°æ–‡ä»¶æœç´¢èŒƒå›´Loader é…ç½® test use include exclude cacheDirectory: babel æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœ12345678910module.exports = &#123; //... rules: [ &#123; test: /\\.(jsx|js)$/, use: 'babel-loader?cacheDirectory', exclude: path.resolve(__dirname, 'node_modules') &#125;, ]&#125; resolve.modules é…ç½®é…ç½®Webpackå»å“ªäº›ç›®å½•ä¸‹æ‰¾ç¬¬ä¸‰æ–¹æ¨¡å—,é»˜è®¤æ˜¯[â€˜node_modulesâ€™], é€šè¿‡é…ç½®ç»å¯¹è·¯å¾„å‡å°‘æœç´¢æ­¥éª¤ 12345module.exports = &#123; resolve: &#123; modules: [path.resolve(__dirname, 'node_modules')] &#125;&#125; resolve.mainFields é…ç½®ç”¨äºé…ç½®ç¬¬ä¸‰æ–¹æ¨¡å—ä½¿ç”¨å“ªä¸ªå…¥å£æ–‡ä»¶ï¼›å¯ç”¨äºä¸åŒçš„è¿è¡Œç¯å¢ƒä¸‹ä½¿ç”¨ä¸åŒçš„ä»£ç ï¼Œä¾‹å¦‚åœ¨æµè§ˆå™¨ä¸­é€šè¿‡åŸç”Ÿçš„fetch æˆ–è€… XMLHttpRequest å®ç°ï¼Œåœ¨ Node.js ä¸­é€šè¿‡ http æ¨¡å—å®ç° resolve.mainFields çš„é»˜è®¤å€¼å’Œå½“å‰çš„ target é…ç½®æœ‰å…³ç³» å½“ target ä¸º web æˆ–è€… webworker æ—¶ï¼Œå€¼æ˜¯[â€œbrowserâ€, â€œmoduleâ€, â€œmainâ€] å½“ target ä¸ºå…¶ä»–æƒ…å†µæ—¶ï¼Œå€¼æ˜¯ [â€œmoduleâ€, â€œmainâ€] ç”±äºå¤§å¤šæ•°ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½é‡‡ç”¨ main å­—æ®µå»æè¿°å…¥å£æ–‡ä»¶çš„ä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡é…ç½® mainFields å­—æ®µä¸º main å€¼ï¼Œå‡å°‘æœç´¢æ­¥éª¤ï¼Œä½†æ˜¯æ³¨æ„åªè¦æœ‰ä¸€ä¸ªæ¨¡å—å‡ºé”™ï¼Œéƒ½å¯èƒ½ä¼šé€ æˆæ„å»ºå‡ºçš„ä»£ç æ— æ³•æ­£å¸¸è¿è¡Œ12345module.exports = &#123; resolve: &#123; mainFields: ['main'], &#125;&#125; resolve.alias é…ç½® é€šè¿‡é…ç½®alias ä½¿å¾—ä¸åŒç¯å¢ƒå¼•ç”¨ä¸åŒçš„ä»£ç ï¼Œå¦‚react-native-web çš„ä½¿ç”¨ ç”±äºwebpack é»˜è®¤ä¼šä»ç¬¬ä¸‰æ–¹æ¨¡å—ä¸­çš„ package.json ä¸­çš„æŒ‡å®šå…¥å£æ–‡ä»¶é€’å½’è§£æå’Œå¤„ç†ä¾èµ–æ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¯¥å…¥å£æ–‡ä»¶ä¼šå®šä¹‰æˆåŒ…å«æ£€æŸ¥å’Œè­¦å‘Šçš„æœªè¢«å‹ç¼©çš„ä»£ç ï¼Œä½†æ˜¯ç›´æ¥ä½¿ç”¨å•ç‹¬ã€å®Œæ•´çš„min.jsæ–‡ä»¶å¯ä»¥è·³è¿‡è€—æ—¶çš„é€’å½’è§£ææ“ä½œ1234567module.exports = &#123; resolve: &#123; alias: &#123; 'react': path.resolve(__dirname, './node_modules/react/dist/react.min.js') &#125;, &#125;&#125; resolve.extensions é…ç½® åç¼€å°è¯•åˆ—è¡¨è¦å°½å¯èƒ½å°ï¼Œä¸è¦å°†é¡¹ç›®ä¸­ä¸å¯èƒ½å­˜åœ¨çš„æƒ…å†µå†™åˆ°åç¼€å°è¯•åˆ—è¡¨ä¸­ é¢‘ç‡å‡ºç°æœ€é«˜çš„æ–‡ä»¶åç¼€è¦ä¼˜å…ˆæ”¾åœ¨æœ€å‰é¢ï¼Œä»¥åšåˆ°å°½å¿«é€€å‡ºå¯»æ‰¾è¿‡ç¨‹ åœ¨æºç ä¸­å†™å¯¼å…¥è¯­å¥æ—¶ï¼Œè¦å°½å¯èƒ½å¸¦ä¸Šåç¼€ï¼Œä»è€Œå¯ä»¥é¿å…å¯»æ‰¾è¿‡ç¨‹ 12345module.exports = &#123; resolve: &#123; extensions: ['js'], &#125;&#125; module.noParse é…ç½®è®© webpack å¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’å¤„ç†ï¼Œå¦‚jQuery| react.min.jsæ³¨æ„è¢«å¿½ç•¥æ‰çš„æ–‡ä»¶é‡Œä¸åº”è¯¥åŒ…å« import | require | define ç­‰æ¨¡å—åŒ–çš„è¯­å¥ï¼Œä¸ç„¶ä¼šå¯¼è‡´åœ¨æ„å»ºå‡ºçš„ä»£ç åŒ…å«æ— æ³•åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æ‰§è¡Œçš„æ¨¡å—åŒ–è¯­å¥123456const path = require('path)module.exports = &#123; module: &#123; noParse: [/react\\.min\\.js$/], &#125;&#125; HappyPackå°†ä»»åŠ¡åˆ†è§£ç»™å¤šä¸ªå­è¿›ç¨‹å»å¹¶å‘æ‰§è¡Œï¼Œå­è¿›ç¨‹å¤„ç†å®Œåå†å°†ç»“æœå‘é€ç»™ä¸»è¿›ç¨‹ã€‚ç”±äº JS æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œæ‰€ä»¥è¦å‘æŒ¥å¤šæ ¸ CPU çš„åŠŸèƒ½ï¼Œå°±åªèƒ½é€šè¿‡å¤šè¿›ç¨‹å®ç°ï¼Œè€Œæ— æ³•é€šè¿‡å¤šçº¿ç¨‹å®ç°ã€‚ æ¥å…¥ webpack åœ¨ Loader é…ç½®ä¸­ï¼Œå¯¹æ‰€æœ‰æ–‡ä»¶çš„å¤„ç†éƒ½äº¤ç»™ happypack/loader, ä½¿ç”¨ç´§è·Ÿå…¶åçš„ querystring ?id=babel å»å‘Šè¯‰ happypack/loader é€‰æ‹©å“ªä¸ª HappyPack å®ä¾‹å¤„ç†æ–‡ä»¶ åœ¨ Plugin ä¸­æ–°å¢äº† HappyPack å®ä¾‹ï¼Œç”¨äºå‘Šè¯‰ happypack/loader å¦‚ä½•å¤„ç† .js å’Œ .css æ–‡ä»¶ã€‚é€‰é¡¹ä¸­çš„ id å±æ€§çš„å€¼å’Œä¸Šé¢ querystring ä¸­çš„ ?id=babel å¯¹åº” id: loaders: å’ŒåŸæœ¬Loader é…ç½®ä¸­çš„ä¸€æ · threads: ä»£è¡¨å¼€å¯å‡ ä¸ªå­è¿›ç¨‹å»å¤„ç†è¿™ä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ 3 ä¸ªï¼Œå¿…é¡»æ˜¯æ•´æ•° verbose: æ˜¯å¦å…è®¸ HappyPack è¾“å‡ºæ—¥å¿—ï¼Œé»˜è®¤æ˜¯ true threadPool: ä»£è¡¨å…±äº«è¿›ç¨‹æ± ï¼Œå³å¤šä¸ª HappyPack å®ä¾‹éƒ½ä½¿ç”¨åŒä¸€ä¸ªå…±äº«è¿›ç¨‹æ± ä¸­çš„å­è¿›ç¨‹å»å¤„ç†ä»»åŠ¡ï¼Œä»¥é˜²æ­¢èµ„æºå ç”¨è¿‡å¤šã€‚1npm i -D happypack 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152const path = require('path');const HappyPack = require('happypack');module.exports = &#123; module: &#123; rules: [ &#123; test: /\\.(jsx|js)$/, use: ['happypack/loader?id=babel'], // å°†å¯¹ .js æ–‡ä»¶çš„å¤„ç†è½¬äº¤ç»™ id ä¸º babel çš„ HappyPack å®ä¾‹ exclude: path.resolve(__dirname, 'node_modules') &#125;, &#123; test: /\\.(css|less)$/, use: ['happypack/loader?id=css'], exclude: path.resolve(__dirname, 'node_modules') &#125;, &#123; test: /\\.(png|svg|jpg|gif|webp|ico)$/, use: ['happypack/loader?id=file'], exclude: path.resolve(__dirname, 'node_modules') &#125;, &#123; test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/, use: ['happypack/loader?id=url'], include: path.resolve(__dirname, 'assets/fonts') &#125; ], plugins: [ new HappyPack(&#123; id: 'babel', loaders: ['babel-loader?cacheDirectory'], threadPool: happyThreadPool, &#125;), new HappyPack(&#123; id: 'css', loaders: ['style-loader', 'css-loader', 'less-loader'], threadPool: happyThreadPool, &#125;), new HappyPack(&#123; id: 'file', loaders: ['file-loader'], threadPool: happyThreadPool, &#125;), new HappyPack(&#123; id: 'url', loaders: ['url-loader'], threadPool: happyThreadPool, // ä½¿ç”¨å…±äº«è¿›ç¨‹æ± ä¸­çš„å­è¿›ç¨‹å»å¤„ç†ä»»åŠ¡ &#125;), ] &#125;&#125;; ä¼˜åŒ–æ–‡ä»¶ç›‘å¬1webpack --watch webpack-dev-server é»˜è®¤å¼€å¯æ–‡ä»¶ç›‘å¬åœ¨å¼€å¯ç›‘å¬æ¨¡å¼æ—¶ï¼Œé»˜è®¤ä¼šç›‘å¬é…ç½®çš„ Entry æ–‡ä»¶å’Œæ‰€æœ‰ Entry é€’å½’ä¾èµ–çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ node_modules ä¸‹çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚ 12345module.exports = &#123; watchOptions: &#123; ignored: /node_modules/, &#125;&#125; é‡‡ç”¨è¿™ç§æ–¹æ³•ä¼˜åŒ–åï¼Œæ¶ˆè€—çš„å†…å­˜å’Œ CPU å°†ä¼šå¤§å¤§å‡å°‘ watchOptions.aggregateTimeout è¶Šå¤§æ€§èƒ½è¶Šå¥½ï¼Œèƒ½é™ä½é‡æ–°æ„å»ºçš„é¢‘ç‡ watchOptions.poll è¶Šå°è¶Šå¥½ï¼Œé™ä½æ£€æŸ¥çš„é¢‘ç‡åŒæ—¶æ³¨æ„è¿™ä¸¤ä¸ªä¼˜åŒ–ä¼šå¯¼è‡´ç›‘å¬æ¨¡å¼ååº”å’Œçµæ•åº¦é™ä½ ä¼˜åŒ–è‡ªåŠ¨åˆ·æ–°è‡ªåŠ¨åˆ·æ–°ï¼š å€ŸåŠ©æµè§ˆå™¨æ‰©å±•å»é€šè¿‡æµè§ˆå™¨æä¾›çš„æ¥å£åˆ·æ–°ï¼Œå¦‚ WebStorm IDE çš„ LiveEdit åŠŸèƒ½ å‘è¦å¼€å‘çš„ç½‘é¡µä¸­æ³¨å…¥ä»£ç†å®¢æˆ·ç«¯ä»£ç ï¼Œé€šè¿‡ä»£ç†å®¢æˆ·ç«¯å»åˆ·æ–°æ•´ä¸ªé¡µé¢ å°†è¦å¼€å‘çš„ç½‘é¡µè£…è¿›ä¸€ä¸ª iframe ä¸­ï¼Œé€šè¿‡ åˆ·æ–° iframe å»çœ‹åˆ°æœ€æ–°æ•ˆæœ devServer.inline : ç”¨æ¥æ§åˆ¶æ˜¯å¦å‘ Chunk ä¸­æ³¨å…¥ä»£ç†å®¢æˆ·ç«¯ï¼Œé»˜è®¤æ³¨å…¥ã€‚ä¼˜åŒ–å³å…³é—­ï¼Œä»è€Œåªæ³¨å…¥ä¸€ä¸ªä»£ç†å®¢æˆ·ç«¯ï¼Œè€Œéç²—æš´åœ°ä¸ºæ¯ä¸ª chunk éƒ½æ³¨å…¥ã€‚ å…¥å£ç½‘å€ä¼šå˜æˆ http://localhost:8080/webpack-dev-server bundle.js ä¸­ä¸å†åŒ…å«ä»£ç†å®¢æˆ·ç«¯çš„ä»£ç  æ¨¡å—çƒ­æ›¿æ¢devServer é»˜è®¤ä¸å¼€å¯ 1webpack-dev-server --hot çƒ­æ›¿æ¢æ€§èƒ½é—®é¢˜å’Œè‡ªåŠ¨åˆ·æ–°ä¸€æ ·ä¸»è¦æ˜¯å› ä¸ºéœ€è¦ç›‘å¬æ–‡ä»¶çš„å˜åŒ–å’Œæ³¨å…¥å®¢æˆ·ç«¯ï¼šå¿½ç•¥ node_modules Update module ä¼˜åŒ–1234567const NamedModulesPlugin = require('webpack/lib/NamedModulesPlugin')module.exports = &#123; plugins: [ // æ˜¾ç¤ºå‡ºè¢«æ›¿æ¢æ¨¡å—çš„åç§° new NamedModulesPlugin(), ]&#125; å‹ç¼© CSScss-loader å†…ç½®äº† cssnanoï¼Œåªéœ€å¼€å¯ css-loader çš„ minimize é€‰é¡¹1use: ['css-loader?minimize'] CDN åŠ é€Ÿå†…å®¹åˆ†å‘ç½‘ç»œï¼šé€šè¿‡å°†èµ„æºéƒ¨ç½²åˆ°ä¸–ç•Œå„åœ°ï¼Œä½¿ç”¨æˆ·åœ¨è®¿é—®æ—¶æŒ‰ç…§ä»…ä»…åŸåˆ™ä»ç¦»å…¶æœ€è¿‘çš„æœåŠ¡å™¨è·å–èµ„æºï¼Œæ¥åŠ å¿«èµ„æºçš„è·å–é€Ÿåº¦ã€‚é€šè¿‡ä¼˜åŒ–ç‰©ç†é“¾è·¯å±‚ä¼ è¾“è¿‡ç¨‹ä¸­çš„å…‰é€Ÿæœ‰é™ã€ä¸¢åŒ…ç­‰é—®é¢˜æ¥æå‡ç½‘é€Ÿã€‚ é’ˆå¯¹ HTML æ–‡ä»¶ï¼šä¸å¼€å¯ç¼“å­˜ï¼Œå°† HTML æ”¾åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸æ˜¯ CDN æœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶å…³é—­è‡ªå·±æœåŠ¡å™¨ä¸Šçš„ç¼“å­˜ã€‚è‡ªå·±çš„æœåŠ¡å™¨åªæä¾› HTML æ–‡ä»¶å’Œæ•°æ®æ¥å£ é’ˆå¯¹é™æ€çš„ JS ã€CSSã€å›¾ç‰‡ç­‰æ–‡ä»¶ï¼šå¼€å¯ CDN å’Œç¼“å­˜ï¼Œä¸Šä¼ åˆ° CDN æœåŠ¡ä¸Šï¼ŒåŒæ—¶ä¸ºæ¯ä¸ªæ–‡ä»¶åå¸¦ä¸Šç”±æ–‡ä»¶å†…å®¹ç®—å‡ºçš„ Hash å€¼ã€‚ æ›´æ”¹ HTML ä¸­å¼•å…¥é™æ€æ–‡ä»¶çš„èµ„æºå¼•å…¥åœ°å€ä¸ºCDN æœåŠ¡çš„ URL åœ°å€ â€œ//cdn.com/id/app_a6976b6d.cssâ€ è¿™æ ·çš„ URL çœç•¥äº† httpï¼šæˆ–è€… httpï¼šå‰ç¼€ï¼Œè¿™æ ·åšåœ¨è®¿é—®è¿™äº›èµ„æºæ—¶ä¼šè‡ªåŠ¨æ ¹æ®å½“å‰ HTML çš„ URL é‡‡ç”¨äº†ä»€ä¹ˆæ¨¡å¼å»å†³å®šæ˜¯é‡‡ç”¨ HTTP è¿˜æ˜¯ HTTPS æ¨¡å¼ æµè§ˆå™¨è§„åˆ™ï¼šåœ¨åŒä¸€æ—¶åˆ»é’ˆå¯¹åŒä¸€ä¸ªåŸŸåèµ„æºçš„å¹¶è¡Œè¯·æ±‚æœ‰é™åˆ¶(å¤§æ¦‚4ä¸ªå·¦å³)ï¼Œåˆ™ä¼šå¯¼è‡´èµ„æºçš„åŠ è½½è¢«é˜»å¡ã€‚å¯ä»¥å°†è¿™äº›é™æ€èµ„æºåˆ†æ•£åˆ°ä¸åŒçš„ CDN æœåŠ¡ä¸Š ç”¨å¤šä¸ªåŸŸååä¼šå¸¦æ¥ä¸€ä¸ªæ–°é—®é¢˜ï¼šå¢åŠ åŸŸåè§£ææ—¶é—´ï¼Œå¯¹äºæ˜¯å¦é‡‡ç”¨å¤šåŸŸååˆ†æ•£èµ„æºï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»è¡¡é‡å¾—å¤± webpack å®ç° CDN çš„æ¥å…¥ é™æ€èµ„æºå¯¼å…¥ URL éœ€è¦å˜æˆæŒ‡å‘ CDN æœåŠ¡çš„ç»å¯¹è·¯å¾„çš„ URLï¼Œè€Œä¸æ˜¯ç›¸å¯¹äº HTML æ–‡ä»¶çš„ URL é™æ€èµ„æºçš„æ–‡ä»¶åéœ€è¦å¸¦ä¸Šç”±æ–‡ä»¶å†…å®¹ç®—å‡ºæ¥çš„ Hash å€¼ï¼Œä»¥é˜²æ­¢è¢«ç¼“å­˜ å°†ä¸åŒç±»å‹çš„èµ„æºæ”¾åˆ°ä¸åŒåŸŸåçš„ CDN æœåŠ¡ä¸Šï¼Œä»¥é˜²æ­¢èµ„æºçš„å¹¶è¡ŒåŠ è½½è¢«é˜»å¡ åœ¨ output.publicPath ä¸­è®¾ç½® JS çš„åœ°å€ åœ¨ css-loader.publicPath ä¸­è®¾ç½®è¢« CSS å¯¼å…¥çš„èµ„æºçš„åœ°å€ åœ¨ WebPlugin.stylePublicPath ä¸­è®¾ç½® CSS æ–‡ä»¶çš„åœ°å€12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758const path = require(&apos;path&apos;);const HappyPack = require(&apos;happypack&apos;);const ExtractTextPlugin = require(&apos;extract-text-webpack-plugin&apos;);module.exports = &#123; // ... output: &#123; filename: &apos;[name]_[chunkhash:8].js&apos;, // ä¸ºè¾“å‡ºçš„ JS åŠ ä¸Š Hash å€¼ path: path.resolve(__dirname, &apos;./dist&apos;), publicPath: &apos;//js.cdn.com/id/&apos;, // æŒ‡å®šå­˜æ”¾ JS æ–‡ä»¶çš„ CDN ç›®å½• URL &#125;, module: &#123; rules: [ &#123; test: /\\.(jsx|js)$/, use: [&apos;happypack/loader?id=babel&apos;], // å°†å¯¹ .js æ–‡ä»¶çš„å¤„ç†è½¬äº¤ç»™ id ä¸º babel çš„ HappyPack å®ä¾‹ exclude: path.resolve(__dirname, &apos;node_modules&apos;) &#125;, &#123; test: /\\.(css|less)$/, use: [&apos;happypack/loader?id=css&apos;], exclude: path.resolve(__dirname, &apos;node_modules&apos;) &#125;, &#123; test: /\\.(png|svg|jpg|gif|webp|ico)$/, use: [&apos;happypack/loader?id=file&apos;], exclude: path.resolve(__dirname, &apos;node_modules&apos;) &#125;, &#123; test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/, use: [&apos;happypack/loader?id=url&apos;], include: path.resolve(__dirname, &apos;assets/fonts&apos;) &#125; ], plugins: [ new HappyPack(&#123; id: &apos;babel&apos;, loaders: [&apos;babel-loader?cacheDirectory&apos;] &#125;), new HappyPack(&#123; id: &apos;css&apos;, loaders: [&apos;style-loader&apos;, &apos;css-loader?minimizer&apos;, &apos;less-loader&apos;] &#125;), new HappyPack(&#123; id: &apos;file&apos;, loaders: [&apos;file-loader?name=[name]_[hash:8].[ext]&apos;] // ä¸ºè¾“å‡ºçš„å›¾ç‰‡ååŠ ä¸Š Hash å€¼ &#125;), new HappyPack(&#123; id: &apos;url&apos;, loaders: [&apos;url-loader&apos;] &#125;), new ExtractTextPlugin(&#123; filename: &apos;[name]_[contenthash:8].css&apos;, // ä¸ºè¾“å‡ºçš„ CSS æ–‡ä»¶ååŠ ä¸Š Hash å€¼ publicPath: &apos;//img.cdn.com/id/&apos;, // æŒ‡å®šå­˜æ”¾ CSS ä¸­å¯¼å…¥çš„èµ„æº(ä¾‹å¦‚å›¾ç‰‡)çš„ CDN ç›®å½• URL &#125;) ] &#125;&#125;; Tree Shaking å‰”é™¤ JS ä¸­ç”¨ä¸ä¸Šçš„æ­»ä»£ç ï¼Œä¾èµ–é™æ€çš„ ES6 æ¨¡å—åŒ–è¯­æ³•ï¼Œå¦‚æœé‡‡ç”¨äº† ES5 åˆ™ webpack æ— æ³•åˆ†æå‡ºå¯ä»¥å‰”é™¤å“ªäº›ä»£ç  æ¥å…¥ Tree Shaking éœ€è¦é…ç½® Babel ä»¥è®©å…¶ä¿ç•™ ES6 æ¨¡å—åŒ–è¯­å¥.babelrc12345&#123; \"presets\": [\"env\", &#123; \"modules\": false // å…³é—­ Babel çš„æ¨¡å—è½¬æ¢åŠŸèƒ½ï¼Œä¿ç•™åŸæœ¬çš„ES6æ¨¡å—åŒ–è¯­æ³• &#125;],&#125; å¤§éƒ¨åˆ† NPM åº“éƒ½ä¼šæä¾›ä¸¤ä»½ä»£ç ï¼Œä¸€ä»½ç”¨ CommonJS æ¨¡å—åŒ–è¯­æ³•ï¼Œä¸€ä»½ç”¨ ES6 æ¨¡å—åŒ–è¯­æ³•ï¼Œå¹¶åœ¨ package.json ä¸­åˆ†åˆ«æŒ‡å‡ºè¿™ä¸¤ä»½ä»£ç çš„å…¥å£ï¼š1234&#123; \"main\": \"lib/index.js\", // æŒ‡æ˜é‡‡ç”¨ CommonJS æ¨¡å—åŒ–çš„ä»£ç å…¥å£ \"jsnext:main\": \"es/index.js\" // æŒ‡æ˜é‡‡ç”¨ ES6 æ¨¡å—åŒ–çš„ä»£ç å…¥å£,ç¤¾åŒºçº¦å®š&#125; é…ç½® webpack çš„æ–‡ä»¶å¯»æ‰¾è§„åˆ™123456module.exports = &#123; resolve: &#123; // é’ˆå¯¹ NPM ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—ä¼˜å…ˆé‡‡ç”¨ jsnext:main ä¸­æŒ‡å‘çš„ ES6 æ¨¡å—åŒ–è¯­æ³•çš„æ–‡ä»¶ mainFields: [&apos;jsnext:main&apos;, &apos;browser&apos;, &apos;main&apos;] &#125;&#125; Scope Hoisting åˆ†ææ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°½å¯èƒ½å°†è¢«æ‰“æ•£çš„æ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä½†å‰ææ˜¯ä¸èƒ½é€ æˆä»£ç å†—ä½™ã€‚å› æ­¤åªæœ‰é‚£äº›è¢«å¼•ç”¨äº†ä¸€æ¬¡çš„æ¨¡å—æ‰èƒ½è¢«åˆå¹¶ ä»£ç ä½“ç§¯æ›´å°ï¼Œå› ä¸ºå‡½æ•°ç”³æ˜è¯­å¥ä¼šäº§ç”Ÿå¤§é‡çš„ä»£ç  ä»£ç åœ¨è¿è¡Œæ—¶å› ä¸ºåˆ›å»ºçš„å‡½æ•°ä½œç”¨åŸŸå˜å°‘äº†ï¼Œæ‰€ä»¥å†…å­˜å¼€é”€ä¹Ÿå˜å°äº† å¯¹äºé ES6 æ¨¡å—åŒ–è¯­æ³•çš„ä»£ç ï¼Œä¼šè‡ªåŠ¨é™çº§å¤„ç†ï¼Œå¯ä»¥åœ¨å¯åŠ¨æ—¶åŠ ä¸Š â€“display-optimization-bailout åœ¨æ§åˆ¶å°è¾“å‡ºé™çº§æ—¥å¿— 123456789const ModuleConcatnationPlugin = require('webpack/lib/optimize/ModuleConcatnationPlugin');module.exports = &#123; resolve: &#123; mainFields: ['jsnext:main', 'browser', 'main'] // Scope Hoisting ä¾èµ– ES6 æ¨¡å—åŒ–è¯­æ³• plugins: [ new ModuleConcatnationPlugin(), // å¼€å¯ Scope Hoisting ]&#125; åˆ†å‰²ä»£ç ä»¥æŒ‰éœ€åŠ è½½æŒ‰éœ€åŠ è½½ï¼šç”¨æˆ·å½“å‰éœ€è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±åªåŠ è½½è¿™ä¸ªåŠŸèƒ½å¯¹åº”çš„ä»£ç ï¼Œè€Œä¸æ˜¯åŠ è½½æ‰€æœ‰åŠŸèƒ½å¯¹åº”çš„ä»£ç  ä¸º SPA åšæŒ‰éœ€ä¼˜åŒ–æ—¶ï¼š å°†æ•´ä¸ªç½‘ç«™åˆ’åˆ†æˆä¸€ä¸ªä¸ªå°åŠŸèƒ½ï¼Œå†æŒ‰ç…§æ¯ä¸ªåŠŸèƒ½çš„ç›¸å…³ç¨‹åº¦åˆ†æˆå‡ ç±» å°†æ¯ç±»åˆå¹¶ä¸ºä¸€ä¸ª Chunkï¼ŒæŒ‰éœ€åŠ è½½å¯¹åº”çš„ Chunk ä¸è¦æŒ‰éœ€åŠ è½½é¦–é¡µæ‰€å¯¹åº”çš„åŠŸèƒ½ï¼Œå°†å…¶æ”¾åˆ°æ‰§è¡Œå…¥å£æ‰€åœ¨çš„ Chunk ä¸­ï¼Œä»¥å‡å°‘ç”¨æˆ·èƒ½æ„ŸçŸ¥çš„ç½‘é¡µåŠ è½½æ—¶é—´ å¯¹äºä¸ä¾èµ–å¤§é‡ä»£ç çš„åŠŸèƒ½ç‚¹ï¼Œä¾‹å¦‚ä¾èµ– Chart.js å»ç”»å›¾è¡¨ã€ä¾èµ– flv.js å»æ’­æ”¾è§†é¢‘çš„åŠŸèƒ½ç‚¹ï¼Œå¯å†å¯¹å…¶è¿›è¡ŒæŒ‰éœ€åŠ è½½ è¢«åˆ†å‰²å‡ºå»çš„ä»£ç çš„åŠ è½½éœ€è¦ä¸€å®šçš„æ—¶æœºå»è§¦å‘ï¼Œå³å½“ç”¨æˆ·æ“ä½œåˆ°äº†æˆ–è€…å³å°†æ“ä½œåˆ°å¯¹åº”åŠŸèƒ½æ—¶å†å»åŠ è½½å¯¹åº”çš„ä»£ç ã€‚è¢«åˆ†å‰²å‡ºå»çš„ä»£ç çš„åŠ è½½æ—¶æœºéœ€è¦å¼€å‘è€…æ ¹æ®ç½‘é¡µçš„éœ€æ±‚å»è¡¡é‡å’Œç¡®å®š åˆ†å‰²ä»£ç æŒ‰éœ€åŠ è½½ReactRouterçš„æ¡ˆä¾‹ .babelrc 123456789&#123; \"presets\": [ \"env\", \"react\" ], \"plugins\": [ \"syntax-dynamic-import\" ]&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859// main.jsimport React, &#123;PureComponent, createElement&#125; from 'react';import &#123;render&#125; from 'react-dom';import &#123;HashRouter, Route, Link&#125; from 'react-router-dom';import PageHome from './pages/home';/** * å¼‚æ­¥åŠ è½½ç»„ä»¶ * @param load ç»„ä»¶åŠ è½½å‡½æ•°ï¼Œload å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª Promiseï¼Œåœ¨æ–‡ä»¶åŠ è½½å®Œæˆæ—¶ resolve * @returns &#123;AsyncComponent&#125; è¿”å›ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ç”¨äºå°è£…éœ€è¦å¼‚æ­¥åŠ è½½çš„ç»„ä»¶ */function getAsyncComponent(load) &#123; return class AsyncComponent extends PureComponent &#123; componentDidMount() &#123; // åœ¨é«˜é˜¶ç»„ä»¶ DidMount æ—¶æ‰å»æ‰§è¡Œç½‘ç»œåŠ è½½æ­¥éª¤ load().then((&#123;default: component&#125;) =&gt; &#123; // ä»£ç åŠ è½½æˆåŠŸï¼Œè·å–åˆ°äº†ä»£ç å¯¼å‡ºçš„å€¼ï¼Œè°ƒç”¨ setState é€šçŸ¥é«˜é˜¶ç»„ä»¶é‡æ–°æ¸²æŸ“å­ç»„ä»¶ this.setState(&#123; component, &#125;) &#125;); &#125; render() &#123; const &#123;component&#125; = this.state || &#123;&#125;; // component æ˜¯ React.Component ç±»å‹ï¼Œéœ€è¦é€šè¿‡ React.createElement ç”Ÿäº§ä¸€ä¸ªç»„ä»¶å®ä¾‹ return component ? createElement(component) : null; &#125; &#125;&#125;// æ ¹ç»„ä»¶function App() &#123; return ( &lt;HashRouter&gt; &lt;div&gt; &lt;nav&gt; &lt;Link to='/'&gt;Home&lt;/Link&gt; | &lt;Link to='/about'&gt;About&lt;/Link&gt; | &lt;Link to='/login'&gt;Login&lt;/Link&gt; &lt;/nav&gt; &lt;hr/&gt; &lt;Route exact path='/' component=&#123;PageHome&#125;/&gt; &lt;Route path='/about' component=&#123;getAsyncComponent( // å¼‚æ­¥åŠ è½½å‡½æ•°ï¼Œå¼‚æ­¥åœ°åŠ è½½ PageAbout ç»„ä»¶ () =&gt; import(/* webpackChunkName: 'page-about' */'./pages/about') )&#125; /&gt; &lt;Route path='/login' component=&#123;getAsyncComponent( // å¼‚æ­¥åŠ è½½å‡½æ•°ï¼Œå¼‚æ­¥åœ°åŠ è½½ PageAbout ç»„ä»¶ () =&gt; import(/* webpackChunkName: 'page-login' */'./pages/login') )&#125; /&gt; &lt;/div&gt; &lt;/HashRouter&gt; )&#125;// æ¸²æŸ“æ ¹ç»„ä»¶render(&lt;App/&gt;, window.document.getElementById('app')); 123456// pages/home/index.jsimport React from 'react';export default function PageHome() &#123; return &lt;div&gt;Page Home&lt;/div&gt;&#125; 123456// pages/about/index.jsimport React from 'react';export default function PageAbout() &#123; return &lt;div&gt;Page About&lt;/div&gt;&#125; 123456// pages/login/index.jsimport React from 'react';export default function PageLogin() &#123; return &lt;div&gt;Page Login&lt;/div&gt;&#125; å¯è§†åŒ–åˆ†æå·¥å…·1webpack --profile --json webpack analyse(å®˜æ–¹) Modules: å±•ç¤ºæ‰€æœ‰æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸”åŒ…å«æ‰€æœ‰æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å›¾ã€æ¨¡å—è·¯å¾„ã€æ¨¡å—IDã€æ¨¡å—æ‰€å±çš„ Chunkã€æ¨¡å—çš„å¤§å° Chunks: å±•ç¤ºæ‰€æœ‰ä»£ç å—ï¼Œåœ¨ä¸€ä¸ªä»£ç å—ä¸­åŒ…å«å¤šä¸ªæ¨¡å—ï¼Œå¹¶ä¸”åŒ…å«ä»£ç å—çš„ IDã€åç§°ã€å¤§å°ï¼Œæ¯ä¸ªä»£ç å—åŒ…å«çš„æ¨¡å—æ•°é‡ï¼Œä»¥åŠä»£ç å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å›¾ Assets: å±•ç¤ºæ‰€æœ‰è¾“å‡ºçš„æ–‡ä»¶èµ„æºï¼ŒåŒ…æ‹¬JSã€CSSã€å›¾ç‰‡ç­‰ï¼Œå¹¶ä¸”åŒ…æ‹¬æ–‡ä»¶åç§°ã€å¤§å°åŠè¯¥æ–‡ä»¶æ¥è‡ªå“ªä¸ªä»£ç å— Warning: å±•ç¤ºæ„å»ºè¿‡ç¨‹ä¸­å‡ºç°çš„æ‰€æœ‰è­¦å‘Šä¿¡æ¯ Errors: å±•ç¤ºæ„å»ºè¿‡ç¨‹ä¸­å‡ºç°çš„æ‰€æœ‰é”™è¯¯ä¿¡æ¯ Hintsï¼šå±•ç¤ºå¤„ç†æ¯ä¸ªæ¨¡å—æ‰€è€—è´¹çš„æ—¶é—´webpack-bundle-analyzer æ²¡æœ‰å®˜æ–¹çš„é‚£ä¹ˆå¤šåŠŸèƒ½ï¼Œä½†æ›´ç›´è§‚ æ‰“åŒ…å‡ºçš„æ–‡ä»¶ä¸­éƒ½åŒ…å«ä»€ä¹ˆ æ¯ä¸ªæ–‡ä»¶çš„å°ºå¯¸åœ¨æ€»ä½“ä¸­çš„å æ¯”ï¼Œä¸€çœ¼çœ‹å‡ºå“ªäº›æ–‡ä»¶çš„å°ºå¯¸å¤§ æ¨¡å—ä¹‹é—´çš„åŒ…å«å…³ç³» æ¯ä¸ªæ–‡ä»¶çš„ Gzip åçš„å¤§å° æ¨èé…ç½®æœ€ä¼˜æ„å»ºé€Ÿåº¦123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293const path = require('path');const CommonsChunkPlugin = require('webpack/lib/optimize/CommonsChunkPlugin');const &#123;AutoWebPlugin&#125; = require('web-webpack-plugin');const HappyPack = require('happypack');// è‡ªåŠ¨å¯»æ‰¾ pages ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼ŒæŠŠæ¯ä¸€ä¸ªç›®å½•çœ‹æˆä¸€ä¸ªå•é¡µåº”ç”¨const autoWebPlugin = new AutoWebPlugin('./src/pages', &#123; // HTML æ¨¡ç‰ˆæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„ template: './template.html', // æå–å‡ºæ‰€æœ‰é¡µé¢å…¬å…±çš„ä»£ç  commonsChunk: &#123; // æå–å‡ºå…¬å…±ä»£ç  Chunk çš„åç§° name: 'common', &#125;,&#125;);module.exports = &#123; // AutoWebPlugin ä¼šæ‰¾ä¸ºå¯»æ‰¾åˆ°çš„æ‰€æœ‰å•é¡µåº”ç”¨ï¼Œç”Ÿæˆå¯¹åº”çš„å…¥å£é…ç½®ï¼Œ // autoWebPlugin.entry æ–¹æ³•å¯ä»¥è·å–åˆ°ç”Ÿæˆå…¥å£é…ç½® entry: autoWebPlugin.entry(&#123; // è¿™é‡Œå¯ä»¥åŠ å…¥ä½ é¢å¤–éœ€è¦çš„ Chunk å…¥å£ base: './src/base.js', &#125;), output: &#123; filename: '[name].js', &#125;, resolve: &#123; // ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡æ˜ç¬¬ä¸‰æ–¹æ¨¡å—å­˜æ”¾çš„ä½ç½®ï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤ // å…¶ä¸­ __dirname è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½• modules: [path.resolve(__dirname, 'node_modules')], // åªé‡‡ç”¨ main å­—æ®µä½œä¸ºå…¥å£æ–‡ä»¶æè¿°å­—æ®µï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤ mainFields: ['jsnext:main', 'main'], &#125;, module: &#123; rules: [ &#123; // å¦‚æœé¡¹ç›®æºç ä¸­åªæœ‰ js æ–‡ä»¶å°±ä¸è¦å†™æˆ /\\.jsx?$/ï¼Œæå‡æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½ test: /\\.js$/, use: ['happypack/loader?id=babel'], // åªå¯¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ src ç›®å½•ä¸­çš„æ–‡ä»¶é‡‡ç”¨ babel-loader include: path.resolve(__dirname, 'src'), &#125;, &#123; test: /\\.js$/, use: ['happypack/loader?id=ui-component'], include: path.resolve(__dirname, 'src'), &#125;, &#123; // å¢åŠ å¯¹ CSS æ–‡ä»¶çš„æ”¯æŒ test: /\\.css/, // æå–å‡º Chunk ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ use: ['happypack/loader?id=css'], &#125;, ] &#125;, plugins: [ autoWebPlugin, // ä½¿ç”¨HappyPack new HappyPack(&#123; id: 'babel', // babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯ loaders: ['babel-loader?cacheDirectory'], &#125;), new HappyPack(&#123; // UI ç»„ä»¶åŠ è½½æ‹†åˆ† id: 'ui-component', loaders: [&#123; loader: 'ui-component-loader', options: &#123; lib: 'antd', style: 'style/index.css', camel2: '-' &#125; &#125;], &#125;), new HappyPack(&#123; id: 'css', // å¦‚ä½•å¤„ç† .css æ–‡ä»¶ï¼Œç”¨æ³•å’Œ Loader é…ç½®ä¸­ä¸€æ · loaders: ['style-loader', 'css-loader'], &#125;), // 4-11æå–å…¬å…±ä»£ç  new CommonsChunkPlugin(&#123; // ä» common å’Œ base ä¸¤ä¸ªç°æˆçš„ Chunk ä¸­æå–å…¬å…±çš„éƒ¨åˆ† chunks: ['common', 'base'], // æŠŠå…¬å…±çš„éƒ¨åˆ†æ”¾åˆ° base ä¸­ name: 'base' &#125;), ], watchOptions: &#123; // 4-5ä½¿ç”¨è‡ªåŠ¨åˆ·æ–°ï¼šä¸ç›‘å¬çš„ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶ ignored: /node_modules/, &#125;&#125;; æœ€ä½³è´¨é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139const path = require('path');const DefinePlugin = require('webpack/lib/DefinePlugin');const ModuleConcatenationPlugin = require('webpack/lib/optimize/ModuleConcatenationPlugin');const CommonsChunkPlugin = require('webpack/lib/optimize/CommonsChunkPlugin');const ExtractTextPlugin = require('extract-text-webpack-plugin');const &#123;AutoWebPlugin&#125; = require('web-webpack-plugin');const HappyPack = require('happypack');const ParallelUglifyPlugin = require('webpack-parallel-uglify-plugin');// è‡ªåŠ¨å¯»æ‰¾ pages ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼ŒæŠŠæ¯ä¸€ä¸ªç›®å½•çœ‹æˆä¸€ä¸ªå•é¡µåº”ç”¨const autoWebPlugin = new AutoWebPlugin('./src/pages', &#123; // HTML æ¨¡ç‰ˆæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„ template: './template.html', // æå–å‡ºæ‰€æœ‰é¡µé¢å…¬å…±çš„ä»£ç  commonsChunk: &#123; // æå–å‡ºå…¬å…±ä»£ç  Chunk çš„åç§° name: 'common', &#125;, // æŒ‡å®šå­˜æ”¾ CSS æ–‡ä»¶çš„ CDN ç›®å½• URL stylePublicPath: '//css.cdn.com/id/',&#125;);module.exports = &#123; // AutoWebPlugin ä¼šæ‰¾ä¸ºå¯»æ‰¾åˆ°çš„æ‰€æœ‰å•é¡µåº”ç”¨ï¼Œç”Ÿæˆå¯¹åº”çš„å…¥å£é…ç½®ï¼Œ // autoWebPlugin.entry æ–¹æ³•å¯ä»¥è·å–åˆ°ç”Ÿæˆå…¥å£é…ç½® entry: autoWebPlugin.entry(&#123; // è¿™é‡Œå¯ä»¥åŠ å…¥ä½ é¢å¤–éœ€è¦çš„ Chunk å…¥å£ base: './src/base.js', &#125;), output: &#123; // ç»™è¾“å‡ºçš„æ–‡ä»¶åç§°åŠ ä¸Š hash å€¼ filename: '[name]_[chunkhash:8].js', path: path.resolve(__dirname, './dist'), // æŒ‡å®šå­˜æ”¾ JavaScript æ–‡ä»¶çš„ CDN ç›®å½• URL publicPath: '//js.cdn.com/id/', &#125;, resolve: &#123; // ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡æ˜ç¬¬ä¸‰æ–¹æ¨¡å—å­˜æ”¾çš„ä½ç½®ï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤ // å…¶ä¸­ __dirname è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½• modules: [path.resolve(__dirname, 'node_modules')], // åªé‡‡ç”¨ main å­—æ®µä½œä¸ºå…¥å£æ–‡ä»¶æè¿°å­—æ®µï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤ mainFields: ['jsnext:main', 'main'], &#125;, module: &#123; rules: [ &#123; // å¦‚æœé¡¹ç›®æºç ä¸­åªæœ‰ js æ–‡ä»¶å°±ä¸è¦å†™æˆ /\\.jsx?$/ï¼Œæå‡æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½ test: /\\.js$/, use: ['happypack/loader?id=babel'], // åªå¯¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ src ç›®å½•ä¸­çš„æ–‡ä»¶é‡‡ç”¨ babel-loader include: path.resolve(__dirname, 'src'), &#125;, &#123; test: /\\.js$/, use: ['happypack/loader?id=ui-component'], include: path.resolve(__dirname, 'src'), &#125;, &#123; // å¢åŠ å¯¹ CSS æ–‡ä»¶çš„æ”¯æŒ test: /\\.css/, // æå–å‡º Chunk ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ use: ExtractTextPlugin.extract(&#123; use: ['happypack/loader?id=css'], // æŒ‡å®šå­˜æ”¾ CSS ä¸­å¯¼å…¥çš„èµ„æºï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰çš„ CDN ç›®å½• URL publicPath: '//img.cdn.com/id/' &#125;), &#125;, ] &#125;, plugins: [ autoWebPlugin, // 4-14å¼€å¯ScopeHoisting new ModuleConcatenationPlugin(), // 4-3ä½¿ç”¨HappyPack new HappyPack(&#123; // ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦ id æ¥ä»£è¡¨å½“å‰çš„ HappyPack æ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶ id: 'babel', // babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯ loaders: ['babel-loader?cacheDirectory'], &#125;), new HappyPack(&#123; // UI ç»„ä»¶åŠ è½½æ‹†åˆ† id: 'ui-component', loaders: [&#123; loader: 'ui-component-loader', options: &#123; lib: 'antd', style: 'style/index.css', camel2: '-' &#125; &#125;], &#125;), new HappyPack(&#123; id: 'css', // å¦‚ä½•å¤„ç† .css æ–‡ä»¶ï¼Œç”¨æ³•å’Œ Loader é…ç½®ä¸­ä¸€æ · // é€šè¿‡ minimize é€‰é¡¹å‹ç¼© CSS ä»£ç  loaders: ['css-loader?minimize'], &#125;), new ExtractTextPlugin(&#123; // ç»™è¾“å‡ºçš„ CSS æ–‡ä»¶åç§°åŠ ä¸Š hash å€¼ filename: `[name]_[contenthash:8].css`, &#125;), // 4-11æå–å…¬å…±ä»£ç  new CommonsChunkPlugin(&#123; // ä» common å’Œ base ä¸¤ä¸ªç°æˆçš„ Chunk ä¸­æå–å…¬å…±çš„éƒ¨åˆ† chunks: ['common', 'base'], // æŠŠå…¬å…±çš„éƒ¨åˆ†æ”¾åˆ° base ä¸­ name: 'base' &#125;), new DefinePlugin(&#123; // å®šä¹‰ NODE_ENV ç¯å¢ƒå˜é‡ä¸º production å»é™¤ react ä»£ç ä¸­çš„å¼€å‘æ—¶æ‰éœ€è¦çš„éƒ¨åˆ† 'process.env': &#123; NODE_ENV: JSON.stringify('production') &#125; &#125;), // ä½¿ç”¨ ParallelUglifyPlugin å¹¶è¡Œå‹ç¼©è¾“å‡ºçš„ JS ä»£ç  new ParallelUglifyPlugin(&#123; // ä¼ é€’ç»™ UglifyJS çš„å‚æ•° uglifyJS: &#123; output: &#123; // æœ€ç´§å‡‘çš„è¾“å‡º beautify: false, // åˆ é™¤æ‰€æœ‰çš„æ³¨é‡Š comments: false, &#125;, compress: &#123; // åœ¨UglifyJsåˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ—¶ä¸è¾“å‡ºè­¦å‘Š warnings: false, // åˆ é™¤æ‰€æœ‰çš„ `console` è¯­å¥ï¼Œå¯ä»¥å…¼å®¹ieæµè§ˆå™¨ drop_console: true, // å†…åµŒå®šä¹‰äº†ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡ collapse_vars: true, // æå–å‡ºå‡ºç°å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼ reduce_vars: true, &#125; &#125;, &#125;), ]&#125;; å‚è€ƒèµ„æºã€Šæ·±å…¥æµ…å‡º webpackã€‹https://github.com/gwuhaolin/dive-into-webpack","tags":[]},{"title":"å…³äºå¼€æºç»„ä»¶","date":"2018-12-12T13:27:18.000Z","path":"2018/12/12/å…³äºå¼€æºç»„ä»¶/","text":"å®æˆ˜Reactä¸šåŠ¡ç»„ä»¶åº“ Â· è¯­é›€","tags":[]},{"title":"Function Programming","date":"2018-12-12T12:13:32.000Z","path":"2018/12/12/Function Programming/","text":"è§£å†³ä»€ä¹ˆé—®é¢˜äººå·¥æ™ºèƒ½ã€åŒºå—é“¾ã€ARã€VRã€æ–°é›¶å”®ç­‰ä¸šåŠ¡åœºæ™¯çš„å‡ºç°ï¼Œäº§å“ç•Œé¢äº¤äº’æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œéœ€è¦å¿«é€Ÿã€æ­£ç¡®ã€é«˜æ•ˆåœ°å¼€å‘å‡ºé«˜å¤æ‚åº¦é¡µé¢ã€‚ FP æœ‰ä»€ä¹ˆç‰¹ç‚¹JS è¯­è¨€ä¸­çš„å‡½æ•°ä¸åŒäº Java ï¼ŒC/C++ ç­‰è¯­è¨€, å¯ä»¥è¢«å½“åšå‚æ•°å’Œè¿”å›å€¼è¿›è¡Œä¼ é€’ å‡½æ•°ä¸ºä¸€ç­‰å…¬æ°‘ æ¨¡å—åŒ–ã€ç»„åˆ å¼•ç”¨é€æ˜ é¿å…çŠ¶æ€æ”¹å˜ é¿å…å…±äº«çŠ¶æ€ æ¡ˆä¾‹åˆ†åˆ«å®ç°æ•°ç»„æ‰€æœ‰å…ƒç´ ç›¸åŠ ã€ç›¸ä¹˜ã€ç›¸ä¸ï¼Ÿé FP é£æ ¼123456789101112131415161718192021222324function plus(array) &#123; var res = array[0]; for (let i = 1; i &lt; array.length; i++) &#123; res += array[i]; &#125;&#125;function mul(array) &#123; var res = array[0]; for (let i = 1; i &lt; array.length; i++) &#123; res *= array[i]; &#125;&#125;function and (array) &#123; var res = array[0]; for (let i = 1; i &lt; array.length; i++) &#123; res = res &amp; array[i]; &#125;&#125;plus(array);mul(array);and(array); FP é£æ ¼12345678910111213var ops = &#123; \"plus\": (x,y)=&gt;x+y, \"mul\" : (x,y)=&gt;x*y, \"and\" : (x,y)=&gt;x&amp;y&#125;function operation(op, array) &#123; return array.slice(1).reduce(ops[op], array[0]);&#125; operation(\"plus\", array);operation(\"mul\", array);operation(\"and\", array); React çš„ FPReact æ¡†æ¶ä¸­ï¼Œå½“ç”¨æˆ·æ“ä½œ UI æˆ–è€… API çš„è¿”å›å¸¦æ¥äº†æ•°æ®çš„æ”¹å˜ï¼ŒReact éšå³è¿›è¡Œ virtual dom diff è®¡ç®—å¾—åˆ° dom çš„ä¿®æ”¹æŒ‡ä»¤ï¼Œå¯¹ dom å…ƒç´ åº”ç”¨ä¿®æ”¹æŒ‡ä»¤ä¾¿å¾—åˆ°æœ€æ–°çš„ html ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸éš¾å‘ç°ï¼ŒReact å…¶å®æ˜¯åº”ç”¨æ•°æ®å¯¹UIçš„ä¸€ç§æ˜ å°„ï¼Œä¸åŒçš„æ•°æ®ä¼šæ˜ å°„å‡ºä¸åŒæ ·å¼çš„ UI ç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹çš„è¡¨è¾¾å¼ï¼š æ²¡é”™ï¼ŒReact çš„æœ¬è´¨å…¶å®æ˜¯ä¸€ç§å‡½æ•°ï¼Œå¹¶ä¸”è¿˜æ˜¯ç¬¦åˆ FP è¦æ±‚çš„â€œå¼•ç”¨é€æ˜â€å‡½æ•°ã€‚æ‰€è°“â€œå¼•ç”¨é€æ˜â€å°±æ˜¯æŒ‡å‡½æ•°çš„è¾“å‡ºä»…ä¾èµ–å‡½æ•°å‚æ•°ï¼Œä¸å—ä»»ä½•å¤–éƒ¨ç¯å¢ƒå½±å“ã€‚è¿™æ ·çš„å‡½æ•°å¯æµ‹è¯•æ€§å¼ºï¼Œä¹Ÿéå¸¸å®¹æ˜“è¿›è¡Œç»„åˆã€‚ åœ¨ React çš„ä½“ç³»ä¸‹ï¼Œä»»ä½•ç»„ä»¶éƒ½å¯ç”±ä¸€ä¸ªä¸ªæ›´å°çš„ç»„ä»¶æ„æˆï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªå…³å¿ƒè‡ªå·±çš„è¾“å…¥ï¼Œä»–ä»¬ä¸æ–­åœ°æ¥å—æ–°çš„æ•°æ®å¹¶è¾“å‡ºå¯¹åº”çš„æ–°çš„UIç•Œé¢ã€‚React æ¡†æ¶ä¸­å¸¸ç”¨çš„â€œé«˜é˜¶ç»„ä»¶â€å¯ä»¥çœ‹ä½œå¼•ç”¨é€æ˜â€å‡½æ•°çš„ç»„åˆæ¨¡å¼ã€‚ åœ¨å…·ä½“ä¸šåŠ¡ä¸­æˆ‘ä»¬é€šå¸¸è¿˜éœ€è¦æƒè¡¡ React ç»„ä»¶çš„å¤ç”¨æ€§å’Œå¼€å‘ä½“éªŒï¼Œå¦‚æœç»„ä»¶è¢«æ‹†åˆ†çš„è¿‡äºç»†ï¼Œå›ºç„¶å¤ç”¨æ€§ä¼šæå‡ï¼Œä½†æ–‡ä»¶æ•°é‡ä¼šå¢åŠ ï¼Œå¯¹åº”çš„æ–‡æ¡£å’Œæ²Ÿé€šæˆæœ¬ä¹Ÿä¼šå¢åŠ ï¼Œè¿™ä¹Ÿæ˜¯ FP åœ¨å®è·µè¿‡ç¨‹ä¸­ç»å¸¸é­äººè¯Ÿç—…çš„ç‚¹ï¼Œå³å¤ç”¨æ€§æå‡åå¸¦æ¥çš„é¢å¤–å¼€å‘æˆæœ¬ã€‚","tags":[]},{"title":"ä¸æƒ³å½“æ¶æ„å¸ˆçš„å‰ç«¯ä¸æ˜¯ä¸€åå¥½å‰ç«¯","date":"2018-12-08T12:52:10.000Z","path":"2018/12/08/ä¸æƒ³å½“æ¶æ„å¸ˆçš„å‰ç«¯ä¸æ˜¯ä¸€åå¥½å‰ç«¯/","text":"æ¶æ„å¸ˆèƒ½åŠ›æ¨¡å‹å›¢é˜Ÿç®¡ç†èƒ½åŠ›åœ¨çº¿è¿ç»´èƒ½åŠ› é¡¹ç›®ç®¡ç†èƒ½åŠ›æ€§èƒ½ä¼˜åŒ–èƒ½åŠ› æ¶æ„èƒ½åŠ›ç¼–ç¨‹èƒ½åŠ› è°ƒè¯•èƒ½åŠ› ç¼–è¯‘éƒ¨ç½²èƒ½åŠ›","tags":[]},{"title":"åšå®¢æ­å»º","date":"2018-12-08T12:48:16.000Z","path":"2018/12/08/åšå®¢æ­å»º/","text":"å‰è¨€è¯­é›€ æ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„çŸ¥è¯†ç®¡ç†ç½‘ç«™ï¼ˆç±»ä¼¼ GitBook)ï¼Œå®ƒçš„ç¼–è¾‘å™¨éå¸¸å¥½ç”¨ï¼Œè€Œä¸”æ”¯æŒå¯¼å‡º Markdownï¼Œè¿™ç¯‡æ–‡ç« æ˜¯æ•™ä½ å¦‚ä½•ä½¿ç”¨è¯­é›€çš„ç¼–è¾‘å™¨å†™é™æ€åšå®¢ã€‚è¿™é‡Œçš„é™æ€åšå®¢ç”¨äº† Hexoï¼ŒJekyll ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ åˆ›å»º Hexo åšå®¢å·²ç»æœ‰ Hexo åšå®¢çš„å¯ä»¥è·³è¿‡ã€‚å¦‚æœä½ æ˜¯ Jekyll ï¼Œä¹Ÿå¯ä»¥è·³è¿‡ã€‚ å®‰è£… Node.js å®‰è£… Hexo è„šæ‰‹æ¶ 1npm install -g hexo-cli åˆå§‹åŒ–ä¸€ä¸ªåšå®¢ 123hexo init &lt;folder&gt;cd &lt;folder&gt;npm install å…¶ä»–è®¾ç½®å’Œå‘½ä»¤è§ï¼šhttps://hexo.io/zh-cn/docs/ å®‰è£…è¯­é›€æ–‡ç« ä¸‹è½½æ’ä»¶yuque-hexo æ˜¯ä¸€ä¸ª Node.js ç¯å¢ƒä¸‹çš„è¯­é›€ä¸‹è½½å™¨ï¼Œä½¿ç”¨ npm å®‰è£… å®‰è£… yuque-hexo 1npm i -g yuque-hexo æ³¨å†Œè¯­é›€ï¼Œåˆ›å»ºçŸ¥è¯†åº“ï¼Œè·å¾—ä½ çš„ä¸ªäººè·¯å¾„å’ŒçŸ¥è¯†åº“çš„åå­—ï¼Œæ¯”å¦‚æˆ‘çš„åšå®¢çš„çŸ¥è¯†åº“æ˜¯ https://www.yuque.com/page/luan.ma åœ¨ Hexo åšå®¢çš„ç›®å½•ä¸‹é¢çš„ package.json ä¸­ï¼Œè¿›è¡Œä¸‹é¢çš„é…ç½® 12345678910&#123; \"name\": \"your hexo project\", //å¦‚æœåŸæ¥å·²ç»æœ‰è¿™ä¸ªä¸ç”¨å†åŠ äº†ï¼Œç›´æ¥åŠ ä¸‹é¢çš„å°±å¯ä»¥ \"yuqueConfig\": &#123; \"baseUrl\": \"https://www.yuque.com/api/v2\", \"login\": \"page\", \"repo\": \"luan.ma\", \"mdNameFormat\": \"slug\", \"postPath\": \"source/_posts/yuque\" &#125;&#125; å¦‚æœä¸æ˜¯ Hexo åšå®¢ï¼Œåˆ™éœ€è¦æŒ‰ç…§ä¸Šé¢çš„æ–‡ä»¶ä¿å­˜ä¸€ä¸ª package.json åˆ°åšå®¢ç›®å½•ï¼Œå¹¶ä¸”é…ç½® postPath ä¸ºæ­£ç¡®çš„æ–‡ç« ç›®å½• åŒæ­¥æ–‡ç« 1yuque-hexo sync PS: æ’ä»¶æ”¯æŒ Front-matterï¼Œåœ¨è¯­é›€å†™æ–‡ç« çš„æ—¶å€™ç›´æ¥å†™åœ¨å‰é¢ï¼Œç„¶åæ’å…¥ä¸€æ¡åˆ†å‰²çº¿å³å¯ï¼Œä¸å†™ä¹Ÿæ²¡é—®é¢˜ï¼š123tags: [Hexo]categories: æ•™ç¨‹date: 2018-10-05 10:43:50 å¯åŠ¨/éƒ¨ç½² Hexo åšå®¢ æœ¬åœ°å¯åŠ¨ï¼ˆè°ƒè¯•ç”¨ï¼‰ 1hexo s ç”Ÿæˆ html ä¸éƒ¨ç½² 1hexo g è‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨/é™æ€ç©ºé—´/git ï¼ˆéƒ¨ç½²ï¼‰ å…ˆæ‰¾åˆ°ä¸€ä¸ªéƒ¨ç½²æ’ä»¶ åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½ç›¸å…³çš„è´¦å·å¯†ç  åœ¨ hexo ä¸­ç”Ÿæˆ HTML å¹¶ä¸”éƒ¨ç½²1hexo g -d é™æ€åšå®¢ç©ºé—´é€‰æ‹© Github Pagesï¼š æ–¹ä¾¿ï¼Œä¸å¤ªç¨³å®šï¼ŒGitéƒ¨ç½² Coding.net Pagesï¼š éœ€è¦æŒ‚ä¸€ä¸ªé“¾æ¥ æˆ–è€… ä»˜è´¹ï¼Œé€Ÿåº¦å°šå¯ï¼ŒGitéƒ¨ç½² è…¾è®¯äº‘ COS + è…¾è®¯äº‘ CDNï¼šéœ€è¦å¤‡æ¡ˆï¼Œé€Ÿåº¦æå¿«ï¼ŒCOS æ’ä»¶éƒ¨ç½² è‡ªæœ‰æœåŠ¡å™¨ï¼šå¯å®šåˆ¶ï¼Œé€Ÿåº¦ä¸€èˆ¬ ï¼Œæ”¯æŒå¤šç§æ–¹å¼éƒ¨ç½² åè®°æ ¸å¿ƒæ˜¯æŠŠ yuque-hexo è¿™ä¸ªä¸œè¥¿ä»‹ç»ç»™å¤§å®¶ï¼Œæœ¬åšå®¢ç›®å‰ä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆåŒæ­¥è¯­é›€çš„æ–‡ç« ã€‚ å½“ç„¶ï¼Œå…³äº Hexo çš®è‚¤ã€è¯„è®ºæ’ä»¶ç­‰ç­‰ç©æ³•ä¹Ÿè¦æŠ˜è…¾å¾ˆä¹…ï¼Œæˆ‘å°±ä¸åœ¨è¿™ç¯‡æ–‡ç« é‡Œé¢è¯´äº†ã€‚","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://lulustyle.net/tags/Hexo/"}]}]